/*! For license information please see main.f2d90637.js.LICENSE.txt */
!function(){var e={5174:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(3395)),a=c(n(2791)),o=n(763),u=c(n(2007)),s=n(4046);function c(e){return e&&e.__esModule?e:{default:e}}var l=new(c(n(3666)).default),f=[0,30,60,90,120,150,180,210,240,270,300,330],h=[0,1.1,1,.9,.8,.7,.6,.5,.4,.3,.2,.1],d=function(e){return l.prefix({transform:"rotate("+f[e]+"deg)"})},p={height:"100%",left:0,position:"absolute",top:0,width:"100%"},v=function(e,t){var n=t.betterReactSpinkit,u=void 0===n?{}:n,c=e.color,l=e.defaultSize,f=e.name,v=e.size,m=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","defaultSize","name","size"]),y=(0,s.preside)(v,u.size,l),g={height:y,position:"relative",width:y},k=r({},(0,s.animate)({name:f,fillMode:"both"}),{borderRadius:"100%",height:"20%",margin:"0 auto",width:"20%"});return a.default.createElement(i.default,m,a.default.createElement("div",{style:g},(0,o.range)(12).map((function(e){return a.default.createElement("div",{key:e,style:r({},p,d(e))},a.default.createElement("div",{style:r({},k,(0,s.animate)({delay:"-"+h[e]+"s"}),{backgroundColor:(0,s.preside)(c,u.color,s.defaults.color)})}))}))))};v.contextTypes=s.defaults.contextTypes,v.propTypes={color:u.default.string,css:u.default.string.isRequired,defaultSize:u.default.number.isRequired,name:u.default.string.isRequired,size:u.default.number},t.default=v},3395:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(2791)),i=o(n(2007)),a=o(n(2756));function o(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.css,n=e.children,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["css","children"]);return r.default.createElement("span",i,r.default.createElement("style",{children:(0,a.default)(t)}),n)};u.propTypes={children:i.default.node,css:i.default.string.isRequired},t.default=u},7773:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(2791)),a=s(n(3395)),o=s(n(2007)),u=n(4046);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,o=void 0===n?{}:n,s=e.color,c=e.dotSize,l=e.scaleEnd,f=e.scaleStart,h=e.size,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","dotSize","scaleEnd","scaleStart","size"]),p=(0,u.animationName)("chasing-dots"),v=(0,u.preside)(h,o.size,18),m=r({},(0,u.animate)({name:p+"-rotate"}),{height:v,position:"relative",width:v}),y=r({},(0,u.animate)({name:p+"-bounce"}),{backgroundColor:s||o.color||u.defaults.color,borderRadius:"100%",display:"inline-block",height:c,position:"absolute",top:0,width:c}),g=r({},y,(0,u.animate)({delay:"-1.0s"}),{bottom:0,top:"auto"});return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+p+"-rotate {\n          100% {\n            -webkit-transform: rotate(360deg);\n                    transform: rotate(360deg);\n          }\n        }\n        @keyframes "+p+"-rotate {\n          100% {\n            -webkit-transform: rotate(360deg);\n                    transform: rotate(360deg);\n          }\n        }\n        @-webkit-keyframes "+p+"-bounce {\n          0%, 100% {\n            -webkit-transform: scale("+f+");\n                    transform: scale("+f+");\n          }\n          50% {\n            -webkit-transform: scale("+l+");\n                    transform: scale("+l+");\n          }\n        }\n        @keyframes "+p+"-bounce {\n          0%, 100% {\n            -webkit-transform: scale("+f+");\n                    transform: scale("+f+");\n          }\n          50% {\n            -webkit-transform: scale("+l+");\n                    transform: scale("+l+");\n          }\n        }\n      "},d),i.default.createElement("div",{style:m},i.default.createElement("div",{style:y}),i.default.createElement("div",{style:g})))};c.contextTypes=u.defaults.contextTypes,c.defaultProps={dotSize:"45%",scaleEnd:1,scaleStart:0,size:18},c.propTypes={color:o.default.string,dotSize:o.default.oneOfType([o.default.number,o.default.string]),scaleEnd:o.default.number,scaleStart:o.default.number,size:o.default.number},t.default=c},3177:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(2791)),a=s(n(2007)),o=s(n(5174)),u=n(4046);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.scaleEnd,n=e.scaleStart,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["scaleEnd","scaleStart"]),s=(0,u.animationName)("circle");return i.default.createElement(o.default,r({css:"\n        @-webkit-keyframes "+s+" {\n          0%, 80%, 100% {\n            -webkit-transform: scale("+n+");\n                    transform: scale("+n+");\n          }\n          40% {\n            -webkit-transform: scale("+t+");\n                    transform: scale("+t+");\n          }\n        }\n\n        @keyframes "+s+" {\n          0%, 80%, 100% {\n            -webkit-transform: scale("+n+");\n                    transform: scale("+n+");\n          } 40% {\n            -webkit-transform: scale("+t+");\n                    transform: scale("+t+");\n          }\n        }\n      ",defaultSize:22,name:s},a))};c.defaultProps={scaleEnd:.7,scaleStart:.4,size:22},c.propTypes={color:a.default.string,scaleEnd:a.default.number,scaleStart:a.default.number,size:a.default.number},t.default=c},7491:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(2791)),a=l(n(3395)),o=l(n(2007)),u=n(763),s=l(n(2933)),c=n(4046);function l(e){return e&&e.__esModule?e:{default:e}}var f=(0,u.memoize)(s.default),h=function(e,t){var n=t.betterReactSpinkit,o=void 0===n?{}:n,s=e.color,l=e.col,h=e.size,d=e.row,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","col","size","row"]),v=(0,c.animationName)("cube-grid"),m=(0,c.preside)(h,o.size,18),y={display:"flex",flexFlow:"row wrap",height:m,width:m},g=r({},(0,c.animate)({name:v}),{backgroundColor:(0,c.preside)(s,o.color,c.defaults.color),height:100/d+"%",width:100/l+"%"}),k=d*l;if(k>1e3)return null;var b=f(k);return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+v+" {\n          0%, 70%, 100% {\n            -webkit-transform: scale3D(1, 1, 1);\n                    transform: scale3D(1, 1, 1);\n          }\n          35% {\n            -webkit-transform: scale3D(0, 0, 1);\n                    transform: scale3D(0, 0, 1);\n          }\n        }\n        @keyframes "+v+" {\n          0%, 70%, 100% {\n            -webkit-transform: scale3D(1, 1, 1);\n                    transform: scale3D(1, 1, 1);\n          }\n          35% {\n            -webkit-transform: scale3D(0, 0, 1);\n                    transform: scale3D(0, 0, 1);\n          }\n        }\n      "},p),i.default.createElement("div",{style:y},(0,u.range)(k).map((function(e){return i.default.createElement("div",{key:e,style:r({},g,(0,c.animate)({delay:b[e]+"s"}))})}))))};h.contextTypes=c.defaults.contextTypes,h.defaultProps={col:3,row:3,size:18},h.propTypes={color:o.default.string,col:o.default.number,row:o.default.number,size:o.default.number},t.default=h},2933:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],n=0;n<e;n++)t.push((.9*Math.random()+.1).toFixed(2));return t}},2193:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(2791)),a=s(n(3395)),o=s(n(2007)),u=n(4046);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,o=void 0===n?{}:n,s=e.color,c=e.duration,l=e.scaleEnd,f=e.scaleStart,h=e.size,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","duration","scaleEnd","scaleStart","size"]),p=(0,u.animationName)("double-bounce"),v=(0,u.preside)(h,o.size,18),m={height:v,position:"relative",width:v},y=r({},(0,u.animate)({name:p,duration:c}),{backgroundColor:(0,u.preside)(s,o.color,u.defaults.color),borderRadius:"100%",height:"100%",opacity:.6,position:"absolute",top:0,left:0,width:"100%"});return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+p+" {\n          0%, 100% {\n            -webkit-transform: scale("+f+");\n                    transform: scale("+f+");\n          }\n          50% {\n            -webkit-transform: scale("+l+");\n                    transform: scale("+l+");\n          }\n        }\n        @keyframes "+p+" {\n          0%, 100% {\n            -webkit-transform: scale("+f+");\n                    transform: scale("+f+");\n          }\n          50% {\n            -webkit-transform: scale("+l+");\n                    transform: scale("+l+");\n          }\n        }\n      "},d),i.default.createElement("div",{style:m},i.default.createElement("div",{style:y}),i.default.createElement("div",{style:r({},y,(0,u.animate)({delay:"-1s"}))})))};c.contextTypes=u.defaults.contextTypes,c.defaultProps={duration:"2s",scaleEnd:1,scaleStart:0,size:18},c.propTypes={color:o.default.string,duration:o.default.string,scaleEnd:o.default.number,scaleStart:o.default.number,size:o.default.number},t.default=c},7399:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(2791)),a=s(n(2007)),o=s(n(5174)),u=n(4046);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.startOpacity,n=e.endOpacity,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["startOpacity","endOpacity"]),s=(0,u.animationName)("fading-circle");return i.default.createElement(o.default,r({css:"\n        @-webkit-keyframes "+s+" {\n          0%, 39%, 100% {\n            opacity: "+t+";\n          }\n          40% {\n            opacity: "+n+";\n          }\n        }\n        @keyframes "+s+" {\n          0%, 39%, 100% {\n            opacity: "+t+";\n          }\n          40% {\n            opacity: "+n+";\n          }\n        }\n      ",defaultSize:22,name:s},a))};c.defaultProps={endOpacity:1,size:22,startOpacity:0},c.propTypes={color:a.default.string,endOpacity:a.default.number,startOpacity:a.default.number,size:a.default.number},t.default=c},8435:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(e){case 1:return"0.3s";case 3:return"0.6s";case 2:return"0.9s";default:return!1}}},9712:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(e){case 1:return"90deg";case 3:return"180deg";case 2:return"270deg";default:return!1}}},2231:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=f(n(2791)),a=f(n(3395)),o=n(763),u=f(n(2007)),s=f(n(8435)),c=f(n(9712)),l=n(4046);function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e,t){var n=t.betterReactSpinkit,u=void 0===n?{}:n,f=e.color,h=e.duration,d=(e.secondBounceDelay,e.size),p=e.timingFunction,v=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","duration","secondBounceDelay","size","timingFunction"]),m=(0,l.animationName)("folding-cube"),y=(0,l.preside)(d,u.size,18),g={height:y,padding:y/4,position:"relative",transform:"rotateZ(45deg)",width:y,WebkitTransform:"rotateZ(45deg)"},k={float:"left",height:"50%",position:"relative",width:"50%",WebkitTransform:"scale(1.1)",MsTransform:"scale(1.1)",transform:"scale(1.1)"},b=r({},(0,l.animate)({name:m,duration:h,timingFunction:p}),{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:(0,l.preside)(f,u.color,l.defaults.color),WebkitTransformOrigin:"100% 100%",MsTransformOrigin:"100% 100%",TransformOrigin:"100% 100%"});return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+m+" {\n          0%, 10% {\n            -webkit-transform: perspective(140px) rotateX(-180deg);\n                    transform: perspective(140px) rotateX(-180deg);\n                    opacity: 0;\n          }\n          25%, 75% {\n            -webkit-transform: perspective(140px) rotateX(0deg);\n                    transform: perspective(140px) rotateX(0deg);\n                    opacity: 1;\n          }\n          90%, 100% {\n            -webkit-transform: perspective(140px) rotateY(180deg);\n                    transform: perspective(140px) rotateY(180deg);\n                    opacity: 0;\n          }\n        }\n        @keyframes "+m+" {\n          0%, 10% {\n            -webkit-transform: perspective(140px) rotateX(-180deg);\n                    transform: perspective(140px) rotateX(-180deg);\n                    opacity: 0;\n          }\n          25%, 75% {\n            -webkit-transform: perspective(140px) rotateX(0deg);\n                    transform: perspective(140px) rotateX(0deg);\n                    opacity: 1;\n          }\n          90%, 100% {\n            -webkit-transform: perspective(140px) rotateY(180deg);\n                    transform: perspective(140px) rotateY(180deg);\n                    opacity: 0;\n          }\n        }\n      "},v),i.default.createElement("div",{style:g},(0,o.range)(4).map((function(e){var t=(0,c.default)(e),n="scale(1.1) rotateZ("+t+")",a=(0,s.default)(e);return i.default.createElement("div",{key:e,style:r({},k,t?{transform:n,WebkitTransform:n}:{})},i.default.createElement("div",{style:r({},b,a?(0,l.animate)({delay:a}):{})}))}))))};h.contextTypes=l.defaults.contextTypes,h.defaultProps={duration:"2.4s",size:18,timingFunction:"linear"},h.propTypes={color:u.default.string,duration:u.default.string,size:u.default.number,timingFunction:u.default.oneOf(["linear","ease","ease-in","ease-out","ease-in-out"])},t.default=h},6740:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(2791)),a=s(n(3395)),o=s(n(2007)),u=n(4046);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,o=void 0===n?{}:n,s=e.color,c=e.duration,l=e.scaleEnd,f=e.scaleStart,h=e.size,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","duration","scaleEnd","scaleStart","size"]),p=(0,u.animationName)("pulse"),v=(0,u.preside)(h,o.size,20);return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+p+" {\n          0% {\n            -webkit-transform: scale("+f+");\n          }\n          100% {\n            -webkit-transform: scale("+l+");\n            opacity: 0;\n          }\n        }\n        @keyframes "+p+" {\n          0% {\n            -webkit-transform: scale("+f+");\n                    transform: scale("+f+");\n          }\n          100% {\n            -webkit-transform: scale("+l+");\n                    transform: scale("+l+");\n            opacity: 0;\n          }\n        }\n      "},d),i.default.createElement("div",{style:r({},(0,u.animate)({name:p,duration:c}),{backgroundColor:(0,u.preside)(s,o.color,u.defaults.color),borderRadius:"100%",height:v,width:v})}))};c.contextTypes=u.defaults.contextTypes,c.defaultProps={duration:"1s",scaleEnd:1,scaleStart:0,size:20},c.propTypes={color:o.default.string,duration:o.default.string,scaleEnd:o.default.number,scaleStart:o.default.number,size:o.default.number},t.default=c},9178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(2791)),a=s(n(3395)),o=s(n(2007)),u=n(4046);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,o=void 0===n?{}:n,s=e.color,c=e.duration,l=e.size,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","duration","size"]),h=(0,u.animationName)("rotating-plane"),d=(0,u.preside)(l,o.size,18);return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+h+" {\n          0% {\n            -webkit-transform: perspective(120px) rotateX(0deg) rotateY(0deg);\n                    transform: perspective(120px) rotateX(0deg) rotateY(0deg);\n          }\n          50% {\n            -webkit-transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);\n                    transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);\n          }\n          100% {\n            -webkit-transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);\n                    transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);\n          }\n        }\n        @keyframes "+h+" {\n          0% {\n            -webkit-transform: perspective(120px) rotateX(0deg) rotateY(0deg);\n                    transform: perspective(120px) rotateX(0deg) rotateY(0deg);\n          }\n          50% {\n            -webkit-transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);\n                    transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);\n          }\n          100% {\n            -webkit-transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);\n                    transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);\n          }\n        }\n      "},f),i.default.createElement("div",{style:r({},(0,u.animate)({name:h,duration:c}),{backgroundColor:(0,u.preside)(s,o.color,u.defaults.color),height:d,width:d})}))};c.contextTypes=u.defaults.contextTypes,c.propTypes={color:o.default.string,duration:o.default.string,size:o.default.number},c.defaultProps={duration:"1.2s",size:18},t.default=c},5299:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(2791)),a=s(n(3395)),o=s(n(2007)),u=n(4046);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,o=void 0===n?{}:n,s=e.color,c=e.duration,l=e.gutter,f=e.scaleEnd,h=e.scaleStart,d=e.size,p=e.timingFunction,v=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","duration","gutter","scaleEnd","scaleStart","size","timingFunction"]),m=(0,u.animationName)("three-bounce"),y=(0,u.preside)(d,o.size,10),g=r({},(0,u.animate)({duration:c,name:m,timingFunction:p}),{backgroundColor:(0,u.preside)(s,o.color,u.defaults.color),borderRadius:"100%",display:"inline-block",height:y,width:y});return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+m+" {\n          0%, 80%, 100% {\n            -webkit-transform: scale("+h+");\n          }\n          40% {\n            -webkit-transform: scale("+f+");\n          }\n        }\n\n        @keyframes "+m+" {\n          0%, 80%, 100% {\n            transform: scale("+h+");\n            -webkit-transform: scale("+h+");\n          }\n          40% {\n            transform: scale("+f+");\n            -webkit-transform: scale("+f+");\n          }\n        }\n      "},v),i.default.createElement("div",{style:r({},g,(0,u.animate)({delay:"-0.32s"}),{marginRight:l})}),i.default.createElement("div",{style:r({},g,(0,u.animate)({delay:"-0.16s"}),{marginRight:l})}),i.default.createElement("div",{style:r({},g)}))};c.contextTypes=u.defaults.contextTypes,c.defaultProps={duration:"1.5s",size:10,scaleEnd:1,scaleStart:0,gutter:2,timingFunction:"ease-in-out"},c.propTypes={color:o.default.string,duration:o.default.string,gutter:o.default.number,scaleEnd:o.default.number,scaleStart:o.default.number,size:o.default.number,timingFunction:o.default.oneOf(["linear","ease","ease-in","ease-out","ease-in-out"])},t.default=c},5219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(2791)),a=s(n(3395)),o=s(n(2007)),u=n(4046);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,o=void 0===n?{}:n,s=e.color,c=e.cubeSize,l=e.duration,f=e.size,h=e.timingFunction,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","cubeSize","duration","size","timingFunction"]),p=(0,u.animationName)("wandering-cubes"),v=(0,u.preside)(f,o.size,16),m={height:v,paddingBottom:c,paddingRight:c,position:"relative",width:v},y=r({},(0,u.animate)({name:p,duration:l,timingFunction:h}),{backgroundColor:(0,u.preside)(s,o.color,u.defaults.color),height:c,left:0,position:"absolute",top:0,width:c});return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+p+" {\n          25% { -webkit-transform: translateX("+v+"px) rotate(-90deg) scale(0.5) }\n          50% { -webkit-transform: translateX("+v+"px) translateY("+v+"px) rotate(-180deg) }\n          75% { -webkit-transform: translateX(0px) translateY("+v+"px) rotate(-270deg) scale(0.5) }\n          100% { -webkit-transform: rotate(-360deg) }\n        }\n        @keyframes "+p+" {\n          25% { \n            -webkit-transform: translateX("+v+"px) rotate(-90deg) scale(0.5);\n                    transform: translateX("+v+"px) rotate(-90deg) scale(0.5);\n          } 50% { \n            -webkit-transform: translateX("+v+"px) translateY("+v+"px) rotate(-179deg);\n                    transform: translateX("+v+"px) translateY("+v+"px) rotate(-179deg);\n          } 50.1% { \n            -webkit-transform: translateX("+v+"px) translateY("+v+"px) rotate(-180deg);\n                    transform: translateX("+v+"px) translateY("+v+"px) rotate(-180deg);\n          } 75% { \n            -webkit-transform: translateX(0px) translateY("+v+"px) rotate(-270deg) scale(0.5);\n                    transform: translateX(0px) translateY("+v+"px) rotate(-270deg) scale(0.5);\n          } 100% { \n            -webkit-transform: rotate(-360deg);\n                    transform: rotate(-360deg);\n          }\n        }\n      "},d),i.default.createElement("div",{style:m},i.default.createElement("div",{style:r({},y)}),i.default.createElement("div",{style:r({},y,(0,u.animate)({delay:"-0.9s"}))})))};c.propTypes={color:o.default.string,cubeSize:o.default.number,duration:o.default.string,size:o.default.number,timingFunction:o.default.oneOf(["linear","ease","ease-in","ease-out","ease-in-out"])},c.defaultProps={cubeSize:7,duration:"2s",size:16,timingFunction:"ease-in-out"},c.contextTypes=u.defaults.contextTypes,t.default=c},6819:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(2791)),a=c(n(3395)),o=n(763),u=c(n(2007)),s=n(4046);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t){var n=t.betterReactSpinkit,u=void 0===n?{}:n,c=e.color,l=e.columns,f=e.columnWidth,h=e.gutterWidth,d=e.reverse,p=e.scaleYEnd,v=e.scaleYStart,m=e.size,y=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","columns","columnWidth","gutterWidth","reverse","scaleYEnd","scaleYStart","size"]),g=(0,s.animationName)("wave"),k=(0,s.preside)(m,u.size,22),b={display:"flex",justifyContent:"space-between",height:k-.2*k,width:k},w=r({},(0,s.animate)({name:g}),{backgroundColor:c||u.color||s.defaults.color,height:"100%",width:f}),_=d?(0,o.range)(l).reverse():(0,o.range)(l);return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+g+" {\n          0%, 40%, 100% {\n            -webkit-transform: scaleY("+v+")\n          }\n          20% {\n            -webkit-transform: scaleY("+p+")\n          }\n        }\n        @keyframes "+g+" {\n          0%, 40%, 100% {\n            transform: scaleY("+v+");\n            -webkit-transform: scaleY("+v+");\n          }\n          20% {\n            transform: scaleY("+p+");\n            -webkit-transform: scaleY("+p+");\n          }\n        }\n      "},y),i.default.createElement("div",{style:b},_.map((function(e){return i.default.createElement("div",{key:e,style:r({},w,(0,s.animate)({delay:"-"+e/10+"s"}),{marginRight:e!==l?h:0})})}))))};l.propTypes={color:u.default.string,columns:u.default.number,columnWidth:u.default.oneOfType([u.default.string,u.default.number]),gutterWidth:u.default.number,reverse:u.default.bool,scaleYEnd:u.default.number,scaleYStart:u.default.number,size:u.default.number},l.defaultProps={columns:5,columnWidth:"20%",gutterWidth:1,reverse:!1,scaleYEnd:1,scaleYStart:.4,size:22},l.contextTypes=s.defaults.contextTypes,t.default=l},4998:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(2791)),a=s(n(3395)),o=s(n(2007)),u=n(4046);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,o=void 0===n?{}:n,s=e.color,c=e.duration,l=e.innerColor,f=e.innerSize,h=e.size,d=e.timingFunction,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","duration","innerColor","innerSize","size","timingFunction"]),v=(0,u.animationName)("wordpress"),m=(0,u.preside)(h,o.size,18),y=(0,u.preside)(f,null,m/4);return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+v+" {\n          0% {\n            -webkit-transform: rotate(0);\n                    transform: rotate(0);\n          }\n          100% {\n            -webkit-transform: rotate(360deg);\n                    transform: rotate(360deg);\n          }\n        }\n        @keyframes "+v+" {\n          0% {\n            -webkit-transform: rotate(0);\n                    transform: rotate(0);\n          }\n          100% {\n            -webkit-transform: rotate(360deg);\n                    transform: rotate(360deg);\n          }\n        }\n      "},p),i.default.createElement("div",{style:r({},(0,u.animate)({name:v,timingFunction:d,duration:c}),{backgroundColor:(0,u.preside)(s,o.color,u.defaults.color),borderRadius:m,display:"inline-block",height:m,position:"relative",width:m})},i.default.createElement("div",{style:{backgroundColor:l,borderRadius:y,display:"block",height:y,left:"18%",position:"absolute",top:"18%",width:y}})))};c.propTypes={color:o.default.string,duration:o.default.string,innerColor:o.default.string,innerSize:o.default.number,size:o.default.number,timingFunction:o.default.oneOf(["linear","ease","ease-in","ease-out","ease-in-out"])},c.defaultProps={duration:"2s",innerColor:"#fff",size:18,timingFunction:"linear"},c.contextTypes=u.defaults.contextTypes,t.default=c},8646:function(e,t,n){"use strict";var r=n(7773);var i=n(3177);Object.defineProperty(t,"Cd",{enumerable:!0,get:function(){return v(i).default}});var a=n(7491);var o=n(2193);var u=n(7399);var s=n(2231);var c=n(6740);var l=n(9178);var f=n(5299);var h=n(5219);var d=n(6819);var p=n(4998);function v(e){return e&&e.__esModule?e:{default:e}}},6883:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(763),a=n(892),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.delay,n=e.duration,r=e.fillMode,a=e.iterationCount,u=e.name,s=e.timingFunction;return u&&(n=n||"1.2s",a=a||"infinite",s=s||"ease-in-out"),(0,o.default)((0,i.omitBy)({animationDelay:t,animationDuration:n,animationFillMode:r,animationIterationCount:a,animationTimingFunction:s,animationName:u},(function(e){return!e})))}},7667:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"brsk-"+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"spinner")}},1854:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.color=t.propTypes=t.contextTypes=void 0;var r,i=n(2007),a=(r=i)&&r.__esModule?r:{default:r};t.contextTypes={betterReactSpinkit:a.default.shape({color:a.default.string,size:a.default.number})},t.propTypes={color:a.default.string,size:a.default.number},t.color="#333"},4046:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preside=t.defaults=t.animationName=t.animate=void 0;var r=n(6883);Object.defineProperty(t,"animate",{enumerable:!0,get:function(){return u(r).default}});var i=n(7667);Object.defineProperty(t,"animationName",{enumerable:!0,get:function(){return u(i).default}});var a=n(740);Object.defineProperty(t,"preside",{enumerable:!0,get:function(){return u(a).default}});var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1854));function u(e){return e&&e.__esModule?e:{default:e}}t.defaults=o},740:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return e&&e!==n?e:t||n}},4180:function(e,t,n){var r;r=function(){var e=!0;function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function r(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var i,o=n(/(ipod|iphone|ipad)/i).toLowerCase(),u=!/like android/i.test(t)&&/android/i.test(t),s=/nexus\s*[0-6]\s*/i.test(t),c=!s&&/nexus\s*[0-9]+/i.test(t),l=/CrOS/.test(t),f=/silk/i.test(t),h=/sailfish/i.test(t),d=/tizen/i.test(t),p=/(web|hpw)(o|0)s/i.test(t),v=/windows phone/i.test(t),m=(/SamsungBrowser/i.test(t),!v&&/windows/i.test(t)),y=!o&&!f&&/macintosh/i.test(t),g=!u&&!h&&!d&&!p&&/linux/i.test(t),k=r(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),b=n(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(t)&&!/tablet pc/i.test(t),_=!w&&/[^-]mobi/i.test(t),x=/xbox/i.test(t);/opera/i.test(t)?i={name:"Opera",opera:e,version:b||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?i={name:"Opera",opera:e,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||b}:/SamsungBrowser/i.test(t)?i={name:"Samsung Internet for Android",samsungBrowser:e,version:b||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(t)?i={name:"NAVER Whale browser",whale:e,version:n(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(t)?i={name:"MZ Browser",mzbrowser:e,version:n(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(t)?i={name:"Opera Coast",coast:e,version:b||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(t)?i={name:"Focus",focus:e,version:n(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(t)?i={name:"Yandex Browser",yandexbrowser:e,version:b||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?i={name:"UC Browser",ucbrowser:e,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?i={name:"Maxthon",maxthon:e,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?i={name:"Epiphany",epiphany:e,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?i={name:"Puffin",puffin:e,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?i={name:"Sleipnir",sleipnir:e,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?i={name:"K-Meleon",kMeleon:e,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:v?(i={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},k?(i.msedge=e,i.version=k):(i.msie=e,i.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?i={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:l?i={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?i={name:"Microsoft Edge",msedge:e,version:k}:/vivaldi/i.test(t)?i={name:"Vivaldi",vivaldi:e,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||b}:h?i={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?i={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(i={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(i.firefoxos=e,i.osname="Firefox OS")):f?i={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?i={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?i={name:"SlimerJS",slimer:e,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?i={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:b||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:p?(i={name:"WebOS",osname:"WebOS",webos:e,version:b||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(i.touchpad=e)):/bada/i.test(t)?i={name:"Bada",osname:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:d?i={name:"Tizen",osname:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||b}:/qupzilla/i.test(t)?i={name:"QupZilla",qupzilla:e,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||b}:/chromium/i.test(t)?i={name:"Chromium",chromium:e,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||b}:/chrome|crios|crmo/i.test(t)?i={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:u?i={name:"Android",version:b}:/safari|applewebkit/i.test(t)?(i={name:"Safari",safari:e},b&&(i.version=b)):o?(i={name:"iphone"==o?"iPhone":"ipad"==o?"iPad":"iPod"},b&&(i.version=b)):i=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:n(/googlebot\/(\d+(\.\d+))/i)||b}:{name:n(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(i.name=i.name||"Blink",i.blink=e):(i.name=i.name||"Webkit",i.webkit=e),!i.version&&b&&(i.version=b)):!i.opera&&/gecko\//i.test(t)&&(i.name=i.name||"Gecko",i.gecko=e,i.version=i.version||n(/gecko\/(\d+(\.\d+)?)/i)),i.windowsphone||!u&&!i.silk?!i.windowsphone&&o?(i[o]=e,i.ios=e,i.osname="iOS"):y?(i.mac=e,i.osname="macOS"):x?(i.xbox=e,i.osname="Xbox"):m?(i.windows=e,i.osname="Windows"):g&&(i.linux=e,i.osname="Linux"):(i.android=e,i.osname="Android");var S="";i.windows?S=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):i.windowsphone?S=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?S=(S=n(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):o?S=(S=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):u?S=n(/android[ \/-](\d+(\.\d+)*)/i):i.webos?S=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?S=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?S=n(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(S=n(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(i.osversion=S);var I=!i.windows&&S.split(".")[0];return w||c||"ipad"==o||u&&(3==I||I>=4&&!_)||i.silk?i.tablet=e:(_||"iphone"==o||"ipod"==o||u||s||i.blackberry||i.webos||i.bada)&&(i.mobile=e),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.whale&&1===a([i.version,"1.0"])||i.mzbrowser&&1===a([i.version,"6.0"])||i.focus&&1===a([i.version,"1.0"])||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=e:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=e:i.x=e,i}var n=t("undefined"!==typeof navigator&&navigator.userAgent||"");function r(e){return e.split(".").length}function i(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)r.push(t(e[n]));return r}function a(e){for(var t=Math.max(r(e[0]),r(e[1])),n=i(e,(function(e){var n=t-r(e);return i((e+=new Array(n+1).join(".0")).split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));--t>=0;){if(n[0][t]>n[1][t])return 1;if(n[0][t]!==n[1][t])return-1;if(0===t)return 0}}function o(e,r,i){var o=n;"string"===typeof r&&(i=r,r=void 0),void 0===r&&(r=!1),i&&(o=t(i));var u=""+o.version;for(var s in e)if(e.hasOwnProperty(s)&&o[s]){if("string"!==typeof e[s])throw new Error("Browser version in the minVersion map should be a string: "+s+": "+String(e));return a([u,e[s]])<0}return r}return n.test=function(e){for(var t=0;t<e.length;++t){var r=e[t];if("string"===typeof r&&r in n)return!0}return!1},n.isUnsupportedBrowser=o,n.compareVersions=a,n.check=function(e,t,n){return!o(e,t,n)},n._detect=t,n.detect=t,n},e.exports?e.exports=r():n.amdD("bowser",r)},8546:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e)};var r,i=n(7630),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},5216:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e&&n.test(e)};var n=/-webkit-|-moz-|-ms-/;e.exports=t.default},9635:function(e,t){"use strict";var n=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;t.G=function(e){if(!e)return!1;if(e.length>254)return!1;if(!n.test(e))return!1;var t=e.split("@");return!(t[0].length>64)&&!t[1].split(".").some((function(e){return e.length>63}))}},7630:function(e,t,n){"use strict";n.r(t);var r=/[A-Z]/g,i=/^ms-/,a={};function o(e){return"-"+e.toLowerCase()}t.default=function(e){if(a.hasOwnProperty(e))return a[e];var t=e.replace(r,o);return a[e]=i.test(t)?"-"+t:t}},1674:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=e.prefixMap,n=e.plugins,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r="undefined"!==typeof navigator?navigator.userAgent:void 0;if(this._userAgent=n.userAgent||r,this._keepUnprefixed=n.keepUnprefixed||!1,this._userAgent&&(this._browserInfo=(0,i.default)(this._userAgent)),!this._browserInfo||!this._browserInfo.cssPrefix)return this._useFallback=!0,!1;this.prefixedKeyframes=(0,a.default)(this._browserInfo.browserName,this._browserInfo.browserVersion,this._browserInfo.cssPrefix);var o=this._browserInfo.browserName&&t[this._browserInfo.browserName];if(o){for(var u in this._requiresPrefix={},o)o[u]>=this._browserInfo.browserVersion&&(this._requiresPrefix[u]=!0);this._hasPropsRequiringPrefix=Object.keys(this._requiresPrefix).length>0}else this._useFallback=!0;this._metaData={browserVersion:this._browserInfo.browserVersion,browserName:this._browserInfo.browserName,cssPrefix:this._browserInfo.cssPrefix,jsPrefix:this._browserInfo.jsPrefix,keepUnprefixed:this._keepUnprefixed,requiresPrefix:this._requiresPrefix}}return r(e,[{key:"prefix",value:function(e){return this._useFallback?l(e):this._hasPropsRequiringPrefix?this._prefixStyle(e):e}},{key:"_prefixStyle",value:function(e){for(var t in e){var r=e[t];if((0,s.default)(r))e[t]=this.prefix(r);else if(Array.isArray(r)){for(var i=[],a=0,l=r.length;a<l;++a){var f=(0,c.default)(n,t,r[a],e,this._metaData);(0,u.default)(i,f||r[a])}i.length>0&&(e[t]=i)}else{var h=(0,c.default)(n,t,r,e,this._metaData);h&&(e[t]=h),this._requiresPrefix.hasOwnProperty(t)&&(e[this._browserInfo.jsPrefix+(0,o.default)(t)]=r,this._keepUnprefixed||delete e[t])}}return e}}],[{key:"prefixAll",value:function(e){return l(e)}}]),e}()};var i=l(n(7882)),a=l(n(9222)),o=l(n(7255)),u=l(n(8516)),s=l(n(1614)),c=l(n(4715));function l(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},3095:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={plugins:[],prefixMap:{chrome:{appearance:64,userSelect:53,textEmphasisPosition:64,textEmphasis:64,textEmphasisStyle:64,textEmphasisColor:64,boxDecorationBreak:64,clipPath:54,maskImage:64,maskMode:64,maskRepeat:64,maskPosition:64,maskClip:64,maskOrigin:64,maskSize:64,maskComposite:64,mask:64,maskBorderSource:64,maskBorderMode:64,maskBorderSlice:64,maskBorderWidth:64,maskBorderOutset:64,maskBorderRepeat:64,maskBorder:64,maskType:64,textDecorationStyle:56,textDecorationSkip:56,textDecorationLine:56,textDecorationColor:56,filter:52,fontFeatureSettings:47,breakAfter:49,breakBefore:49,breakInside:49,columnCount:49,columnFill:49,columnGap:49,columnRule:49,columnRuleColor:49,columnRuleStyle:49,columnRuleWidth:49,columns:49,columnSpan:49,columnWidth:49,writingMode:47},safari:{flex:8,flexBasis:8,flexDirection:8,flexGrow:8,flexFlow:8,flexShrink:8,flexWrap:8,alignContent:8,alignItems:8,alignSelf:8,justifyContent:8,order:8,transform:8,transformOrigin:8,transformOriginX:8,transformOriginY:8,backfaceVisibility:8,perspective:8,perspectiveOrigin:8,transformStyle:8,transformOriginZ:8,animation:8,animationDelay:8,animationDirection:8,animationFillMode:8,animationDuration:8,animationIterationCount:8,animationName:8,animationPlayState:8,animationTimingFunction:8,appearance:11,userSelect:11,backdropFilter:11,fontKerning:9,scrollSnapType:10.1,scrollSnapPointsX:10.1,scrollSnapPointsY:10.1,scrollSnapDestination:10.1,scrollSnapCoordinate:10.1,boxDecorationBreak:11,clipPath:11,maskImage:11,maskMode:11,maskRepeat:11,maskPosition:11,maskClip:11,maskOrigin:11,maskSize:11,maskComposite:11,mask:11,maskBorderSource:11,maskBorderMode:11,maskBorderSlice:11,maskBorderWidth:11,maskBorderOutset:11,maskBorderRepeat:11,maskBorder:11,maskType:11,textDecorationStyle:11,textDecorationSkip:11,textDecorationLine:11,textDecorationColor:11,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:11,flowInto:11,flowFrom:11,breakBefore:8,breakAfter:8,breakInside:8,regionFragment:11,columnCount:8,columnFill:8,columnGap:8,columnRule:8,columnRuleColor:8,columnRuleStyle:8,columnRuleWidth:8,columns:8,columnSpan:8,columnWidth:8,writingMode:11},firefox:{appearance:58,userSelect:58,textAlignLast:48,tabSize:58,hyphens:42,breakAfter:51,breakBefore:51,breakInside:51,columnCount:51,columnFill:51,columnGap:51,columnRule:51,columnRuleColor:51,columnRuleStyle:51,columnRuleWidth:51,columns:51,columnSpan:51,columnWidth:51},opera:{flex:16,flexBasis:16,flexDirection:16,flexGrow:16,flexFlow:16,flexShrink:16,flexWrap:16,alignContent:16,alignItems:16,alignSelf:16,justifyContent:16,order:16,transform:22,transformOrigin:22,transformOriginX:22,transformOriginY:22,backfaceVisibility:22,perspective:22,perspectiveOrigin:22,transformStyle:22,transformOriginZ:22,animation:29,animationDelay:29,animationDirection:29,animationFillMode:29,animationDuration:29,animationIterationCount:29,animationName:29,animationPlayState:29,animationTimingFunction:29,appearance:49,userSelect:40,fontKerning:19,textEmphasisPosition:49,textEmphasis:49,textEmphasisStyle:49,textEmphasisColor:49,boxDecorationBreak:49,clipPath:41,maskImage:49,maskMode:49,maskRepeat:49,maskPosition:49,maskClip:49,maskOrigin:49,maskSize:49,maskComposite:49,mask:49,maskBorderSource:49,maskBorderMode:49,maskBorderSlice:49,maskBorderWidth:49,maskBorderOutset:49,maskBorderRepeat:49,maskBorder:49,maskType:49,textDecorationStyle:43,textDecorationSkip:43,textDecorationLine:43,textDecorationColor:43,filter:39,fontFeatureSettings:34,breakAfter:36,breakBefore:36,breakInside:36,columnCount:36,columnFill:36,columnGap:36,columnRule:36,columnRuleColor:36,columnRuleStyle:36,columnRuleWidth:36,columns:36,columnSpan:36,columnWidth:36,writingMode:34},ie:{userSelect:11,wrapFlow:11,wrapThrough:11,wrapMargin:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,hyphens:11,flowInto:11,flowFrom:11,breakBefore:11,breakAfter:11,breakInside:11,regionFragment:11,gridTemplateColumns:11,gridTemplateRows:11,gridTemplateAreas:11,gridTemplate:11,gridAutoColumns:11,gridAutoRows:11,gridAutoFlow:11,grid:11,gridRowStart:11,gridColumnStart:11,gridRowEnd:11,gridRow:11,gridColumn:11,gridColumnEnd:11,gridColumnGap:11,gridRowGap:11,gridArea:11,gridGap:11,textSizeAdjust:11,writingMode:11},edge:{userSelect:16,wrapFlow:16,wrapThrough:16,wrapMargin:16,scrollSnapType:16,scrollSnapPointsX:16,scrollSnapPointsY:16,scrollSnapDestination:16,scrollSnapCoordinate:16,hyphens:16,flowInto:16,flowFrom:16,breakBefore:16,breakAfter:16,breakInside:16,regionFragment:16,gridTemplateColumns:15,gridTemplateRows:15,gridTemplateAreas:15,gridTemplate:15,gridAutoColumns:15,gridAutoRows:15,gridAutoFlow:15,grid:15,gridRowStart:15,gridColumnStart:15,gridRowEnd:15,gridRow:15,gridColumn:15,gridColumnEnd:15,gridColumnGap:15,gridRowGap:15,gridArea:15,gridGap:15},ios_saf:{flex:8.1,flexBasis:8.1,flexDirection:8.1,flexGrow:8.1,flexFlow:8.1,flexShrink:8.1,flexWrap:8.1,alignContent:8.1,alignItems:8.1,alignSelf:8.1,justifyContent:8.1,order:8.1,transform:8.1,transformOrigin:8.1,transformOriginX:8.1,transformOriginY:8.1,backfaceVisibility:8.1,perspective:8.1,perspectiveOrigin:8.1,transformStyle:8.1,transformOriginZ:8.1,animation:8.1,animationDelay:8.1,animationDirection:8.1,animationFillMode:8.1,animationDuration:8.1,animationIterationCount:8.1,animationName:8.1,animationPlayState:8.1,animationTimingFunction:8.1,appearance:11,userSelect:11,backdropFilter:11,fontKerning:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,boxDecorationBreak:11,clipPath:11,maskImage:11,maskMode:11,maskRepeat:11,maskPosition:11,maskClip:11,maskOrigin:11,maskSize:11,maskComposite:11,mask:11,maskBorderSource:11,maskBorderMode:11,maskBorderSlice:11,maskBorderWidth:11,maskBorderOutset:11,maskBorderRepeat:11,maskBorder:11,maskType:11,textSizeAdjust:11,textDecorationStyle:11,textDecorationSkip:11,textDecorationLine:11,textDecorationColor:11,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:11,flowInto:11,flowFrom:11,breakBefore:8.1,breakAfter:8.1,breakInside:8.1,regionFragment:11,columnCount:8.1,columnFill:8.1,columnGap:8.1,columnRule:8.1,columnRuleColor:8.1,columnRuleStyle:8.1,columnRuleWidth:8.1,columns:8.1,columnSpan:8.1,columnWidth:8.1,writingMode:11},android:{borderImage:4.2,borderImageOutset:4.2,borderImageRepeat:4.2,borderImageSlice:4.2,borderImageSource:4.2,borderImageWidth:4.2,flex:4.2,flexBasis:4.2,flexDirection:4.2,flexGrow:4.2,flexFlow:4.2,flexShrink:4.2,flexWrap:4.2,alignContent:4.2,alignItems:4.2,alignSelf:4.2,justifyContent:4.2,order:4.2,transition:4.2,transitionDelay:4.2,transitionDuration:4.2,transitionProperty:4.2,transitionTimingFunction:4.2,transform:4.4,transformOrigin:4.4,transformOriginX:4.4,transformOriginY:4.4,backfaceVisibility:4.4,perspective:4.4,perspectiveOrigin:4.4,transformStyle:4.4,transformOriginZ:4.4,animation:4.4,animationDelay:4.4,animationDirection:4.4,animationFillMode:4.4,animationDuration:4.4,animationIterationCount:4.4,animationName:4.4,animationPlayState:4.4,animationTimingFunction:4.4,appearance:56,userSelect:4.4,fontKerning:4.4,textEmphasisPosition:56,textEmphasis:56,textEmphasisStyle:56,textEmphasisColor:56,boxDecorationBreak:56,clipPath:4.4,maskImage:56,maskMode:56,maskRepeat:56,maskPosition:56,maskClip:56,maskOrigin:56,maskSize:56,maskComposite:56,mask:56,maskBorderSource:56,maskBorderMode:56,maskBorderSlice:56,maskBorderWidth:56,maskBorderOutset:56,maskBorderRepeat:56,maskBorder:56,maskType:56,filter:4.4,fontFeatureSettings:4.4,breakAfter:4.4,breakBefore:4.4,breakInside:4.4,columnCount:4.4,columnFill:4.4,columnGap:4.4,columnRule:4.4,columnRuleColor:4.4,columnRuleStyle:4.4,columnRuleWidth:4.4,columns:4.4,columnSpan:4.4,columnWidth:4.4,writingMode:4.4},and_chr:{appearance:61,textEmphasisPosition:61,textEmphasis:61,textEmphasisStyle:61,textEmphasisColor:61,boxDecorationBreak:61,maskImage:61,maskMode:61,maskRepeat:61,maskPosition:61,maskClip:61,maskOrigin:61,maskSize:61,maskComposite:61,mask:61,maskBorderSource:61,maskBorderMode:61,maskBorderSlice:61,maskBorderWidth:61,maskBorderOutset:61,maskBorderRepeat:61,maskBorder:61,maskType:61},and_uc:{flex:11.4,flexBasis:11.4,flexDirection:11.4,flexGrow:11.4,flexFlow:11.4,flexShrink:11.4,flexWrap:11.4,alignContent:11.4,alignItems:11.4,alignSelf:11.4,justifyContent:11.4,order:11.4,transform:11.4,transformOrigin:11.4,transformOriginX:11.4,transformOriginY:11.4,backfaceVisibility:11.4,perspective:11.4,perspectiveOrigin:11.4,transformStyle:11.4,transformOriginZ:11.4,animation:11.4,animationDelay:11.4,animationDirection:11.4,animationFillMode:11.4,animationDuration:11.4,animationIterationCount:11.4,animationName:11.4,animationPlayState:11.4,animationTimingFunction:11.4,appearance:11.4,userSelect:11.4,textEmphasisPosition:11.4,textEmphasis:11.4,textEmphasisStyle:11.4,textEmphasisColor:11.4,clipPath:11.4,maskImage:11.4,maskMode:11.4,maskRepeat:11.4,maskPosition:11.4,maskClip:11.4,maskOrigin:11.4,maskSize:11.4,maskComposite:11.4,mask:11.4,maskBorderSource:11.4,maskBorderMode:11.4,maskBorderSlice:11.4,maskBorderWidth:11.4,maskBorderOutset:11.4,maskBorderRepeat:11.4,maskBorder:11.4,maskType:11.4,textSizeAdjust:11.4,filter:11.4,hyphens:11.4,fontFeatureSettings:11.4,breakAfter:11.4,breakBefore:11.4,breakInside:11.4,columnCount:11.4,columnFill:11.4,columnGap:11.4,columnRule:11.4,columnRuleColor:11.4,columnRuleStyle:11.4,columnRuleWidth:11.4,columns:11.4,columnSpan:11.4,columnWidth:11.4,writingMode:11.4},op_mini:{}}},e.exports=t.default},3666:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(1674)),i=m(n(2830)),a=m(n(6028)),o=m(n(1680)),u=m(n(504)),s=m(n(8517)),c=m(n(2970)),l=m(n(1976)),f=m(n(4560)),h=m(n(7242)),d=m(n(6701)),p=m(n(892)),v=m(n(3095));function m(e){return e&&e.__esModule?e:{default:e}}var y=[a.default,i.default,o.default,s.default,c.default,l.default,f.default,h.default,d.default,u.default],g=(0,r.default)({prefixMap:v.default.prefixMap,plugins:y},p.default);t.default=g,e.exports=t.default},6028:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,o=r.browserVersion,u=r.cssPrefix,s=r.keepUnprefixed;if("string"===typeof t&&t.indexOf("cross-fade(")>-1&&("chrome"===i||"opera"===i||"and_chr"===i||("ios_saf"===i||"safari"===i)&&o<10))return(0,a.default)(t.replace(/cross-fade\(/g,u+"cross-fade("),t,s)};var r,i=n(3946),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},2830:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,s=r.browserVersion,c=r.cssPrefix,l=r.keepUnprefixed;if("cursor"===e&&o[t]&&("firefox"===i||"chrome"===i||"safari"===i||"opera"===i))return(0,a.default)(c+t,t,l);if("cursor"===e&&u[t]&&("firefox"===i&&s<24||"chrome"===i&&s<37||"safari"===i&&s<9||"opera"===i&&s<24))return(0,a.default)(c+t,t,l)};var r,i=n(3946),a=(r=i)&&r.__esModule?r:{default:r};var o={grab:!0,grabbing:!0},u={"zoom-in":!0,"zoom-out":!0};e.exports=t.default},1680:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,o=r.browserVersion,u=r.cssPrefix,s=r.keepUnprefixed;if("string"===typeof t&&t.indexOf("filter(")>-1&&("ios_saf"===i||"safari"===i&&o<9.1))return(0,a.default)(t.replace(/filter\(/g,u+"filter("),t,s)};var r,i=n(3946),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},504:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,u=r.browserVersion,s=r.cssPrefix,c=r.keepUnprefixed;if("display"===e&&o[t]&&("chrome"===i&&u<29&&u>20||("safari"===i||"ios_saf"===i)&&u<9&&u>6||"opera"===i&&(15===u||16===u)))return(0,a.default)(s+t,t,c)};var r,i=n(3946),a=(r=i)&&r.__esModule?r:{default:r};var o={flex:!0,"inline-flex":!0};e.exports=t.default},8517:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,c=r.browserVersion,l=r.cssPrefix,f=r.keepUnprefixed,h=r.requiresPrefix;if((s.indexOf(e)>-1||"display"===e&&"string"===typeof t&&t.indexOf("flex")>-1)&&("firefox"===i&&c<22||"chrome"===i&&c<21||("safari"===i||"ios_saf"===i)&&c<=6.1||"android"===i&&c<4.4||"and_uc"===i)){if(delete h[e],f||Array.isArray(n[e])||delete n[e],"flexDirection"===e&&"string"===typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),"display"===e&&o.hasOwnProperty(t))return(0,a.default)(l+o[t],t,f);u.hasOwnProperty(e)&&(n[u[e]]=o[t]||t)}};var r,i=n(3946),a=(r=i)&&r.__esModule?r:{default:r};var o={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},u={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"},s=Object.keys(u).concat(["alignContent","alignSelf","order","flexGrow","flexShrink","flexBasis","flexDirection"]);e.exports=t.default},2970:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,u=r.browserVersion,s=r.cssPrefix,c=r.keepUnprefixed;if("string"===typeof t&&o.test(t)&&("firefox"===i&&u<16||"chrome"===i&&u<26||("safari"===i||"ios_saf"===i)&&u<7||("opera"===i||"op_mini"===i)&&u<12.1||"android"===i&&u<4.4||"and_uc"===i))return(0,a.default)(s+t,t,c)};var r,i=n(3946),a=(r=i)&&r.__esModule?r:{default:r};var o=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},1976:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,o=r.cssPrefix,u=r.keepUnprefixed;if("string"===typeof t&&t.indexOf("image-set(")>-1&&("chrome"===i||"opera"===i||"and_chr"===i||"and_uc"===i||"ios_saf"===i||"safari"===i))return(0,a.default)(t.replace(/image-set\(/g,o+"image-set("),t,u)};var r,i=n(3946),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},4560:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,o=r.cssPrefix,u=r.keepUnprefixed;if("position"===e&&"sticky"===t&&("safari"===i||"ios_saf"===i))return(0,a.default)(o+t,t,u)};var r,i=n(3946),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},7242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.cssPrefix,s=r.keepUnprefixed;if(o.hasOwnProperty(e)&&u.hasOwnProperty(t))return(0,a.default)(i+t,t,s)};var r,i=n(3946),a=(r=i)&&r.__esModule?r:{default:r};var o={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},u={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},6701:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.cssPrefix,s=r.keepUnprefixed,c=r.requiresPrefix;if("string"===typeof t&&o.hasOwnProperty(e)){u||(u=Object.keys(c).map((function(e){return(0,a.default)(e)})));var l=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g);return u.forEach((function(e){l.forEach((function(t,n){t.indexOf(e)>-1&&"order"!==e&&(l[n]=t.replace(e,i+e)+(s?","+t:""))}))})),l.join(",")}};var r,i=n(8546),a=(r=i)&&r.__esModule?r:{default:r};var o={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},u=void 0;e.exports=t.default},5193:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prefixMap,n=e.plugins;return function e(u){for(var s in u){var c=u[s];if((0,o.default)(c))u[s]=e(c);else if(Array.isArray(c)){for(var l=[],f=0,h=c.length;f<h;++f){var d=(0,i.default)(n,s,c[f],u,t);(0,a.default)(l,d||c[f])}l.length>0&&(u[s]=l)}else{var p=(0,i.default)(n,s,c,u,t);p&&(u[s]=p),(0,r.default)(t,s,u)}}return u}};var r=u(n(8183)),i=u(n(4715)),a=u(n(8516)),o=u(n(1614));function u(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},892:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(5193)),i=v(n(9169)),a=v(n(4053)),o=v(n(4370)),u=v(n(6840)),s=v(n(4751)),c=v(n(48)),l=v(n(4810)),f=v(n(8574)),h=v(n(9091)),d=v(n(6312)),p=v(n(4500));function v(e){return e&&e.__esModule?e:{default:e}}var m=[o.default,a.default,u.default,c.default,l.default,f.default,h.default,d.default,p.default,s.default];t.default=(0,r.default)({prefixMap:i.default.prefixMap,plugins:m}),e.exports=t.default},4370:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,a.default)(t)&&t.indexOf("cross-fade(")>-1)return o.map((function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")}))};var r,i=n(5216),a=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-",""];e.exports=t.default},4053:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&r.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};e.exports=t.default},6840:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,a.default)(t)&&t.indexOf("filter(")>-1)return o.map((function(e){return t.replace(/filter\(/g,e+"filter(")}))};var r,i=n(5216),a=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-",""];e.exports=t.default},4751:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("display"===e&&n.hasOwnProperty(t))return n[t]};var n={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};e.exports=t.default},48:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){"flexDirection"===e&&"string"===typeof t&&(t.indexOf("column")>-1?i.WebkitBoxOrient="vertical":i.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?i.WebkitBoxDirection="reverse":i.WebkitBoxDirection="normal");r.hasOwnProperty(e)&&(i[r[e]]=n[t]||t)};var n={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},r={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};e.exports=t.default},4810:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,a.default)(t)&&u.test(t))return o.map((function(e){return e+t}))};var r,i=n(5216),a=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-","-moz-",""],u=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},8574:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,a.default)(t)&&t.indexOf("image-set(")>-1)return o.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))};var r,i=n(5216),a=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-",""];e.exports=t.default},9091:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]},e.exports=t.default},6312:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(r.hasOwnProperty(e)&&i.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},4500:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){if("string"===typeof t&&u.hasOwnProperty(e)){var c=function(e,t){if((0,i.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),a=0,o=n.length;a<o;++a){var u=n[a],c=[u];for(var l in t){var f=(0,r.default)(l);if(u.indexOf(f)>-1&&"order"!==f)for(var h=t[l],d=0,p=h.length;d<p;++d)c.unshift(u.replace(f,s[h[d]]+f))}n[a]=c.join(",")}return n.join(",")}(t,o),l=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return l;var f=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?f:(n["Webkit"+(0,a.default)(e)]=l,n["Moz"+(0,a.default)(e)]=f,c)}};var r=o(n(8546)),i=o(n(5216)),a=o(n(7255));function o(e){return e&&e.__esModule?e:{default:e}}var u={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},s={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};e.exports=t.default},9169:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["Webkit"],r=["Moz"],i=["ms"],a=["Webkit","Moz"],o=["Webkit","ms"],u=["Webkit","Moz","ms"];t.default={plugins:[],prefixMap:{appearance:a,userSelect:u,textEmphasisPosition:n,textEmphasis:n,textEmphasisStyle:n,textEmphasisColor:n,boxDecorationBreak:n,clipPath:n,maskImage:n,maskMode:n,maskRepeat:n,maskPosition:n,maskClip:n,maskOrigin:n,maskSize:n,maskComposite:n,mask:n,maskBorderSource:n,maskBorderMode:n,maskBorderSlice:n,maskBorderWidth:n,maskBorderOutset:n,maskBorderRepeat:n,maskBorder:n,maskType:n,textDecorationStyle:n,textDecorationSkip:n,textDecorationLine:n,textDecorationColor:n,filter:n,fontFeatureSettings:n,breakAfter:u,breakBefore:u,breakInside:u,columnCount:a,columnFill:a,columnGap:a,columnRule:a,columnRuleColor:a,columnRuleStyle:a,columnRuleWidth:a,columns:a,columnSpan:a,columnWidth:a,writingMode:o,flex:n,flexBasis:n,flexDirection:n,flexGrow:n,flexFlow:n,flexShrink:n,flexWrap:n,alignContent:n,alignItems:n,alignSelf:n,justifyContent:n,order:n,transform:n,transformOrigin:n,transformOriginX:n,transformOriginY:n,backfaceVisibility:n,perspective:n,perspectiveOrigin:n,transformStyle:n,transformOriginZ:n,animation:n,animationDelay:n,animationDirection:n,animationFillMode:n,animationDuration:n,animationIterationCount:n,animationName:n,animationPlayState:n,animationTimingFunction:n,backdropFilter:n,fontKerning:n,scrollSnapType:o,scrollSnapPointsX:o,scrollSnapPointsY:o,scrollSnapDestination:o,scrollSnapCoordinate:o,shapeImageThreshold:n,shapeImageMargin:n,shapeImageOutside:n,hyphens:u,flowInto:o,flowFrom:o,regionFragment:o,textAlignLast:r,tabSize:r,wrapFlow:i,wrapThrough:i,wrapMargin:i,gridTemplateColumns:i,gridTemplateRows:i,gridTemplateAreas:i,gridTemplate:i,gridAutoColumns:i,gridAutoRows:i,gridAutoFlow:i,grid:i,gridRowStart:i,gridColumnStart:i,gridRowEnd:i,gridRow:i,gridColumn:i,gridColumnEnd:i,gridColumnGap:i,gridRowGap:i,gridArea:i,gridGap:i,textSizeAdjust:o,borderImage:n,borderImageOutset:n,borderImageRepeat:n,borderImageSlice:n,borderImageSource:n,borderImageWidth:n,transitionDelay:n,transitionDuration:n,transitionProperty:n,transitionTimingFunction:n}},e.exports=t.default},8516:function(e,t){"use strict";function n(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)n(e,t[r]);else n(e,t)},e.exports=t.default},7255:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.exports=t.default},7882:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=a.default._detect(e);t.yandexbrowser&&(t=a.default._detect(e.replace(/YaBrowser\/[0-9.]*/,"")));for(var n in o)if(t.hasOwnProperty(n)){var r=o[n];t.jsPrefix=r,t.cssPrefix="-"+r.toLowerCase()+"-";break}t.browserName=function(e){if(e.firefox)return"firefox";if(e.mobile||e.tablet){if(e.ios)return"ios_saf";if(e.android)return"android";if(e.opera)return"op_mini"}for(var t in u)if(e.hasOwnProperty(t))return u[t]}(t),t.version?t.browserVersion=parseFloat(t.version):t.browserVersion=parseInt(parseFloat(t.osversion),10);t.osVersion=parseFloat(t.osversion),"ios_saf"===t.browserName&&t.browserVersion>t.osVersion&&(t.browserVersion=t.osVersion);"android"===t.browserName&&t.chrome&&t.browserVersion>37&&(t.browserName="and_chr");"android"===t.browserName&&t.osVersion<5&&(t.browserVersion=t.osVersion);"android"===t.browserName&&t.samsungBrowser&&(t.browserName="and_chr",t.browserVersion=44);return t};var r,i=n(4180),a=(r=i)&&r.__esModule?r:{default:r};var o={chrome:"Webkit",safari:"Webkit",ios:"Webkit",android:"Webkit",phantom:"Webkit",opera:"Webkit",webos:"Webkit",blackberry:"Webkit",bada:"Webkit",tizen:"Webkit",chromium:"Webkit",vivaldi:"Webkit",firefox:"Moz",seamoney:"Moz",sailfish:"Moz",msie:"ms",msedge:"ms"},u={chrome:"chrome",chromium:"chrome",safari:"safari",firfox:"firefox",msedge:"edge",opera:"opera",vivaldi:"opera",msie:"ie"};e.exports=t.default},9222:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r="keyframes";if("chrome"===e&&t<43||("safari"===e||"ios_saf"===e)&&t<9||"opera"===e&&t<30||"android"===e&&t<=4.4||"and_uc"===e)return n+r;return r},e.exports=t.default},3946:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(n)return[e,t];return e},e.exports=t.default},1614:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)},e.exports=t.default},8183:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(e.hasOwnProperty(t))for(var r=e[t],i=0,o=r.length;i<o;++i)n[r[i]+(0,a.default)(t)]=n[t]};var r,i=n(7255),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},4715:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){for(var a=0,o=e.length;a<o;++a){var u=e[a](t,n,r,i);if(u)return u}},e.exports=t.default},763:function(e,t,n){var r;e=n.nmd(e),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",u="__lodash_placeholder__",s=16,c=32,l=64,f=128,h=256,d=1/0,p=9007199254740991,v=NaN,m=4294967295,y=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",c],["partialRight",l],["rearg",h]],g="[object Arguments]",k="[object Array]",b="[object Boolean]",w="[object Date]",_="[object Error]",x="[object Function]",S="[object GeneratorFunction]",I="[object Map]",E="[object Number]",T="[object Object]",C="[object Promise]",A="[object RegExp]",O="[object Set]",N="[object String]",P="[object Symbol]",R="[object WeakMap]",D="[object ArrayBuffer]",M="[object DataView]",L="[object Float32Array]",F="[object Float64Array]",j="[object Int8Array]",z="[object Int16Array]",U="[object Int32Array]",V="[object Uint8Array]",B="[object Uint8ClampedArray]",q="[object Uint16Array]",W="[object Uint32Array]",G=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,$=RegExp(Q.source),X=RegExp(Y.source),J=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ie.source),oe=/^\s+/,ue=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ke=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,Se="\\ud800-\\udfff",Ie="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\ufe0e\\ufe0f",Oe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ne="['\u2019]",Pe="["+Se+"]",Re="["+Oe+"]",De="["+Ie+"]",Me="\\d+",Le="["+Ee+"]",Fe="["+Te+"]",je="[^"+Se+Oe+Me+Ee+Te+Ce+"]",ze="\\ud83c[\\udffb-\\udfff]",Ue="[^"+Se+"]",Ve="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="["+Ce+"]",We="\\u200d",Ge="(?:"+Fe+"|"+je+")",Ke="(?:"+qe+"|"+je+")",He="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Qe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+De+"|"+ze+")"+"?",$e="["+Ae+"]?",Xe=$e+Ye+("(?:"+We+"(?:"+[Ue,Ve,Be].join("|")+")"+$e+Ye+")*"),Je="(?:"+[Le,Ve,Be].join("|")+")"+Xe,Ze="(?:"+[Ue+De+"?",De,Ve,Be,Pe].join("|")+")",et=RegExp(Ne,"g"),tt=RegExp(De,"g"),nt=RegExp(ze+"(?="+ze+")|"+Ze+Xe,"g"),rt=RegExp([qe+"?"+Fe+"+"+He+"(?="+[Re,qe,"$"].join("|")+")",Ke+"+"+Qe+"(?="+[Re,qe+Ge,"$"].join("|")+")",qe+"?"+Ge+"+"+He,qe+"+"+Qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,Je].join("|"),"g"),it=RegExp("["+We+Se+Ie+Ae+"]"),at=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ut=-1,st={};st[L]=st[F]=st[j]=st[z]=st[U]=st[V]=st[B]=st[q]=st[W]=!0,st[g]=st[k]=st[D]=st[b]=st[M]=st[w]=st[_]=st[x]=st[I]=st[E]=st[T]=st[A]=st[O]=st[N]=st[R]=!1;var ct={};ct[g]=ct[k]=ct[D]=ct[M]=ct[b]=ct[w]=ct[L]=ct[F]=ct[j]=ct[z]=ct[U]=ct[I]=ct[E]=ct[T]=ct[A]=ct[O]=ct[N]=ct[P]=ct[V]=ct[B]=ct[q]=ct[W]=!0,ct[_]=ct[x]=ct[R]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ft=parseFloat,ht=parseInt,dt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,vt=dt||pt||Function("return this")(),mt=t&&!t.nodeType&&t,yt=mt&&e&&!e.nodeType&&e,gt=yt&&yt.exports===mt,kt=gt&&dt.process,bt=function(){try{var e=yt&&yt.require&&yt.require("util").types;return e||kt&&kt.binding&&kt.binding("util")}catch(t){}}(),wt=bt&&bt.isArrayBuffer,_t=bt&&bt.isDate,xt=bt&&bt.isMap,St=bt&&bt.isRegExp,It=bt&&bt.isSet,Et=bt&&bt.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ct(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Rt(e,t){return!!(null==e?0:e.length)&&qt(e,t,0)>-1}function Dt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Lt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ft(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function jt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function zt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ut=Ht("length");function Vt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Bt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function qt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Bt(e,Gt,n)}function Wt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function Gt(e){return e!==e}function Kt(e,t){var n=null==e?0:e.length;return n?$t(e,t)/n:v}function Ht(e){return function(t){return null==t?i:t[e]}}function Qt(e){return function(t){return null==e?i:e[t]}}function Yt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function $t(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Xt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Jt(e){return e?e.slice(0,mn(e)+1).replace(oe,""):e}function Zt(e){return function(t){return e(t)}}function en(e,t){return Mt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&qt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&qt(t,e[n],0)>-1;);return n}var an=Qt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function un(e){return"\\"+lt[e]}function sn(e){return it.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function fn(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==u||(e[n]=u,a[i++]=n)}return a}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return sn(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Ut(e)}function vn(e){return sn(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&ue.test(e.charAt(t)););return t}var yn=Qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gn=function e(t){var n=(t=null==t?vt:gn.defaults(vt.Object(),t,gn.pick(vt,ot))).Array,r=t.Date,ue=t.Error,Se=t.Function,Ie=t.Math,Ee=t.Object,Te=t.RegExp,Ce=t.String,Ae=t.TypeError,Oe=n.prototype,Ne=Se.prototype,Pe=Ee.prototype,Re=t["__core-js_shared__"],De=Ne.toString,Me=Pe.hasOwnProperty,Le=0,Fe=function(){var e=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),je=Pe.toString,ze=De.call(Ee),Ue=vt._,Ve=Te("^"+De.call(Me).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=gt?t.Buffer:i,qe=t.Symbol,We=t.Uint8Array,Ge=Be?Be.allocUnsafe:i,Ke=ln(Ee.getPrototypeOf,Ee),He=Ee.create,Qe=Pe.propertyIsEnumerable,Ye=Oe.splice,$e=qe?qe.isConcatSpreadable:i,Xe=qe?qe.iterator:i,Je=qe?qe.toStringTag:i,Ze=function(){try{var e=fa(Ee,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==vt.clearTimeout&&t.clearTimeout,it=r&&r.now!==vt.Date.now&&r.now,lt=t.setTimeout!==vt.setTimeout&&t.setTimeout,dt=Ie.ceil,pt=Ie.floor,mt=Ee.getOwnPropertySymbols,yt=Be?Be.isBuffer:i,kt=t.isFinite,bt=Oe.join,Ut=ln(Ee.keys,Ee),Qt=Ie.max,kn=Ie.min,bn=r.now,wn=t.parseInt,_n=Ie.random,xn=Oe.reverse,Sn=fa(t,"DataView"),In=fa(t,"Map"),En=fa(t,"Promise"),Tn=fa(t,"Set"),Cn=fa(t,"WeakMap"),An=fa(Ee,"create"),On=Cn&&new Cn,Nn={},Pn=Fa(Sn),Rn=Fa(In),Dn=Fa(En),Mn=Fa(Tn),Ln=Fa(Cn),Fn=qe?qe.prototype:i,jn=Fn?Fn.valueOf:i,zn=Fn?Fn.toString:i;function Un(e){if(tu(e)&&!Wo(e)&&!(e instanceof Wn)){if(e instanceof qn)return e;if(Me.call(e,"__wrapped__"))return ja(e)}return new qn(e)}var Vn=function(){function e(){}return function(t){if(!eu(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Bn(){}function qn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new Kn(e);this.size=t.size}function $n(e,t){var n=Wo(e),r=!n&&qo(e),i=!n&&!r&&Qo(e),a=!n&&!r&&!i&&cu(e),o=n||r||i||a,u=o?Xt(e.length,Ce):[],s=u.length;for(var c in e)!t&&!Me.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ga(c,s))||u.push(c);return u}function Xn(e){var t=e.length;return t?e[Qr(0,t-1)]:i}function Jn(e,t){return Da(Ai(e),ur(t,0,e.length))}function Zn(e){return Da(Ai(e))}function er(e,t,n){(n!==i&&!Uo(e[t],n)||n===i&&!(t in e))&&ar(e,t,n)}function tr(e,t,n){var r=e[t];Me.call(e,t)&&Uo(r,n)&&(n!==i||t in e)||ar(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Uo(e[n][0],t))return n;return-1}function rr(e,t,n,r){return hr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ir(e,t){return e&&Oi(t,Nu(t),e)}function ar(e,t,n){"__proto__"==t&&Ze?Ze(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var r=-1,a=t.length,o=n(a),u=null==e;++r<a;)o[r]=u?i:Eu(e,t[r]);return o}function ur(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function sr(e,t,n,r,a,o){var u,s=1&t,c=2&t,l=4&t;if(n&&(u=a?n(e,r,a,o):n(e)),u!==i)return u;if(!eu(e))return e;var f=Wo(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Me.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return Ai(e,u)}else{var h=pa(e),d=h==x||h==S;if(Qo(e))return xi(e,s);if(h==T||h==g||d&&!a){if(u=c||d?{}:ma(e),!s)return c?function(e,t){return Oi(e,da(e),t)}(e,function(e,t){return e&&Oi(t,Pu(t),e)}(u,e)):function(e,t){return Oi(e,ha(e),t)}(e,ir(u,e))}else{if(!ct[h])return a?e:{};u=function(e,t,n){var r=e.constructor;switch(t){case D:return Si(e);case b:case w:return new r(+e);case M:return function(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case F:case j:case z:case U:case V:case B:case q:case W:return Ii(e,n);case I:return new r;case E:case N:return new r(e);case A:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case O:return new r;case P:return i=e,jn?Ee(jn.call(i)):{}}var i}(e,h,s)}}o||(o=new Yn);var p=o.get(e);if(p)return p;o.set(e,u),ou(e)?e.forEach((function(r){u.add(sr(r,t,n,r,e,o))})):nu(e)&&e.forEach((function(r,i){u.set(i,sr(r,t,n,i,e,o))}));var v=f?i:(l?c?ia:ra:c?Pu:Nu)(e);return At(v||e,(function(r,i){v&&(r=e[i=r]),tr(u,i,sr(r,t,n,i,e,o))})),u}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ee(e);r--;){var a=n[r],o=t[a],u=e[a];if(u===i&&!(a in e)||!o(u))return!1}return!0}function lr(e,t,n){if("function"!=typeof e)throw new Ae(a);return Oa((function(){e.apply(i,n)}),t)}function fr(e,t,n,r){var i=-1,a=Rt,o=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=Mt(t,Zt(n))),r?(a=Dt,o=!1):t.length>=200&&(a=tn,o=!1,t=new Qn(t));e:for(;++i<u;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,o&&f===f){for(var h=c;h--;)if(t[h]===f)continue e;s.push(l)}else a(t,f,r)||s.push(l)}return s}Un.templateSettings={escape:J,evaluate:Z,interpolate:ee,variable:"",imports:{_:Un}},Un.prototype=Bn.prototype,Un.prototype.constructor=Un,qn.prototype=Vn(Bn.prototype),qn.prototype.constructor=qn,Wn.prototype=Vn(Bn.prototype),Wn.prototype.constructor=Wn,Gn.prototype.clear=function(){this.__data__=An?An(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(An){var n=t[e];return n===o?i:n}return Me.call(t,e)?t[e]:i},Gn.prototype.has=function(e){var t=this.__data__;return An?t[e]!==i:Me.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=An&&t===i?o:t,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,!0)},Kn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?i:t[n][1]},Kn.prototype.has=function(e){return nr(this.__data__,e)>-1},Kn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(In||Kn),string:new Gn}},Hn.prototype.delete=function(e){var t=ca(this,e).delete(e);return this.size-=t?1:0,t},Hn.prototype.get=function(e){return ca(this,e).get(e)},Hn.prototype.has=function(e){return ca(this,e).has(e)},Hn.prototype.set=function(e,t){var n=ca(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Qn.prototype.add=Qn.prototype.push=function(e){return this.__data__.set(e,o),this},Qn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new Kn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Kn){var r=n.__data__;if(!In||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(e,t),this.size=n.size,this};var hr=Ri(br),dr=Ri(wr,!0);function pr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function vr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],u=t(o);if(null!=u&&(s===i?u===u&&!su(u):n(u,s)))var s=u,c=o}return c}function mr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function yr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ya),i||(i=[]);++a<o;){var u=e[a];t>0&&n(u)?t>1?yr(u,t-1,n,r,i):Lt(i,u):r||(i[i.length]=u)}return i}var gr=Di(),kr=Di(!0);function br(e,t){return e&&gr(e,t,Nu)}function wr(e,t){return e&&kr(e,t,Nu)}function _r(e,t){return Pt(t,(function(t){return Xo(e[t])}))}function xr(e,t){for(var n=0,r=(t=ki(t,e)).length;null!=e&&n<r;)e=e[La(t[n++])];return n&&n==r?e:i}function Sr(e,t,n){var r=t(e);return Wo(e)?r:Lt(r,n(e))}function Ir(e){return null==e?e===i?"[object Undefined]":"[object Null]":Je&&Je in Ee(e)?function(e){var t=Me.call(e,Je),n=e[Je];try{e[Je]=i;var r=!0}catch(o){}var a=je.call(e);r&&(t?e[Je]=n:delete e[Je]);return a}(e):function(e){return je.call(e)}(e)}function Er(e,t){return e>t}function Tr(e,t){return null!=e&&Me.call(e,t)}function Cr(e,t){return null!=e&&t in Ee(e)}function Ar(e,t,r){for(var a=r?Dt:Rt,o=e[0].length,u=e.length,s=u,c=n(u),l=1/0,f=[];s--;){var h=e[s];s&&t&&(h=Mt(h,Zt(t))),l=kn(h.length,l),c[s]=!r&&(t||o>=120&&h.length>=120)?new Qn(s&&h):i}h=e[0];var d=-1,p=c[0];e:for(;++d<o&&f.length<l;){var v=h[d],m=t?t(v):v;if(v=r||0!==v?v:0,!(p?tn(p,m):a(f,m,r))){for(s=u;--s;){var y=c[s];if(!(y?tn(y,m):a(e[s],m,r)))continue e}p&&p.push(m),f.push(v)}}return f}function Or(e,t,n){var r=null==(e=Ta(e,t=ki(t,e)))?e:e[La(Ya(t))];return null==r?i:Tt(r,e,n)}function Nr(e){return tu(e)&&Ir(e)==g}function Pr(e,t,n,r,a){return e===t||(null==e||null==t||!tu(e)&&!tu(t)?e!==e&&t!==t:function(e,t,n,r,a,o){var u=Wo(e),s=Wo(t),c=u?k:pa(e),l=s?k:pa(t),f=(c=c==g?T:c)==T,h=(l=l==g?T:l)==T,d=c==l;if(d&&Qo(e)){if(!Qo(t))return!1;u=!0,f=!1}if(d&&!f)return o||(o=new Yn),u||cu(e)?ta(e,t,n,r,a,o):function(e,t,n,r,i,a,o){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!a(new We(e),new We(t)));case b:case w:case E:return Uo(+e,+t);case _:return e.name==t.name&&e.message==t.message;case A:case N:return e==t+"";case I:var u=cn;case O:var s=1&r;if(u||(u=hn),e.size!=t.size&&!s)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var l=ta(u(e),u(t),r,i,a,o);return o.delete(e),l;case P:if(jn)return jn.call(e)==jn.call(t)}return!1}(e,t,c,n,r,a,o);if(!(1&n)){var p=f&&Me.call(e,"__wrapped__"),v=h&&Me.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,y=v?t.value():t;return o||(o=new Yn),a(m,y,n,r,o)}}if(!d)return!1;return o||(o=new Yn),function(e,t,n,r,a,o){var u=1&n,s=ra(e),c=s.length,l=ra(t),f=l.length;if(c!=f&&!u)return!1;var h=c;for(;h--;){var d=s[h];if(!(u?d in t:Me.call(t,d)))return!1}var p=o.get(e),v=o.get(t);if(p&&v)return p==t&&v==e;var m=!0;o.set(e,t),o.set(t,e);var y=u;for(;++h<c;){var g=e[d=s[h]],k=t[d];if(r)var b=u?r(k,g,d,t,e,o):r(g,k,d,e,t,o);if(!(b===i?g===k||a(g,k,n,r,o):b)){m=!1;break}y||(y="constructor"==d)}if(m&&!y){var w=e.constructor,_=t.constructor;w==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(m=!1)}return o.delete(e),o.delete(t),m}(e,t,n,r,a,o)}(e,t,n,r,Pr,a))}function Rr(e,t,n,r){var a=n.length,o=a,u=!r;if(null==e)return!o;for(e=Ee(e);a--;){var s=n[a];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){var c=(s=n[a])[0],l=e[c],f=s[1];if(u&&s[2]){if(l===i&&!(c in e))return!1}else{var h=new Yn;if(r)var d=r(l,f,c,e,t,h);if(!(d===i?Pr(f,l,3,r,h):d))return!1}}return!0}function Dr(e){return!(!eu(e)||(t=e,Fe&&Fe in t))&&(Xo(e)?Ve:ge).test(Fa(e));var t}function Mr(e){return"function"==typeof e?e:null==e?rs:"object"==typeof e?Wo(e)?Vr(e[0],e[1]):Ur(e):hs(e)}function Lr(e){if(!xa(e))return Ut(e);var t=[];for(var n in Ee(e))Me.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!eu(e))return function(e){var t=[];if(null!=e)for(var n in Ee(e))t.push(n);return t}(e);var t=xa(e),n=[];for(var r in e)("constructor"!=r||!t&&Me.call(e,r))&&n.push(r);return n}function jr(e,t){return e<t}function zr(e,t){var r=-1,i=Ko(e)?n(e.length):[];return hr(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}function Ur(e){var t=la(e);return 1==t.length&&t[0][2]?Ia(t[0][0],t[0][1]):function(n){return n===e||Rr(n,e,t)}}function Vr(e,t){return ba(e)&&Sa(t)?Ia(La(e),t):function(n){var r=Eu(n,e);return r===i&&r===t?Tu(n,e):Pr(t,r,3)}}function Br(e,t,n,r,a){e!==t&&gr(t,(function(o,u){if(a||(a=new Yn),eu(o))!function(e,t,n,r,a,o,u){var s=Ca(e,n),c=Ca(t,n),l=u.get(c);if(l)return void er(e,n,l);var f=o?o(s,c,n+"",e,t,u):i,h=f===i;if(h){var d=Wo(c),p=!d&&Qo(c),v=!d&&!p&&cu(c);f=c,d||p||v?Wo(s)?f=s:Ho(s)?f=Ai(s):p?(h=!1,f=xi(c,!0)):v?(h=!1,f=Ii(c,!0)):f=[]:iu(c)||qo(c)?(f=s,qo(s)?f=yu(s):eu(s)&&!Xo(s)||(f=ma(c))):h=!1}h&&(u.set(c,f),a(f,c,r,o,u),u.delete(c));er(e,n,f)}(e,t,u,n,Br,r,a);else{var s=r?r(Ca(e,u),o,u+"",e,t,a):i;s===i&&(s=o),er(e,u,s)}}),Pu)}function qr(e,t){var n=e.length;if(n)return ga(t+=t<0?n:0,n)?e[t]:i}function Wr(e,t,n){t=t.length?Mt(t,(function(e){return Wo(e)?function(t){return xr(t,1===e.length?e[0]:e)}:e})):[rs];var r=-1;t=Mt(t,Zt(sa()));var i=zr(e,(function(e,n,i){var a=Mt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,u=n.length;for(;++r<o;){var s=Ei(i[r],a[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],u=xr(e,o);n(u,o)&&Zr(a,ki(o,e),u)}return a}function Kr(e,t,n,r){var i=r?Wt:qt,a=-1,o=t.length,u=e;for(e===t&&(t=Ai(t)),n&&(u=Mt(e,Zt(n)));++a<o;)for(var s=0,c=t[a],l=n?n(c):c;(s=i(u,l,s,r))>-1;)u!==e&&Ye.call(u,s,1),Ye.call(e,s,1);return e}function Hr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ga(i)?Ye.call(e,i,1):fi(e,i)}}return e}function Qr(e,t){return e+pt(_n()*(t-e+1))}function Yr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function $r(e,t){return Na(Ea(e,t,rs),e+"")}function Xr(e){return Xn(Uu(e))}function Jr(e,t){var n=Uu(e);return Da(n,ur(t,0,n.length))}function Zr(e,t,n,r){if(!eu(e))return e;for(var a=-1,o=(t=ki(t,e)).length,u=o-1,s=e;null!=s&&++a<o;){var c=La(t[a]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=u){var f=s[c];(l=r?r(f,c,s):i)===i&&(l=eu(f)?f:ga(t[a+1])?[]:{})}tr(s,c,l),s=s[c]}return e}var ei=On?function(e,t){return On.set(e,t),e}:rs,ti=Ze?function(e,t){return Ze(e,"toString",{configurable:!0,enumerable:!1,value:es(t),writable:!0})}:rs;function ni(e){return Da(Uu(e))}function ri(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=n(a);++i<a;)o[i]=e[i+t];return o}function ii(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!su(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return oi(e,t,rs,n)}function oi(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var u=(t=n(t))!==t,s=null===t,c=su(t),l=t===i;a<o;){var f=pt((a+o)/2),h=n(e[f]),d=h!==i,p=null===h,v=h===h,m=su(h);if(u)var y=r||v;else y=l?v&&(r||d):s?v&&d&&(r||!p):c?v&&d&&!p&&(r||!m):!p&&!m&&(r?h<=t:h<t);y?a=f+1:o=f}return kn(o,4294967294)}function ui(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],u=t?t(o):o;if(!n||!Uo(u,s)){var s=u;a[i++]=0===o?0:o}}return a}function si(e){return"number"==typeof e?e:su(e)?v:+e}function ci(e){if("string"==typeof e)return e;if(Wo(e))return Mt(e,ci)+"";if(su(e))return zn?zn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function li(e,t,n){var r=-1,i=Rt,a=e.length,o=!0,u=[],s=u;if(n)o=!1,i=Dt;else if(a>=200){var c=t?null:Yi(e);if(c)return hn(c);o=!1,i=tn,s=new Qn}else s=t?[]:u;e:for(;++r<a;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,o&&f===f){for(var h=s.length;h--;)if(s[h]===f)continue e;t&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u}function fi(e,t){return null==(e=Ta(e,t=ki(t,e)))||delete e[La(Ya(t))]}function hi(e,t,n,r){return Zr(e,t,n(xr(e,t)),r)}function di(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ri(e,r?0:a,r?a+1:i):ri(e,r?a+1:0,r?i:a)}function pi(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Ft(t,(function(e,t){return t.func.apply(t.thisArg,Lt([e],t.args))}),n)}function vi(e,t,r){var i=e.length;if(i<2)return i?li(e[0]):[];for(var a=-1,o=n(i);++a<i;)for(var u=e[a],s=-1;++s<i;)s!=a&&(o[a]=fr(o[a]||u,e[s],t,r));return li(yr(o,1),t,r)}function mi(e,t,n){for(var r=-1,a=e.length,o=t.length,u={};++r<a;){var s=r<o?t[r]:i;n(u,e[r],s)}return u}function yi(e){return Ho(e)?e:[]}function gi(e){return"function"==typeof e?e:rs}function ki(e,t){return Wo(e)?e:ba(e,t)?[e]:Ma(gu(e))}var bi=$r;function wi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ri(e,t,n)}var _i=nt||function(e){return vt.clearTimeout(e)};function xi(e,t){if(t)return e.slice();var n=e.length,r=Ge?Ge(n):new e.constructor(n);return e.copy(r),r}function Si(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Ii(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ei(e,t){if(e!==t){var n=e!==i,r=null===e,a=e===e,o=su(e),u=t!==i,s=null===t,c=t===t,l=su(t);if(!s&&!l&&!o&&e>t||o&&u&&c&&!s&&!l||r&&u&&c||!n&&c||!a)return 1;if(!r&&!o&&!l&&e<t||l&&n&&a&&!r&&!o||s&&n&&a||!u&&a||!c)return-1}return 0}function Ti(e,t,r,i){for(var a=-1,o=e.length,u=r.length,s=-1,c=t.length,l=Qt(o-u,0),f=n(c+l),h=!i;++s<c;)f[s]=t[s];for(;++a<u;)(h||a<o)&&(f[r[a]]=e[a]);for(;l--;)f[s++]=e[a++];return f}function Ci(e,t,r,i){for(var a=-1,o=e.length,u=-1,s=r.length,c=-1,l=t.length,f=Qt(o-s,0),h=n(f+l),d=!i;++a<f;)h[a]=e[a];for(var p=a;++c<l;)h[p+c]=t[c];for(;++u<s;)(d||a<o)&&(h[p+r[u]]=e[a++]);return h}function Ai(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Oi(e,t,n,r){var a=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var s=t[o],c=r?r(n[s],e[s],s,n,e):i;c===i&&(c=e[s]),a?ar(n,s,c):tr(n,s,c)}return n}function Ni(e,t){return function(n,r){var i=Wo(n)?Ct:rr,a=t?t():{};return i(n,e,sa(r,2),a)}}function Pi(e){return $r((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,u=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,u&&ka(n[0],n[1],u)&&(o=a<3?i:o,a=1),t=Ee(t);++r<a;){var s=n[r];s&&e(t,s,r,o)}return t}))}function Ri(e,t){return function(n,r){if(null==n)return n;if(!Ko(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Ee(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Di(e){return function(t,n,r){for(var i=-1,a=Ee(t),o=r(t),u=o.length;u--;){var s=o[e?u:++i];if(!1===n(a[s],s,a))break}return t}}function Mi(e){return function(t){var n=sn(t=gu(t))?vn(t):i,r=n?n[0]:t.charAt(0),a=n?wi(n,1).join(""):t.slice(1);return r[e]()+a}}function Li(e){return function(t){return Ft(Xu(qu(t).replace(et,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Vn(e.prototype),r=e.apply(n,t);return eu(r)?r:n}}function ji(e){return function(t,n,r){var a=Ee(t);if(!Ko(t)){var o=sa(n,3);t=Nu(t),n=function(e){return o(a[e],e,a)}}var u=e(t,n,r);return u>-1?a[o?t[u]:u]:i}}function zi(e){return na((function(t){var n=t.length,r=n,o=qn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new Ae(a);if(o&&!s&&"wrapper"==oa(u))var s=new qn([],!0)}for(r=s?r:n;++r<n;){var c=oa(u=t[r]),l="wrapper"==c?aa(u):i;s=l&&wa(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[oa(l[0])].apply(s,l[3]):1==u.length&&wa(u)?s[c]():s.thru(u)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Wo(r))return s.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function Ui(e,t,r,a,o,u,s,c,l,h){var d=t&f,p=1&t,v=2&t,m=24&t,y=512&t,g=v?i:Fi(e);return function f(){for(var k=arguments.length,b=n(k),w=k;w--;)b[w]=arguments[w];if(m)var _=ua(f),x=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,_);if(a&&(b=Ti(b,a,o,m)),u&&(b=Ci(b,u,s,m)),k-=x,m&&k<h){var S=fn(b,_);return Hi(e,t,Ui,f.placeholder,r,b,S,c,l,h-k)}var I=p?r:this,E=v?I[e]:e;return k=b.length,c?b=function(e,t){var n=e.length,r=kn(t.length,n),a=Ai(e);for(;r--;){var o=t[r];e[r]=ga(o,n)?a[o]:i}return e}(b,c):y&&k>1&&b.reverse(),d&&l<k&&(b.length=l),this&&this!==vt&&this instanceof f&&(E=g||Fi(E)),E.apply(I,b)}}function Vi(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function Bi(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=si(n),r=si(r)),a=e(n,r)}return a}}function qi(e){return na((function(t){return t=Mt(t,Zt(sa())),$r((function(n){var r=this;return e(t,(function(e){return Tt(e,r,n)}))}))}))}function Wi(e,t){var n=(t=t===i?" ":ci(t)).length;if(n<2)return n?Yr(t,e):t;var r=Yr(t,dt(e/pn(t)));return sn(t)?wi(vn(r),0,e).join(""):r.slice(0,e)}function Gi(e){return function(t,r,a){return a&&"number"!=typeof a&&ka(t,r,a)&&(r=a=i),t=du(t),r===i?(r=t,t=0):r=du(r),function(e,t,r,i){for(var a=-1,o=Qt(dt((t-e)/(r||1)),0),u=n(o);o--;)u[i?o:++a]=e,e+=r;return u}(t,r,a=a===i?t<r?1:-1:du(a),e)}}function Ki(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=mu(t),n=mu(n)),e(t,n)}}function Hi(e,t,n,r,a,o,u,s,f,h){var d=8&t;t|=d?c:l,4&(t&=~(d?l:c))||(t&=-4);var p=[e,t,a,d?o:i,d?u:i,d?i:o,d?i:u,s,f,h],v=n.apply(i,p);return wa(e)&&Aa(v,p),v.placeholder=r,Pa(v,e,t)}function Qi(e){var t=Ie[e];return function(e,n){if(e=mu(e),(n=null==n?0:kn(pu(n),292))&&kt(e)){var r=(gu(e)+"e").split("e");return+((r=(gu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Yi=Tn&&1/hn(new Tn([,-0]))[1]==d?function(e){return new Tn(e)}:ss;function $i(e){return function(t){var n=pa(t);return n==I?cn(t):n==O?dn(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Xi(e,t,r,o,d,p,v,m){var y=2&t;if(!y&&"function"!=typeof e)throw new Ae(a);var g=o?o.length:0;if(g||(t&=-97,o=d=i),v=v===i?v:Qt(pu(v),0),m=m===i?m:pu(m),g-=d?d.length:0,t&l){var k=o,b=d;o=d=i}var w=y?i:aa(e),_=[e,t,r,o,d,k,b,p,v,m];if(w&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=r==f&&8==n||r==f&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?Ti(c,s,t[4]):s,e[4]=c?fn(e[3],u):t[4]}(s=t[5])&&(c=e[5],e[5]=c?Ci(c,s,t[6]):s,e[6]=c?fn(e[5],u):t[6]);(s=t[7])&&(e[7]=s);r&f&&(e[8]=null==e[8]?t[8]:kn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(_,w),e=_[0],t=_[1],r=_[2],o=_[3],d=_[4],!(m=_[9]=_[9]===i?y?0:e.length:Qt(_[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==s?function(e,t,r){var a=Fi(e);return function o(){for(var u=arguments.length,s=n(u),c=u,l=ua(o);c--;)s[c]=arguments[c];var f=u<3&&s[0]!==l&&s[u-1]!==l?[]:fn(s,l);return(u-=f.length)<r?Hi(e,t,Ui,o.placeholder,i,s,f,i,i,r-u):Tt(this&&this!==vt&&this instanceof o?a:e,this,s)}}(e,t,m):t!=c&&33!=t||d.length?Ui.apply(i,_):function(e,t,r,i){var a=1&t,o=Fi(e);return function t(){for(var u=-1,s=arguments.length,c=-1,l=i.length,f=n(l+s),h=this&&this!==vt&&this instanceof t?o:e;++c<l;)f[c]=i[c];for(;s--;)f[c++]=arguments[++u];return Tt(h,a?r:this,f)}}(e,t,r,o);else var x=function(e,t,n){var r=1&t,i=Fi(e);return function t(){return(this&&this!==vt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Pa((w?ei:Aa)(x,_),e,t)}function Ji(e,t,n,r){return e===i||Uo(e,Pe[n])&&!Me.call(r,n)?t:e}function Zi(e,t,n,r,a,o){return eu(e)&&eu(t)&&(o.set(t,e),Br(e,t,i,Zi,o),o.delete(t)),e}function ea(e){return iu(e)?i:e}function ta(e,t,n,r,a,o){var u=1&n,s=e.length,c=t.length;if(s!=c&&!(u&&c>s))return!1;var l=o.get(e),f=o.get(t);if(l&&f)return l==t&&f==e;var h=-1,d=!0,p=2&n?new Qn:i;for(o.set(e,t),o.set(t,e);++h<s;){var v=e[h],m=t[h];if(r)var y=u?r(m,v,h,t,e,o):r(v,m,h,e,t,o);if(y!==i){if(y)continue;d=!1;break}if(p){if(!zt(t,(function(e,t){if(!tn(p,t)&&(v===e||a(v,e,n,r,o)))return p.push(t)}))){d=!1;break}}else if(v!==m&&!a(v,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function na(e){return Na(Ea(e,i,Wa),e+"")}function ra(e){return Sr(e,Nu,ha)}function ia(e){return Sr(e,Pu,da)}var aa=On?function(e){return On.get(e)}:ss;function oa(e){for(var t=e.name+"",n=Nn[t],r=Me.call(Nn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function ua(e){return(Me.call(Un,"placeholder")?Un:e).placeholder}function sa(){var e=Un.iteratee||is;return e=e===is?Mr:e,arguments.length?e(arguments[0],arguments[1]):e}function ca(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function la(e){for(var t=Nu(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Sa(i)]}return t}function fa(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Dr(n)?n:i}var ha=mt?function(e){return null==e?[]:(e=Ee(e),Pt(mt(e),(function(t){return Qe.call(e,t)})))}:vs,da=mt?function(e){for(var t=[];e;)Lt(t,ha(e)),e=Ke(e);return t}:vs,pa=Ir;function va(e,t,n){for(var r=-1,i=(t=ki(t,e)).length,a=!1;++r<i;){var o=La(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Zo(i)&&ga(o,i)&&(Wo(e)||qo(e))}function ma(e){return"function"!=typeof e.constructor||xa(e)?{}:Vn(Ke(e))}function ya(e){return Wo(e)||qo(e)||!!($e&&e&&e[$e])}function ga(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function ka(e,t,n){if(!eu(n))return!1;var r=typeof t;return!!("number"==r?Ko(n)&&ga(t,n.length):"string"==r&&t in n)&&Uo(n[t],e)}function ba(e,t){if(Wo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!su(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ee(t))}function wa(e){var t=oa(e),n=Un[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=aa(n);return!!r&&e===r[0]}(Sn&&pa(new Sn(new ArrayBuffer(1)))!=M||In&&pa(new In)!=I||En&&pa(En.resolve())!=C||Tn&&pa(new Tn)!=O||Cn&&pa(new Cn)!=R)&&(pa=function(e){var t=Ir(e),n=t==T?e.constructor:i,r=n?Fa(n):"";if(r)switch(r){case Pn:return M;case Rn:return I;case Dn:return C;case Mn:return O;case Ln:return R}return t});var _a=Re?Xo:ms;function xa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function Sa(e){return e===e&&!eu(e)}function Ia(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ee(n)))}}function Ea(e,t,r){return t=Qt(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=Qt(i.length-t,0),u=n(o);++a<o;)u[a]=i[t+a];a=-1;for(var s=n(t+1);++a<t;)s[a]=i[a];return s[t]=r(u),Tt(e,this,s)}}function Ta(e,t){return t.length<2?e:xr(e,ri(t,0,-1))}function Ca(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Aa=Ra(ei),Oa=lt||function(e,t){return vt.setTimeout(e,t)},Na=Ra(ti);function Pa(e,t,n){var r=t+"";return Na(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return At(y,(function(n){var r="_."+n[0];t&n[1]&&!Rt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(le):[]}(r),n)))}function Ra(e){var t=0,n=0;return function(){var r=bn(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Da(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=Qr(n,a),u=e[o];e[o]=e[n],e[n]=u}return e.length=t,e}var Ma=function(e){var t=Do(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(de,"$1"):n||e)})),t}));function La(e){if("string"==typeof e||su(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Fa(e){if(null!=e){try{return De.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ja(e){if(e instanceof Wn)return e.clone();var t=new qn(e.__wrapped__,e.__chain__);return t.__actions__=Ai(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var za=$r((function(e,t){return Ho(e)?fr(e,yr(t,1,Ho,!0)):[]})),Ua=$r((function(e,t){var n=Ya(t);return Ho(n)&&(n=i),Ho(e)?fr(e,yr(t,1,Ho,!0),sa(n,2)):[]})),Va=$r((function(e,t){var n=Ya(t);return Ho(n)&&(n=i),Ho(e)?fr(e,yr(t,1,Ho,!0),i,n):[]}));function Ba(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pu(n);return i<0&&(i=Qt(r+i,0)),Bt(e,sa(t,3),i)}function qa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=pu(n),a=n<0?Qt(r+a,0):kn(a,r-1)),Bt(e,sa(t,3),a,!0)}function Wa(e){return(null==e?0:e.length)?yr(e,1):[]}function Ga(e){return e&&e.length?e[0]:i}var Ka=$r((function(e){var t=Mt(e,yi);return t.length&&t[0]===e[0]?Ar(t):[]})),Ha=$r((function(e){var t=Ya(e),n=Mt(e,yi);return t===Ya(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Ar(n,sa(t,2)):[]})),Qa=$r((function(e){var t=Ya(e),n=Mt(e,yi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Ar(n,i,t):[]}));function Ya(e){var t=null==e?0:e.length;return t?e[t-1]:i}var $a=$r(Xa);function Xa(e,t){return e&&e.length&&t&&t.length?Kr(e,t):e}var Ja=na((function(e,t){var n=null==e?0:e.length,r=or(e,t);return Hr(e,Mt(t,(function(e){return ga(e,n)?+e:e})).sort(Ei)),r}));function Za(e){return null==e?e:xn.call(e)}var eo=$r((function(e){return li(yr(e,1,Ho,!0))})),to=$r((function(e){var t=Ya(e);return Ho(t)&&(t=i),li(yr(e,1,Ho,!0),sa(t,2))})),no=$r((function(e){var t=Ya(e);return t="function"==typeof t?t:i,li(yr(e,1,Ho,!0),i,t)}));function ro(e){if(!e||!e.length)return[];var t=0;return e=Pt(e,(function(e){if(Ho(e))return t=Qt(e.length,t),!0})),Xt(t,(function(t){return Mt(e,Ht(t))}))}function io(e,t){if(!e||!e.length)return[];var n=ro(e);return null==t?n:Mt(n,(function(e){return Tt(t,i,e)}))}var ao=$r((function(e,t){return Ho(e)?fr(e,t):[]})),oo=$r((function(e){return vi(Pt(e,Ho))})),uo=$r((function(e){var t=Ya(e);return Ho(t)&&(t=i),vi(Pt(e,Ho),sa(t,2))})),so=$r((function(e){var t=Ya(e);return t="function"==typeof t?t:i,vi(Pt(e,Ho),i,t)})),co=$r(ro);var lo=$r((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,io(e,n)}));function fo(e){var t=Un(e);return t.__chain__=!0,t}function ho(e,t){return t(e)}var po=na((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Wn&&ga(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ho,args:[a],thisArg:i}),new qn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var vo=Ni((function(e,t,n){Me.call(e,n)?++e[n]:ar(e,n,1)}));var mo=ji(Ba),yo=ji(qa);function go(e,t){return(Wo(e)?At:hr)(e,sa(t,3))}function ko(e,t){return(Wo(e)?Ot:dr)(e,sa(t,3))}var bo=Ni((function(e,t,n){Me.call(e,n)?e[n].push(t):ar(e,n,[t])}));var wo=$r((function(e,t,r){var i=-1,a="function"==typeof t,o=Ko(e)?n(e.length):[];return hr(e,(function(e){o[++i]=a?Tt(t,e,r):Or(e,t,r)})),o})),_o=Ni((function(e,t,n){ar(e,n,t)}));function xo(e,t){return(Wo(e)?Mt:zr)(e,sa(t,3))}var So=Ni((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Io=$r((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ka(e,t[0],t[1])?t=[]:n>2&&ka(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,yr(t,1),[])})),Eo=it||function(){return vt.Date.now()};function To(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Xi(e,f,i,i,i,i,t)}function Co(e,t){var n;if("function"!=typeof t)throw new Ae(a);return e=pu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Ao=$r((function(e,t,n){var r=1;if(n.length){var i=fn(n,ua(Ao));r|=c}return Xi(e,r,t,n,i)})),Oo=$r((function(e,t,n){var r=3;if(n.length){var i=fn(n,ua(Oo));r|=c}return Xi(t,r,e,n,i)}));function No(e,t,n){var r,o,u,s,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new Ae(a);function v(t){var n=r,a=o;return r=o=i,f=t,s=e.apply(a,n)}function m(e){var n=e-l;return l===i||n>=t||n<0||d&&e-f>=u}function y(){var e=Eo();if(m(e))return g(e);c=Oa(y,function(e){var n=t-(e-l);return d?kn(n,u-(e-f)):n}(e))}function g(e){return c=i,p&&r?v(e):(r=o=i,s)}function k(){var e=Eo(),n=m(e);if(r=arguments,o=this,l=e,n){if(c===i)return function(e){return f=e,c=Oa(y,t),h?v(e):s}(l);if(d)return _i(c),c=Oa(y,t),v(l)}return c===i&&(c=Oa(y,t)),s}return t=mu(t)||0,eu(n)&&(h=!!n.leading,u=(d="maxWait"in n)?Qt(mu(n.maxWait)||0,t):u,p="trailing"in n?!!n.trailing:p),k.cancel=function(){c!==i&&_i(c),f=0,r=l=o=c=i},k.flush=function(){return c===i?s:g(Eo())},k}var Po=$r((function(e,t){return lr(e,1,t)})),Ro=$r((function(e,t,n){return lr(e,mu(t)||0,n)}));function Do(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ae(a);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Do.Cache||Hn),n}function Mo(e){if("function"!=typeof e)throw new Ae(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Do.Cache=Hn;var Lo=bi((function(e,t){var n=(t=1==t.length&&Wo(t[0])?Mt(t[0],Zt(sa())):Mt(yr(t,1),Zt(sa()))).length;return $r((function(r){for(var i=-1,a=kn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return Tt(e,this,r)}))})),Fo=$r((function(e,t){var n=fn(t,ua(Fo));return Xi(e,c,i,t,n)})),jo=$r((function(e,t){var n=fn(t,ua(jo));return Xi(e,l,i,t,n)})),zo=na((function(e,t){return Xi(e,h,i,i,i,t)}));function Uo(e,t){return e===t||e!==e&&t!==t}var Vo=Ki(Er),Bo=Ki((function(e,t){return e>=t})),qo=Nr(function(){return arguments}())?Nr:function(e){return tu(e)&&Me.call(e,"callee")&&!Qe.call(e,"callee")},Wo=n.isArray,Go=wt?Zt(wt):function(e){return tu(e)&&Ir(e)==D};function Ko(e){return null!=e&&Zo(e.length)&&!Xo(e)}function Ho(e){return tu(e)&&Ko(e)}var Qo=yt||ms,Yo=_t?Zt(_t):function(e){return tu(e)&&Ir(e)==w};function $o(e){if(!tu(e))return!1;var t=Ir(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!iu(e)}function Xo(e){if(!eu(e))return!1;var t=Ir(e);return t==x||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Jo(e){return"number"==typeof e&&e==pu(e)}function Zo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function eu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function tu(e){return null!=e&&"object"==typeof e}var nu=xt?Zt(xt):function(e){return tu(e)&&pa(e)==I};function ru(e){return"number"==typeof e||tu(e)&&Ir(e)==E}function iu(e){if(!tu(e)||Ir(e)!=T)return!1;var t=Ke(e);if(null===t)return!0;var n=Me.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==ze}var au=St?Zt(St):function(e){return tu(e)&&Ir(e)==A};var ou=It?Zt(It):function(e){return tu(e)&&pa(e)==O};function uu(e){return"string"==typeof e||!Wo(e)&&tu(e)&&Ir(e)==N}function su(e){return"symbol"==typeof e||tu(e)&&Ir(e)==P}var cu=Et?Zt(Et):function(e){return tu(e)&&Zo(e.length)&&!!st[Ir(e)]};var lu=Ki(jr),fu=Ki((function(e,t){return e<=t}));function hu(e){if(!e)return[];if(Ko(e))return uu(e)?vn(e):Ai(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=pa(e);return(t==I?cn:t==O?hn:Uu)(e)}function du(e){return e?(e=mu(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function pu(e){var t=du(e),n=t%1;return t===t?n?t-n:t:0}function vu(e){return e?ur(pu(e),0,m):0}function mu(e){if("number"==typeof e)return e;if(su(e))return v;if(eu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=eu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var n=ye.test(e);return n||ke.test(e)?ht(e.slice(2),n?2:8):me.test(e)?v:+e}function yu(e){return Oi(e,Pu(e))}function gu(e){return null==e?"":ci(e)}var ku=Pi((function(e,t){if(xa(t)||Ko(t))Oi(t,Nu(t),e);else for(var n in t)Me.call(t,n)&&tr(e,n,t[n])})),bu=Pi((function(e,t){Oi(t,Pu(t),e)})),wu=Pi((function(e,t,n,r){Oi(t,Pu(t),e,r)})),_u=Pi((function(e,t,n,r){Oi(t,Nu(t),e,r)})),xu=na(or);var Su=$r((function(e,t){e=Ee(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&ka(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],u=Pu(o),s=-1,c=u.length;++s<c;){var l=u[s],f=e[l];(f===i||Uo(f,Pe[l])&&!Me.call(e,l))&&(e[l]=o[l])}return e})),Iu=$r((function(e){return e.push(i,Zi),Tt(Du,i,e)}));function Eu(e,t,n){var r=null==e?i:xr(e,t);return r===i?n:r}function Tu(e,t){return null!=e&&va(e,t,Cr)}var Cu=Vi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),e[t]=n}),es(rs)),Au=Vi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]}),sa),Ou=$r(Or);function Nu(e){return Ko(e)?$n(e):Lr(e)}function Pu(e){return Ko(e)?$n(e,!0):Fr(e)}var Ru=Pi((function(e,t,n){Br(e,t,n)})),Du=Pi((function(e,t,n,r){Br(e,t,n,r)})),Mu=na((function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,(function(t){return t=ki(t,e),r||(r=t.length>1),t})),Oi(e,ia(e),n),r&&(n=sr(n,7,ea));for(var i=t.length;i--;)fi(n,t[i]);return n}));var Lu=na((function(e,t){return null==e?{}:function(e,t){return Gr(e,t,(function(t,n){return Tu(e,n)}))}(e,t)}));function Fu(e,t){if(null==e)return{};var n=Mt(ia(e),(function(e){return[e]}));return t=sa(t),Gr(e,n,(function(e,n){return t(e,n[0])}))}var ju=$i(Nu),zu=$i(Pu);function Uu(e){return null==e?[]:en(e,Nu(e))}var Vu=Li((function(e,t,n){return t=t.toLowerCase(),e+(n?Bu(t):t)}));function Bu(e){return $u(gu(e).toLowerCase())}function qu(e){return(e=gu(e))&&e.replace(we,an).replace(tt,"")}var Wu=Li((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Gu=Li((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ku=Mi("toLowerCase");var Hu=Li((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Qu=Li((function(e,t,n){return e+(n?" ":"")+$u(t)}));var Yu=Li((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),$u=Mi("toUpperCase");function Xu(e,t,n){return e=gu(e),(t=n?i:t)===i?function(e){return at.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var Ju=$r((function(e,t){try{return Tt(e,i,t)}catch(n){return $o(n)?n:new ue(n)}})),Zu=na((function(e,t){return At(t,(function(t){t=La(t),ar(e,t,Ao(e[t],e))})),e}));function es(e){return function(){return e}}var ts=zi(),ns=zi(!0);function rs(e){return e}function is(e){return Mr("function"==typeof e?e:sr(e,1))}var as=$r((function(e,t){return function(n){return Or(n,e,t)}})),os=$r((function(e,t){return function(n){return Or(e,n,t)}}));function us(e,t,n){var r=Nu(t),i=_r(t,r);null!=n||eu(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=_r(t,Nu(t)));var a=!(eu(n)&&"chain"in n)||!!n.chain,o=Xo(e);return At(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=Ai(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Lt([this.value()],arguments))})})),e}function ss(){}var cs=qi(Mt),ls=qi(Nt),fs=qi(zt);function hs(e){return ba(e)?Ht(La(e)):function(e){return function(t){return xr(t,e)}}(e)}var ds=Gi(),ps=Gi(!0);function vs(){return[]}function ms(){return!1}var ys=Bi((function(e,t){return e+t}),0),gs=Qi("ceil"),ks=Bi((function(e,t){return e/t}),1),bs=Qi("floor");var ws=Bi((function(e,t){return e*t}),1),_s=Qi("round"),xs=Bi((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new Ae(a);return e=pu(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=To,Un.assign=ku,Un.assignIn=bu,Un.assignInWith=wu,Un.assignWith=_u,Un.at=xu,Un.before=Co,Un.bind=Ao,Un.bindAll=Zu,Un.bindKey=Oo,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wo(e)?e:[e]},Un.chain=fo,Un.chunk=function(e,t,r){t=(r?ka(e,t,r):t===i)?1:Qt(pu(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,u=0,s=n(dt(a/t));o<a;)s[u++]=ri(e,o,o+=t);return s},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Lt(Wo(r)?Ai(r):[r],yr(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=sa();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new Ae(a);return[n(e[0]),e[1]]})):[],$r((function(n){for(var r=-1;++r<t;){var i=e[r];if(Tt(i[0],this,n))return Tt(i[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=Nu(e);return function(n){return cr(n,e,t)}}(sr(e,1))},Un.constant=es,Un.countBy=vo,Un.create=function(e,t){var n=Vn(e);return null==t?n:ir(n,t)},Un.curry=function e(t,n,r){var a=Xi(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Un.curryRight=function e(t,n,r){var a=Xi(t,s,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Un.debounce=No,Un.defaults=Su,Un.defaultsDeep=Iu,Un.defer=Po,Un.delay=Ro,Un.difference=za,Un.differenceBy=Ua,Un.differenceWith=Va,Un.drop=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=n||t===i?1:pu(t))<0?0:t,r):[]},Un.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,0,(t=r-(t=n||t===i?1:pu(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?di(e,sa(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?di(e,sa(t,3),!0):[]},Un.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ka(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=pu(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:pu(r))<0&&(r+=a),r=n>r?0:vu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Un.filter=function(e,t){return(Wo(e)?Pt:mr)(e,sa(t,3))},Un.flatMap=function(e,t){return yr(xo(e,t),1)},Un.flatMapDeep=function(e,t){return yr(xo(e,t),d)},Un.flatMapDepth=function(e,t,n){return n=n===i?1:pu(n),yr(xo(e,t),n)},Un.flatten=Wa,Un.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,d):[]},Un.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===i?1:pu(t)):[]},Un.flip=function(e){return Xi(e,512)},Un.flow=ts,Un.flowRight=ns,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Un.functions=function(e){return null==e?[]:_r(e,Nu(e))},Un.functionsIn=function(e){return null==e?[]:_r(e,Pu(e))},Un.groupBy=bo,Un.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},Un.intersection=Ka,Un.intersectionBy=Ha,Un.intersectionWith=Qa,Un.invert=Cu,Un.invertBy=Au,Un.invokeMap=wo,Un.iteratee=is,Un.keyBy=_o,Un.keys=Nu,Un.keysIn=Pu,Un.map=xo,Un.mapKeys=function(e,t){var n={};return t=sa(t,3),br(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Un.mapValues=function(e,t){var n={};return t=sa(t,3),br(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Un.matches=function(e){return Ur(sr(e,1))},Un.matchesProperty=function(e,t){return Vr(e,sr(t,1))},Un.memoize=Do,Un.merge=Ru,Un.mergeWith=Du,Un.method=as,Un.methodOf=os,Un.mixin=us,Un.negate=Mo,Un.nthArg=function(e){return e=pu(e),$r((function(t){return qr(t,e)}))},Un.omit=Mu,Un.omitBy=function(e,t){return Fu(e,Mo(sa(t)))},Un.once=function(e){return Co(2,e)},Un.orderBy=function(e,t,n,r){return null==e?[]:(Wo(t)||(t=null==t?[]:[t]),Wo(n=r?i:n)||(n=null==n?[]:[n]),Wr(e,t,n))},Un.over=cs,Un.overArgs=Lo,Un.overEvery=ls,Un.overSome=fs,Un.partial=Fo,Un.partialRight=jo,Un.partition=So,Un.pick=Lu,Un.pickBy=Fu,Un.property=hs,Un.propertyOf=function(e){return function(t){return null==e?i:xr(e,t)}},Un.pull=$a,Un.pullAll=Xa,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,sa(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,i,n):e},Un.pullAt=Ja,Un.range=ds,Un.rangeRight=ps,Un.rearg=zo,Un.reject=function(e,t){return(Wo(e)?Pt:mr)(e,Mo(sa(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=sa(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Hr(e,i),n},Un.rest=function(e,t){if("function"!=typeof e)throw new Ae(a);return $r(e,t=t===i?t:pu(t))},Un.reverse=Za,Un.sampleSize=function(e,t,n){return t=(n?ka(e,t,n):t===i)?1:pu(t),(Wo(e)?Jn:Jr)(e,t)},Un.set=function(e,t,n){return null==e?e:Zr(e,t,n)},Un.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Zr(e,t,n,r)},Un.shuffle=function(e){return(Wo(e)?Zn:ni)(e)},Un.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ka(e,t,n)?(t=0,n=r):(t=null==t?0:pu(t),n=n===i?r:pu(n)),ri(e,t,n)):[]},Un.sortBy=Io,Un.sortedUniq=function(e){return e&&e.length?ui(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?ui(e,sa(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&ka(e,t,n)&&(t=n=i),(n=n===i?m:n>>>0)?(e=gu(e))&&("string"==typeof t||null!=t&&!au(t))&&!(t=ci(t))&&sn(e)?wi(vn(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new Ae(a);return t=null==t?0:Qt(pu(t),0),$r((function(n){var r=n[t],i=wi(n,0,t);return r&&Lt(i,r),Tt(e,this,i)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?ri(e,0,(t=n||t===i?1:pu(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=r-(t=n||t===i?1:pu(t)))<0?0:t,r):[]},Un.takeRightWhile=function(e,t){return e&&e.length?di(e,sa(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?di(e,sa(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ae(a);return eu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),No(e,t,{leading:r,maxWait:t,trailing:i})},Un.thru=ho,Un.toArray=hu,Un.toPairs=ju,Un.toPairsIn=zu,Un.toPath=function(e){return Wo(e)?Mt(e,La):su(e)?[e]:Ai(Ma(gu(e)))},Un.toPlainObject=yu,Un.transform=function(e,t,n){var r=Wo(e),i=r||Qo(e)||cu(e);if(t=sa(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:eu(e)&&Xo(a)?Vn(Ke(e)):{}}return(i?At:br)(e,(function(e,r,i){return t(n,e,r,i)})),n},Un.unary=function(e){return To(e,1)},Un.union=eo,Un.unionBy=to,Un.unionWith=no,Un.uniq=function(e){return e&&e.length?li(e):[]},Un.uniqBy=function(e,t){return e&&e.length?li(e,sa(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?li(e,i,t):[]},Un.unset=function(e,t){return null==e||fi(e,t)},Un.unzip=ro,Un.unzipWith=io,Un.update=function(e,t,n){return null==e?e:hi(e,t,gi(n))},Un.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,gi(n),r)},Un.values=Uu,Un.valuesIn=function(e){return null==e?[]:en(e,Pu(e))},Un.without=ao,Un.words=Xu,Un.wrap=function(e,t){return Fo(gi(t),e)},Un.xor=oo,Un.xorBy=uo,Un.xorWith=so,Un.zip=co,Un.zipObject=function(e,t){return mi(e||[],t||[],tr)},Un.zipObjectDeep=function(e,t){return mi(e||[],t||[],Zr)},Un.zipWith=lo,Un.entries=ju,Un.entriesIn=zu,Un.extend=bu,Un.extendWith=wu,us(Un,Un),Un.add=ys,Un.attempt=Ju,Un.camelCase=Vu,Un.capitalize=Bu,Un.ceil=gs,Un.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=mu(n))===n?n:0),t!==i&&(t=(t=mu(t))===t?t:0),ur(mu(e),t,n)},Un.clone=function(e){return sr(e,4)},Un.cloneDeep=function(e){return sr(e,5)},Un.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:i)},Un.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:i)},Un.conformsTo=function(e,t){return null==t||cr(e,t,Nu(t))},Un.deburr=qu,Un.defaultTo=function(e,t){return null==e||e!==e?t:e},Un.divide=ks,Un.endsWith=function(e,t,n){e=gu(e),t=ci(t);var r=e.length,a=n=n===i?r:ur(pu(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},Un.eq=Uo,Un.escape=function(e){return(e=gu(e))&&X.test(e)?e.replace(Y,on):e},Un.escapeRegExp=function(e){return(e=gu(e))&&ae.test(e)?e.replace(ie,"\\$&"):e},Un.every=function(e,t,n){var r=Wo(e)?Nt:pr;return n&&ka(e,t,n)&&(t=i),r(e,sa(t,3))},Un.find=mo,Un.findIndex=Ba,Un.findKey=function(e,t){return Vt(e,sa(t,3),br)},Un.findLast=yo,Un.findLastIndex=qa,Un.findLastKey=function(e,t){return Vt(e,sa(t,3),wr)},Un.floor=bs,Un.forEach=go,Un.forEachRight=ko,Un.forIn=function(e,t){return null==e?e:gr(e,sa(t,3),Pu)},Un.forInRight=function(e,t){return null==e?e:kr(e,sa(t,3),Pu)},Un.forOwn=function(e,t){return e&&br(e,sa(t,3))},Un.forOwnRight=function(e,t){return e&&wr(e,sa(t,3))},Un.get=Eu,Un.gt=Vo,Un.gte=Bo,Un.has=function(e,t){return null!=e&&va(e,t,Tr)},Un.hasIn=Tu,Un.head=Ga,Un.identity=rs,Un.includes=function(e,t,n,r){e=Ko(e)?e:Uu(e),n=n&&!r?pu(n):0;var i=e.length;return n<0&&(n=Qt(i+n,0)),uu(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&qt(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pu(n);return i<0&&(i=Qt(r+i,0)),qt(e,t,i)},Un.inRange=function(e,t,n){return t=du(t),n===i?(n=t,t=0):n=du(n),function(e,t,n){return e>=kn(t,n)&&e<Qt(t,n)}(e=mu(e),t,n)},Un.invoke=Ou,Un.isArguments=qo,Un.isArray=Wo,Un.isArrayBuffer=Go,Un.isArrayLike=Ko,Un.isArrayLikeObject=Ho,Un.isBoolean=function(e){return!0===e||!1===e||tu(e)&&Ir(e)==b},Un.isBuffer=Qo,Un.isDate=Yo,Un.isElement=function(e){return tu(e)&&1===e.nodeType&&!iu(e)},Un.isEmpty=function(e){if(null==e)return!0;if(Ko(e)&&(Wo(e)||"string"==typeof e||"function"==typeof e.splice||Qo(e)||cu(e)||qo(e)))return!e.length;var t=pa(e);if(t==I||t==O)return!e.size;if(xa(e))return!Lr(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return Pr(e,t)},Un.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Pr(e,t,i,n):!!r},Un.isError=$o,Un.isFinite=function(e){return"number"==typeof e&&kt(e)},Un.isFunction=Xo,Un.isInteger=Jo,Un.isLength=Zo,Un.isMap=nu,Un.isMatch=function(e,t){return e===t||Rr(e,t,la(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Rr(e,t,la(t),n)},Un.isNaN=function(e){return ru(e)&&e!=+e},Un.isNative=function(e){if(_a(e))throw new ue("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dr(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=ru,Un.isObject=eu,Un.isObjectLike=tu,Un.isPlainObject=iu,Un.isRegExp=au,Un.isSafeInteger=function(e){return Jo(e)&&e>=-9007199254740991&&e<=p},Un.isSet=ou,Un.isString=uu,Un.isSymbol=su,Un.isTypedArray=cu,Un.isUndefined=function(e){return e===i},Un.isWeakMap=function(e){return tu(e)&&pa(e)==R},Un.isWeakSet=function(e){return tu(e)&&"[object WeakSet]"==Ir(e)},Un.join=function(e,t){return null==e?"":bt.call(e,t)},Un.kebabCase=Wu,Un.last=Ya,Un.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=pu(n))<0?Qt(r+a,0):kn(a,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Bt(e,Gt,a,!0)},Un.lowerCase=Gu,Un.lowerFirst=Ku,Un.lt=lu,Un.lte=fu,Un.max=function(e){return e&&e.length?vr(e,rs,Er):i},Un.maxBy=function(e,t){return e&&e.length?vr(e,sa(t,2),Er):i},Un.mean=function(e){return Kt(e,rs)},Un.meanBy=function(e,t){return Kt(e,sa(t,2))},Un.min=function(e){return e&&e.length?vr(e,rs,jr):i},Un.minBy=function(e,t){return e&&e.length?vr(e,sa(t,2),jr):i},Un.stubArray=vs,Un.stubFalse=ms,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=ws,Un.nth=function(e,t){return e&&e.length?qr(e,pu(t)):i},Un.noConflict=function(){return vt._===this&&(vt._=Ue),this},Un.noop=ss,Un.now=Eo,Un.pad=function(e,t,n){e=gu(e);var r=(t=pu(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Wi(pt(i),n)+e+Wi(dt(i),n)},Un.padEnd=function(e,t,n){e=gu(e);var r=(t=pu(t))?pn(e):0;return t&&r<t?e+Wi(t-r,n):e},Un.padStart=function(e,t,n){e=gu(e);var r=(t=pu(t))?pn(e):0;return t&&r<t?Wi(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(gu(e).replace(oe,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ka(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=du(e),t===i?(t=e,e=0):t=du(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=_n();return kn(e+a*(t-e+ft("1e-"+((a+"").length-1))),t)}return Qr(e,t)},Un.reduce=function(e,t,n){var r=Wo(e)?Ft:Yt,i=arguments.length<3;return r(e,sa(t,4),n,i,hr)},Un.reduceRight=function(e,t,n){var r=Wo(e)?jt:Yt,i=arguments.length<3;return r(e,sa(t,4),n,i,dr)},Un.repeat=function(e,t,n){return t=(n?ka(e,t,n):t===i)?1:pu(t),Yr(gu(e),t)},Un.replace=function(){var e=arguments,t=gu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var r=-1,a=(t=ki(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[La(t[r])];o===i&&(r=a,o=n),e=Xo(o)?o.call(e):o}return e},Un.round=_s,Un.runInContext=e,Un.sample=function(e){return(Wo(e)?Xn:Xr)(e)},Un.size=function(e){if(null==e)return 0;if(Ko(e))return uu(e)?pn(e):e.length;var t=pa(e);return t==I||t==O?e.size:Lr(e).length},Un.snakeCase=Hu,Un.some=function(e,t,n){var r=Wo(e)?zt:ii;return n&&ka(e,t,n)&&(t=i),r(e,sa(t,3))},Un.sortedIndex=function(e,t){return ai(e,t)},Un.sortedIndexBy=function(e,t,n){return oi(e,t,sa(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&Uo(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return ai(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return oi(e,t,sa(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(Uo(e[n],t))return n}return-1},Un.startCase=Qu,Un.startsWith=function(e,t,n){return e=gu(e),n=null==n?0:ur(pu(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Un.subtract=xs,Un.sum=function(e){return e&&e.length?$t(e,rs):0},Un.sumBy=function(e,t){return e&&e.length?$t(e,sa(t,2)):0},Un.template=function(e,t,n){var r=Un.templateSettings;n&&ka(e,t,n)&&(t=i),e=gu(e),t=wu({},t,r,Ji);var a,o,u=wu({},t.imports,r.imports,Ji),s=Nu(u),c=en(u,s),l=0,f=t.interpolate||_e,h="__p += '",d=Te((t.escape||_e).source+"|"+f.source+"|"+(f===ee?pe:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),p="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ut+"]")+"\n";e.replace(d,(function(t,n,r,i,u,s){return r||(r=i),h+=e.slice(l,s).replace(xe,un),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),u&&(o=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+t.length,t})),h+="';\n";var v=Me.call(t,"variable")&&t.variable;if(v){if(he.test(v))throw new ue("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(G,""):h).replace(K,"$1").replace(H,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Ju((function(){return Se(s,p+"return "+h).apply(i,c)}));if(m.source=h,$o(m))throw m;return m},Un.times=function(e,t){if((e=pu(e))<1||e>p)return[];var n=m,r=kn(e,m);t=sa(t),e-=m;for(var i=Xt(r,t);++n<e;)t(n);return i},Un.toFinite=du,Un.toInteger=pu,Un.toLength=vu,Un.toLower=function(e){return gu(e).toLowerCase()},Un.toNumber=mu,Un.toSafeInteger=function(e){return e?ur(pu(e),-9007199254740991,p):0===e?e:0},Un.toString=gu,Un.toUpper=function(e){return gu(e).toUpperCase()},Un.trim=function(e,t,n){if((e=gu(e))&&(n||t===i))return Jt(e);if(!e||!(t=ci(t)))return e;var r=vn(e),a=vn(t);return wi(r,nn(r,a),rn(r,a)+1).join("")},Un.trimEnd=function(e,t,n){if((e=gu(e))&&(n||t===i))return e.slice(0,mn(e)+1);if(!e||!(t=ci(t)))return e;var r=vn(e);return wi(r,0,rn(r,vn(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=gu(e))&&(n||t===i))return e.replace(oe,"");if(!e||!(t=ci(t)))return e;var r=vn(e);return wi(r,nn(r,vn(t))).join("")},Un.truncate=function(e,t){var n=30,r="...";if(eu(t)){var a="separator"in t?t.separator:a;n="length"in t?pu(t.length):n,r="omission"in t?ci(t.omission):r}var o=(e=gu(e)).length;if(sn(e)){var u=vn(e);o=u.length}if(n>=o)return e;var s=n-pn(r);if(s<1)return r;var c=u?wi(u,0,s).join(""):e.slice(0,s);if(a===i)return c+r;if(u&&(s+=c.length-s),au(a)){if(e.slice(s).search(a)){var l,f=c;for(a.global||(a=Te(a.source,gu(ve.exec(a))+"g")),a.lastIndex=0;l=a.exec(f);)var h=l.index;c=c.slice(0,h===i?s:h)}}else if(e.indexOf(ci(a),s)!=s){var d=c.lastIndexOf(a);d>-1&&(c=c.slice(0,d))}return c+r},Un.unescape=function(e){return(e=gu(e))&&$.test(e)?e.replace(Q,yn):e},Un.uniqueId=function(e){var t=++Le;return gu(e)+t},Un.upperCase=Yu,Un.upperFirst=$u,Un.each=go,Un.eachRight=ko,Un.first=Ga,us(Un,function(){var e={};return br(Un,(function(t,n){Me.call(Un.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Un.VERSION="4.17.21",At(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),At(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===i?1:Qt(pu(n),0);var r=this.__filtered__&&!t?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=kn(n,r.__takeCount__):r.__views__.push({size:kn(n,m),type:e+(r.__dir__<0?"Right":"")}),r},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),At(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:sa(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),At(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),At(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(rs)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=$r((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Or(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Mo(sa(e)))},Wn.prototype.slice=function(e,t){e=pu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=pu(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(m)},br(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=Un[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(Un.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,s=t instanceof Wn,c=u[0],l=s||Wo(t),f=function(e){var t=a.apply(Un,Lt([e],u));return r&&h?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=o&&!h,v=s&&!d;if(!o&&l){t=v?t:new Wn(this);var m=e.apply(t,u);return m.__actions__.push({func:ho,args:[f],thisArg:i}),new qn(m,h)}return p&&v?e.apply(this,u):(m=this.thru(f),p?r?m.value()[0]:m.value():m)})})),At(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Oe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Wo(i)?i:[],e)}return this[n]((function(n){return t.apply(Wo(n)?n:[],e)}))}})),br(Wn.prototype,(function(e,t){var n=Un[t];if(n){var r=n.name+"";Me.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:t,func:n})}})),Nn[Ui(i,2).name]=[{name:"wrapper",func:i}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Ai(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ai(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ai(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Wo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=kn(t,e+o);break;case"takeRight":e=Qt(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,u=a.end,s=u-o,c=r?u:o-1,l=this.__iteratees__,f=l.length,h=0,d=kn(s,this.__takeCount__);if(!n||!r&&i==s&&d==s)return pi(e,this.__actions__);var p=[];e:for(;s--&&h<d;){for(var v=-1,m=e[c+=t];++v<f;){var y=l[v],g=y.iteratee,k=y.type,b=g(m);if(2==k)m=b;else if(!b){if(1==k)continue e;break e}}p[h++]=m}return p},Un.prototype.at=po,Un.prototype.chain=function(){return fo(this)},Un.prototype.commit=function(){return new qn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=hu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof Bn;){var r=ja(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:ho,args:[Za],thisArg:i}),new qn(t,this.__chain__)}return this.thru(Za)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Xe&&(Un.prototype[Xe]=function(){return this}),Un}();vt._=gn,(r=function(){return gn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},2756:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/\n/g,"").replace(/\s\s+/g," ")}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case I:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ie(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Ee(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Te(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Oe=!1;function Ne(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ce(e,t,n)}finally{Oe=!1,(null!==xe||null!==Se)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,je=!1,ze=null,Ue={onError:function(e){Le=!0,Fe=e}};function Ve(e,t,n,r,i,a,o,u,s){Le=!1,Fe=null,Me.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,St,It,Et=!1,Tt=[],Ct=null,At=null,Ot=null,Nt=new Map,Pt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function zt(e,t,n){jt(e)&&n.delete(t)}function Ut(){Et=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Ot&&jt(Ot)&&(Ot=null),Nt.forEach(zt),Pt.forEach(zt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==At&&Vt(At,e),null!==Ot&&Vt(Ot,e),Nt.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return Ot=Lt(Ot,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Lt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function In(){return Sn}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),On=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Nn),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Dn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Hn=null;function Qn(e){jr(e,0)}function Yn(e){if(H(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Hn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Gn(t,Hn,e,we(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function Ir(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Er=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Ar=Ir("transitionend"),Or=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Or.set(e,t),s(t,[e])}for(var Rr=0;Rr<Nr.length;Rr++){var Dr=Nr[Rr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,je||(je=!0,ze=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=ze,je=!1,ze=null,e}function zr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Gt;break;case 4:i=Kt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var u=Or.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Tr:case Cr:s=yn;break;case Ar:s=On;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Wn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Vn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(zn=!0,jn);case"textInput":return(e=t.data)===jn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Si(e){return{current:e}}function Ii(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ei(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ai=Si(!1),Oi=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ii(Ai),Ii(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Oi=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ai),Ii(Ci),Ei(Ci,e)):Ii(Ai),Ei(Ai,n)}var ji=null,zi=!1,Ui=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,zi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),He(Ze,Bi),i}finally{kt=t,Ui=!1}}return null}var qi=[],Wi=0,Gi=null,Ki=0,Hi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Wi++]=Ki,qi[Wi++]=Gi,Gi=e,Ki=t}function Zi(e,t,n){Hi[Qi++]=$i,Hi[Qi++]=Xi,Hi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null,$i=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Ii(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oa=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&As)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Oa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Oa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var za=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),Ma(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Pi(t)?Oi:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=za,Na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Pi(t)?Oi:Ci.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===za&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=zc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Mc(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=zc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),Ei(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oo(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Wo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,zo(9,Do.bind(null,n,r,i,t),void 0,null),null===Os)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function Vo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=zo(t,n,a,r))}vo.flags|=e,i.memoizedState=zo(1|t,n,a,r)}function qo(e,t){return Vo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Go(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ho.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Os)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Os.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:$o,useContext:Ia,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:$o,useContext:Ia,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ko,useMemo:Xo,useReducer:Oo,useRef:Uo,useState:function(){return Oo(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Oo(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Ks=r),hu(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Gu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ds,Rs),Rs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ds,Rs),Rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ds,Rs),Rs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ds,Rs),Rs|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Oi:Ci.current;return a=Ni(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Li(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Wu(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Ni(t,c=Pi(n)?Oi:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Oa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Oa?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Oa||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Ni(t,s=Pi(n)?Oi:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Wa(t,o,r,s),Oa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Oa?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Oa||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Gu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ou(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Nu(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Ru,Du,Mu,Lu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ju(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Lu,e):zu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Os)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=$i,Hi[Qi++]=Xi,Hi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=zu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zu(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=zu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Hu(t),null;case 3:return r=t.stateNode,io(),Ii(Ai),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Ru(e,t),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)zr(Mr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":$(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ie(r,o),zr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&zr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)zr(Mr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&zr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Mu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ms&&(Ms=3):mc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),Ru(e,t),null===e&&Br(t.stateNode.containerInfo),Hu(t),null;case 10:return _a(t.type._context),Hu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Ms||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Xe()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rs)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ai),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(){},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&zr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Mu=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Xu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Xu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,ds(e,t,n),Xu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ic(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,ms(t,e),Xu=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){_s(h);continue}}null!==p?(p.return=d,Zu=p):_s(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Zu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=$u;var c=Xu;if($u=o,(Xu=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Zu=s):xs(i);for(;null!==a;)Zu=a,bs(a,t,n),a=a.sibling;Zu=i,$u=u,Xu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&as(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function _s(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Ss,Is=Math.ceil,Es=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,As=0,Os=null,Ns=null,Ps=0,Rs=0,Ds=Si(0),Ms=0,Ls=null,Fs=0,js=0,zs=0,Us=null,Vs=null,Bs=0,qs=1/0,Ws=null,Gs=!1,Ks=null,Hs=null,Qs=!1,Ys=null,$s=0,Xs=0,Js=null,Zs=-1,ec=0;function tc(){return 0!==(6&As)?Xe():-1!==Zs?Zs:Zs=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&As)&&0!==Ps?Ps&-Ps:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Xs)throw Xs=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&As)&&e===Os||(e===Os&&(0===(2&As)&&(js|=n),4===Ms&&sc(e,Ps)),ic(e,r),1===n&&0===As&&0===(1&t.mode)&&(qs=Xe()+500,zi&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Os?Ps:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){zi=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),oi((function(){0===(6&As)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&As))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Os?Ps:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=As;As|=2;var o=vc();for(Os===e&&Ps===t||(Ws=null,qs=Xe()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Es.current=o,As=i,null!==Ns?t=0:(Os=null,Ps=0,t=Ms)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ls,dc(e,0),sc(e,r),ic(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ls,dc(e,0),sc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,Vs,Ws);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Vs,Ws),t);break}_c(e,Vs,Ws);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Vs,Ws),r);break}_c(e,Vs,Ws);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vs,Vs=n,null!==t&&uc(t)),e}function uc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function sc(e,t){for(t&=~zs,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&As))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ls,dc(e,0),sc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Vs,Ws),ic(e,Xe()),null}function lc(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(qs=Xe()+500,zi&&Bi())}}function fc(e){null!==Ys&&0===Ys.tag&&0===(6&As)&&xc();var t=As;As|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(As=t))&&Bi()}}function hc(){Rs=Ds.current,Ii(Ds)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ii(Ai),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Os=e,Ns=e=Dc(e.current,null),Ps=Rs=t,Ms=0,Ls=null,zs=js=Fs=0,Vs=Us=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ms=1,Ls=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ps,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ms&&(Ms=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Hs||!Hs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function vc(){var e=Es.current;return Es.current=ou,null===e?ou:e}function mc(){0!==Ms&&3!==Ms&&2!==Ms||(Ms=4),null===Os||0===(268435455&Fs)&&0===(268435455&js)||sc(Os,Ps)}function yc(e,t){var n=As;As|=2;var r=vc();for(Os===e&&Ps===t||(Ws=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),As=n,Es.current=r,null!==Ns)throw Error(a(261));return Os=null,Ps=0,Ms}function gc(){for(;null!==Ns;)bc(Ns)}function kc(){for(;null!==Ns&&!Ye();)bc(Ns)}function bc(e){var t=Ss(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?wc(e):Ns=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Rs)))return void(Ns=n)}else{if(null!==(n=Yu(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Ms=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Ms&&(Ms=5)}function _c(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Ys);if(0!==(6&As))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Os&&(Ns=Os=null,Ps=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Oc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=As;As|=4,Ts.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),$e(),As=s,kt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,Ys=e,$s=i),o=e.pendingLanes,0===o&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gs)throw Gs=!1,e=Ks,Ks=null,e;0!==(1&$s)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Js?Xs++:(Xs=0,Js=e):Xs=0,Bi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function xc(){if(null!==Ys){var e=bt($s),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===Ys)var r=!1;else{if(e=Ys,Ys=null,$s=0,0!==(6&As))throw Error(a(331));var i=As;for(As|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(os(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(_){Ic(s,s.return,_)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(As=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Sc(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ic(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ps&n)===n&&(4===Ms||3===Ms&&(130023424&Ps)===Ps&&500>Xe()-Bs?dc(e,0):zs|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Oc(e,t){return He(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Nc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Rc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Lc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=Pc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case A:return(e=Pc(13,n,t,i)).elementType=A,e.lanes=o,e;case O:return(e=Pc(19,n,t,i)).elementType=O,e.lanes=o,e;case R:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case N:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Ra(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),Ma(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Ou(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ju(e,t,n):(Ei(uo,1&uo.current),null!==(e=Gu(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Gu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wu(e,t),e=t.pendingProps;var i=Ni(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ou(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Nu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Nu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return ju(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Gu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Wu(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Sa(t,n),qa(t,r,i),Ga(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&As)&&(qs=Xe()+500,Bi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Hc(e,1)}},_t=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Hc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Hc(e,t)}},St=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.s=r.createRoot,r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function O(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,I=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function O(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?x():(S=!1,I=null)}}else S=!1}if("function"===typeof k)x=function(){k(O)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=O,x=function(){P.postMessage(null)}}else x=function(){y(O,0)};function R(e){I=e,S||(S=!0,x())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return K},SDK_VERSION:function(){return rt},_DEFAULT_ENTRY_NAME:function(){return We},_addComponent:function(){return Qe},_addOrOverwriteComponent:function(){return Ye},_apps:function(){return Ke},_clearComponents:function(){return Ze},_components:function(){return He},_getProvider:function(){return Xe},_registerComponent:function(){return $e},_removeServiceInstance:function(){return Je},deleteApp:function(){return ut},getApp:function(){return at},getApps:function(){return ot},initializeApp:function(){return it},onLog:function(){return lt},registerVersion:function(){return ct},setLogLevel:function(){return ft}});var t=n(1250);function r(e){if(Array.isArray(e))return e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return r(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||a(e,t)||o()}var s=n(2791);function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(){return l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},l.apply(this,arguments)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e){var t=p();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(this,n)}}function y(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function g(){g=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new T(i||[]);return r(o,"_invoke",{value:x(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,k=y&&y(y(C([])));k&&k!==t&&n.call(k,a)&&(m=k);var b=p.prototype=h.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==v(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function k(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){k(a,r,i,o,u,"next",e)}function u(e){k(a,r,i,o,u,"throw",e)}o(void 0)}))}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function S(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function I(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function E(e){return function(e){if(Array.isArray(e))return i(e)}(e)||I(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t,n){return C=p()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&h(i,n.prototype),i},C.apply(null,arguments)}function A(e){var t="function"===typeof Map?new Map:void 0;return A=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return C(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,e)},A(e)}var O=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},N={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(O(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new P;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},P=function(e){d(n,e);var t=m(n);function n(){var e;return w(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return S(n)}(A(Error)),R=function(e){return function(e){var t=O(e);return N.encodeByteArray(t,!0)}(e).replace(/\./g,"")},D=function(e){try{return N.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function M(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=M(e[n],t[n]));return e}var L=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},F=function(){try{return L()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&D(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},j=function(){var e;return null===(e=F())||void 0===e?void 0:e.config},z=function(){function e(){var t=this;w(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return S(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function U(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function V(){var e,t=null===(e=F())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function B(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function q(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function W(){var e=U();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function G(){try{return"object"===typeof indexedDB}catch(e){return!1}}var K=function(e){d(n,e);var t=m(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(f(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(f(a),H.prototype.create),a}return S(n)}(A(Error)),H=function(){function e(t,n,r){w(this,e),this.service=t,this.serviceName=n,this.errors=r}return S(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Q,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new K(n,a,t)}}]),e}();var Q=/\{\$([^}]+)}/g;function Y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function X(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(J(u)&&J(s)){if(!X(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function J(e){return null!==e&&"object"===typeof e}function Z(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ee(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function te(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ne(e,t){var n=new re(e,t);return n.subscribe.bind(n)}var re=function(){function e(t,n){var r=this;w(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return S(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=y(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ie),void 0===r.error&&(r.error=ie),void 0===r.complete&&(r.complete=ie);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ie(){}function ae(e){return e&&e._delegate?e._delegate:e}var oe=function(){function e(t,n,r){w(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return S(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ue="[DEFAULT]",se=function(){function e(t,n){w(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return S(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new z;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(c){}var t,n=y(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=b(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(E(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),E(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=y(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),c=s[0],l=s[1];r===this.normalizeInstanceIdentifier(c)&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=y(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Zx){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ce(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(Zx){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;return this.component?this.component.multipleInstances?e:ue:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function ce(e){return e===ue?void 0:e}var le,fe,he=function(){function e(t){w(this,e),this.name=t,this.providers=new Map}return S(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new se(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),de=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(fe||(fe={}));var pe={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},ve=fe.INFO,me=(T(le={},fe.DEBUG,"log"),T(le,fe.VERBOSE,"log"),T(le,fe.INFO,"info"),T(le,fe.WARN,"warn"),T(le,fe.ERROR,"error"),le),ye=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=me[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ge=function(){function e(t){w(this,e),this.name=t,this._logLevel=ve,this._logHandler=ye,this._userLogHandler=null,de.push(this)}return S(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in fe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?pe[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fe.DEBUG].concat(t)),this._logHandler.apply(this,[this,fe.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fe.VERBOSE].concat(t)),this._logHandler.apply(this,[this,fe.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fe.INFO].concat(t)),this._logHandler.apply(this,[this,fe.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fe.WARN].concat(t)),this._logHandler.apply(this,[this,fe.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fe.ERROR].concat(t)),this._logHandler.apply(this,[this,fe.ERROR].concat(t))}}]),e}();function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we,_e,xe=function(e,t){return t.some((function(t){return e instanceof t}))};var Se=new WeakMap,Ie=new WeakMap,Ee=new WeakMap,Te=new WeakMap,Ce=new WeakMap;var Ae={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ie.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ee.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pe(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Oe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(_e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Re(this),n),Pe(Se.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pe(e.apply(Re(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Re(this),t].concat(r));return Ee.set(a,t.sort?t.sort():[t]),Pe(a)}}function Ne(e){return"function"===typeof e?Oe(e):(e instanceof IDBTransaction&&function(e){if(!Ie.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ie.set(e,t)}}(e),xe(e,we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ae):e)}function Pe(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Pe(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Se.set(t,e)})).catch((function(){})),Ce.set(t,e),t}(e);if(Te.has(e))return Te.get(e);var t=Ne(e);return t!==e&&(Te.set(e,t),Ce.set(t,e)),t}var Re=function(e){return Ce.get(e)};var De,Me,Le=["get","getKey","getAll","getAllKeys","count"],Fe=["put","add","delete","clear"],je=new Map;function ze(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(je.get(t))return je.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Fe.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Le.includes(n))){var a=function(){var e=b(g().mark((function e(t){var a,o,u,s,c,l,f=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return je.set(t,a),a}}}Ae=function(e){return be(be({},e),{},{get:function(t,n,r){return ze(t,n)||e.get(t,n,r)},has:function(t,n){return!!ze(t,n)||e.has(t,n)}})}(Ae);var Ue=function(){function e(t){w(this,e),this.container=t}return S(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ve="@firebase/app",Be="0.9.10",qe=new ge("@firebase/app"),We="[DEFAULT]",Ge=(T(De={},Ve,"fire-core"),T(De,"@firebase/app-compat","fire-core-compat"),T(De,"@firebase/analytics","fire-analytics"),T(De,"@firebase/analytics-compat","fire-analytics-compat"),T(De,"@firebase/app-check","fire-app-check"),T(De,"@firebase/app-check-compat","fire-app-check-compat"),T(De,"@firebase/auth","fire-auth"),T(De,"@firebase/auth-compat","fire-auth-compat"),T(De,"@firebase/database","fire-rtdb"),T(De,"@firebase/database-compat","fire-rtdb-compat"),T(De,"@firebase/functions","fire-fn"),T(De,"@firebase/functions-compat","fire-fn-compat"),T(De,"@firebase/installations","fire-iid"),T(De,"@firebase/installations-compat","fire-iid-compat"),T(De,"@firebase/messaging","fire-fcm"),T(De,"@firebase/messaging-compat","fire-fcm-compat"),T(De,"@firebase/performance","fire-perf"),T(De,"@firebase/performance-compat","fire-perf-compat"),T(De,"@firebase/remote-config","fire-rc"),T(De,"@firebase/remote-config-compat","fire-rc-compat"),T(De,"@firebase/storage","fire-gcs"),T(De,"@firebase/storage-compat","fire-gcs-compat"),T(De,"@firebase/firestore","fire-fst"),T(De,"@firebase/firestore-compat","fire-fst-compat"),T(De,"fire-js","fire-js"),T(De,"firebase","fire-js-all"),De),Ke=new Map,He=new Map;function Qe(e,t){try{e.container.addComponent(t)}catch(n){qe.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ye(e,t){e.container.addOrOverwriteComponent(t)}function $e(e){var t=e.name;if(He.has(t))return qe.debug("There were multiple attempts to register component ".concat(t,".")),!1;He.set(t,e);var n,r=y(Ke.values());try{for(r.s();!(n=r.n()).done;){Qe(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Xe(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Je(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:We;Xe(e,t).clearInstance(n)}function Ze(){He.clear()}var et=(T(Me={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),T(Me,"bad-app-name","Illegal App name: '{$appName}"),T(Me,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),T(Me,"app-deleted","Firebase App named '{$appName}' already deleted"),T(Me,"no-options","Need to provide options, when not being deployed to hosting via source."),T(Me,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),T(Me,"invalid-log-argument","First argument to `onLog` must be null or a function."),T(Me,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),T(Me,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),T(Me,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),T(Me,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Me),tt=new H("app","Firebase",et),nt=function(){function e(t,n,r){var i=this;w(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oe("app",(function(){return i}),"PUBLIC"))}return S(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw tt.create("app-deleted",{appName:this._name})}}]),e}(),rt="9.22.0";function it(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:We,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw tt.create("bad-app-name",{appName:String(i)});if(n||(n=j()),!n)throw tt.create("no-options");var a=Ke.get(i);if(a){if(X(n,a.options)&&X(r,a.config))return a;throw tt.create("duplicate-app",{appName:i})}var o,u=new he(i),s=y(He.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new nt(n,r,u);return Ke.set(i,l),l}function at(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=Ke.get(e);if(!t&&e===We&&j())return it();if(!t)throw tt.create("no-app",{appName:e});return t}function ot(){return Array.from(Ke.values())}function ut(e){return st.apply(this,arguments)}function st(){return st=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ke.has(n)){e.next=6;break}return Ke.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),st.apply(this,arguments)}function ct(e,t,n){var r,i=null!==(r=Ge[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void qe.warn(u.join(" "))}$e(new oe("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function lt(e,t){if(null!==e&&"function"!==typeof e)throw tt.create("invalid-log-argument");!function(e,t){var n,r=y(de);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=pe[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:fe[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ft(e){var t;t=e,de.forEach((function(e){e.setLogLevel(t)}))}var ht="firebase-heartbeat-database",dt=1,pt="firebase-heartbeat-store",vt=null;function mt(){return vt||(vt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Pe(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Pe(u.result),e.oldVersion,e.newVersion,Pe(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(ht,dt,{upgrade:function(e,t){if(0===t)e.createObjectStore(pt)}}).catch((function(e){throw tt.create("idb-open",{originalErrorMessage:e.message})}))),vt}function yt(e){return gt.apply(this,arguments)}function gt(){return gt=b(g().mark((function e(t){var n,r,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mt();case 3:return n=e.sent,e.next=6,n.transaction(pt).objectStore(pt).get(wt(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof K?qe.warn(e.t0.message):(i=tt.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),qe.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),gt.apply(this,arguments)}function kt(e,t){return bt.apply(this,arguments)}function bt(){return bt=b(g().mark((function e(t,n){var r,i,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mt();case 3:return r=e.sent,i=r.transaction(pt,"readwrite"),a=i.objectStore(pt),e.next=8,a.put(n,wt(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof K?qe.warn(e.t0.message):(o=tt.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),qe.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),bt.apply(this,arguments)}function wt(e){return"".concat(e.name,"!").concat(e.options.appId)}var _t=function(){function e(t){var n=this;w(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Et(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return S(e,[{key:"triggerHeartbeat",value:function(){var e=b(g().mark((function e(){var t,n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=xt(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=b(g().mark((function e(){var t,n,r,i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=xt(),n=St(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=R(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function xt(){return(new Date).toISOString().substring(0,10)}function St(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=y(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Tt(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Tt(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var It,Et=function(){function e(t){w(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return S(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=b(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,yt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=b(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",kt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=b(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",kt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(E(r.heartbeats),E(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Tt(e){return R(JSON.stringify({version:2,heartbeats:e})).length}It="",$e(new oe("platform-logger",(function(e){return new Ue(e)}),"PRIVATE")),$e(new oe("heartbeat",(function(e){return new _t(e)}),"PRIVATE")),ct(Ve,Be,It),ct(Ve,Be,"esm2017"),ct("fire-js","");var Ct=function(){return Ct=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ct.apply(this,arguments)};function At(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function Ot(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var Nt,Pt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Rt="EMAIL_SIGNIN",Dt="PASSWORD_RESET",Mt="RECOVER_EMAIL",Lt="REVERT_SECOND_FACTOR_ADDITION",Ft="VERIFY_AND_CHANGE_EMAIL",jt="VERIFY_EMAIL";function zt(){return T({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ut=function(){var e;return T(e={},"admin-restricted-operation","This operation is restricted to administrators only."),T(e,"argument-error",""),T(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),T(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),T(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),T(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),T(e,"cordova-not-ready","Cordova framework is not ready."),T(e,"cors-unsupported","This browser is not supported."),T(e,"credential-already-in-use","This credential is already associated with a different user account."),T(e,"custom-token-mismatch","The custom token corresponds to a different audience."),T(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),T(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),T(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),T(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),T(e,"email-already-in-use","The email address is already in use by another account."),T(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),T(e,"expired-action-code","The action code has expired."),T(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),T(e,"internal-error","An internal AuthError has occurred."),T(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),T(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),T(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),T(e,"invalid-auth-event","An internal AuthError has occurred."),T(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),T(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),T(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),T(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),T(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),T(e,"invalid-email","The email address is badly formatted."),T(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),T(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),T(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),T(e,"invalid-credential","The supplied auth credential is malformed or has expired."),T(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),T(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),T(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),T(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),T(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),T(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),T(e,"wrong-password","The password is invalid or the user does not have a password."),T(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),T(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),T(e,"invalid-provider-id","The specified provider ID is invalid."),T(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),T(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),T(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),T(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),T(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),T(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),T(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),T(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),T(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),T(e,"missing-continue-uri","A continue URL must be provided in the request."),T(e,"missing-iframe-start","An internal AuthError has occurred."),T(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),T(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),T(e,"missing-password","A non-empty password must be provided"),T(e,"missing-multi-factor-info","No second factor identifier is provided."),T(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),T(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),T(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),T(e,"app-deleted","This instance of FirebaseApp has been deleted."),T(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),T(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),T(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),T(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),T(e,"no-auth-event","An internal AuthError has occurred."),T(e,"no-such-provider","User was not linked to an account with the given provider."),T(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),T(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),T(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),T(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),T(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),T(e,"provider-already-linked","User can only be linked to one identity for the given provider."),T(e,"quota-exceeded","The project's quota for this operation has been exceeded."),T(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),T(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),T(e,"rejected-credential","The request contains malformed or mismatching credentials."),T(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),T(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),T(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),T(e,"timeout","The operation has timed out."),T(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),T(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),T(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),T(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),T(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),T(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),T(e,"unverified-email","The operation requires a verified email."),T(e,"user-cancelled","The user did not grant your application the permissions it requested."),T(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),T(e,"user-disabled","The user account has been disabled by an administrator."),T(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),T(e,"user-signed-out",""),T(e,"weak-password","The password must be 6 characters long or more."),T(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),T(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),T(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),T(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),T(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),T(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),T(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),T(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),T(e,"invalid-req-type","Invalid request parameters."),T(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},Vt=zt,Bt=new H("auth","Firebase",zt()),qt=new ge("@firebase/auth");function Wt(e){if(qt.logLevel<=fe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];qt.warn.apply(qt,["Auth (".concat(rt,"): ").concat(e)].concat(n))}}function Gt(e){if(qt.logLevel<=fe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];qt.error.apply(qt,["Auth (".concat(rt,"): ").concat(e)].concat(n))}}function Kt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw $t.apply(void 0,[e].concat(n))}function Ht(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $t.apply(void 0,[e].concat(n))}function Qt(e,t,n){var r=Object.assign(Object.assign({},Vt()),T({},t,n));return new H("auth","Firebase",r).create(t,{appName:e.name})}function Yt(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Kt(e,"argument-error"),Qt(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function $t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=E(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(E(o)))}return Bt.create.apply(Bt,[e].concat(n))}function Xt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw $t.apply(void 0,[t].concat(r))}}function Jt(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Gt(t),new Error(t)}function Zt(e,t){e||Jt(t)}function en(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function tn(){return"http:"===nn()||"https:"===nn()}function nn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var rn=function(){function e(t,n){w(this,e),this.shortDelay=t,this.longDelay=n,Zt(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(U())||q()}return S(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(tn()||B()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function an(e,t){Zt(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var on=function(){function e(){w(this,e)}return S(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Jt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Jt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Jt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),un=(T(Nt={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),T(Nt,"MISSING_CUSTOM_TOKEN","internal-error"),T(Nt,"INVALID_IDENTIFIER","invalid-email"),T(Nt,"MISSING_CONTINUE_URI","internal-error"),T(Nt,"INVALID_PASSWORD","wrong-password"),T(Nt,"MISSING_PASSWORD","missing-password"),T(Nt,"EMAIL_EXISTS","email-already-in-use"),T(Nt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),T(Nt,"INVALID_IDP_RESPONSE","invalid-credential"),T(Nt,"INVALID_PENDING_TOKEN","invalid-credential"),T(Nt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),T(Nt,"MISSING_REQ_TYPE","internal-error"),T(Nt,"EMAIL_NOT_FOUND","user-not-found"),T(Nt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),T(Nt,"EXPIRED_OOB_CODE","expired-action-code"),T(Nt,"INVALID_OOB_CODE","invalid-action-code"),T(Nt,"MISSING_OOB_CODE","internal-error"),T(Nt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),T(Nt,"INVALID_ID_TOKEN","invalid-user-token"),T(Nt,"TOKEN_EXPIRED","user-token-expired"),T(Nt,"USER_NOT_FOUND","user-token-expired"),T(Nt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),T(Nt,"INVALID_CODE","invalid-verification-code"),T(Nt,"INVALID_SESSION_INFO","invalid-verification-id"),T(Nt,"INVALID_TEMPORARY_PROOF","invalid-credential"),T(Nt,"MISSING_SESSION_INFO","missing-verification-id"),T(Nt,"SESSION_EXPIRED","code-expired"),T(Nt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),T(Nt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),T(Nt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),T(Nt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),T(Nt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),T(Nt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),T(Nt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),T(Nt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),T(Nt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),T(Nt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),T(Nt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),T(Nt,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),T(Nt,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),T(Nt,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),T(Nt,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),T(Nt,"MISSING_CLIENT_TYPE","missing-client-type"),T(Nt,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),T(Nt,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),T(Nt,"INVALID_REQ_TYPE","invalid-req-type"),Nt),sn=new rn(3e4,6e4);function cn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ln(e,t,n,r){return fn.apply(this,arguments)}function fn(){return fn=b(g().mark((function e(t,n,r,i){var a,o=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",hn(t,a,b(g().mark((function e(){var a,o,u,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Z(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",on.fetch()(mn(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),fn.apply(this,arguments)}function hn(e,t,n){return dn.apply(this,arguments)}function dn(){return dn=b(g().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},un),n),e.prev=2,a=new yn(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw gn(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=u(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw gn(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw gn(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw gn(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Qt(t,p,d);case 34:Kt(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof K)){e.next=41;break}throw e.t0;case 41:Kt(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),dn.apply(this,arguments)}function pn(e,t,n,r){return vn.apply(this,arguments)}function vn(){return vn=b(g().mark((function e(t,n,r,i){var a,o,u=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,ln(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Kt(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),vn.apply(this,arguments)}function mn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?an(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var yn=function(){function e(t){var n=this;w(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ht(n.auth,"network-request-failed"))}),sn.get())}))}return S(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function gn(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ht(e,t,r);return i.customData._tokenResponse=n,i}function kn(e,t){return bn.apply(this,arguments)}function bn(){return bn=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),bn.apply(this,arguments)}function wn(e,t){return _n.apply(this,arguments)}function _n(){return _n=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),_n.apply(this,arguments)}function xn(e,t){return Sn.apply(this,arguments)}function Sn(){return Sn=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Sn.apply(this,arguments)}function In(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function En(){return En=b(g().mark((function e(t){var n,r,i,a,o,u,s=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=ae(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Xt((a=Cn(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:In(Tn(a.auth_time)),issuedAtTime:In(Tn(a.iat)),expirationTime:In(Tn(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),En.apply(this,arguments)}function Tn(e){return 1e3*Number(e)}function Cn(e){var t=u(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Gt("JWT malformed, contained fewer than 3 sections"),null;try{var a=D(r);return a?JSON.parse(a):(Gt("Failed to decode base64 JWT payload"),null)}catch(o){return Gt("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function An(e,t){return On.apply(this,arguments)}function On(){return On=b(g().mark((function e(t,n){var r=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof K&&Nn(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),On.apply(this,arguments)}function Nn(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Pn=function(){function e(t){w(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return S(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(b(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Rn=function(){function e(t,n){w(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return S(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=In(this.lastLoginAt),this.creationTime=In(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Dn(e){return Mn.apply(this,arguments)}function Mn(){return Mn=b(g().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,An(t,xn(r,{idToken:i}));case 6:Xt(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=At(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=Fn(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Rn(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Mn.apply(this,arguments)}function Ln(){return(Ln=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ae(t),e.next=3,Dn(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fn(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(E(n),E(t))}function jn(e,t){return zn.apply(this,arguments)}function zn(){return zn=b(g().mark((function e(t,n){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hn(t,{},b(g().mark((function e(){var r,i,a,o,u,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Z({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=mn(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",on.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),zn.apply(this,arguments)}var Un=function(){function e(){w(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return S(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Xt(e.idToken,"internal-error"),Xt("undefined"!==typeof e.idToken,"internal-error"),Xt("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Cn(e);return Xt(t,"internal-error"),Xt("undefined"!==typeof t.exp,"internal-error"),Xt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=b(g().mark((function e(t){var n,r=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Xt(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=b(g().mark((function e(t,n){var r,i,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jn(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Jt("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Xt("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Xt("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Xt("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Vn(e,t){Xt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Bn=function(){function e(t){w(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=At(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?E(a.providerData):[],this.metadata=new Rn(a.createdAt||void 0,a.lastLoginAt||void 0)}return S(e,[{key:"getIdToken",value:function(){var e=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Xt(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return En.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ln.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Xt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=b(g().mark((function e(t){var n,r,i=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Dn(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=b(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,An(this,kn(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Xt(k&&x,t,"internal-error");var S=Un.fromJSON(this.name,x);Xt("string"===typeof k,t,"internal-error"),Vn(f,t.name),Vn(h,t.name),Xt("boolean"===typeof b,t,"internal-error"),Xt("boolean"===typeof w,t,"internal-error"),Vn(d,t.name),Vn(p,t.name),Vn(v,t.name),Vn(m,t.name),Vn(y,t.name),Vn(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(I.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=b(g().mark((function t(n,r){var i,a,o,u=arguments;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Un).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Dn(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),qn=new Map;function Wn(e){Zt(e instanceof Function,"Expected a class definition");var t=qn.get(e);return t?(Zt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,qn.set(e,t),t)}var Gn=function(){function e(){w(this,e),this.type="NONE",this.storage={}}return S(e,[{key:"_isAvailable",value:function(){var e=b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Gn.type="NONE";var Kn=Gn;function Hn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Qn=function(){function e(t,n,r){w(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Hn(this.userKey,a.apiKey,o),this.fullPersistenceKey=Hn("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return S(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=b(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Bn._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=b(g().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Wn(Kn),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Wn(Kn),u=Hn(i,n.config.apiKey,n.name),s=null,c=y(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Bn._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Yn(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Zn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($n(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tr(t))return"Blackberry";if(nr(t))return"Webos";if(Xn(t))return"Safari";if((t.includes("chrome/")||Jn(t))&&!t.includes("edge/"))return"Chrome";if(er(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function $n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/firefox\//i.test(e)}function Xn(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:U()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/crios\//i.test(e)}function Zn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/iemobile/i.test(e)}function er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/android/i.test(e)}function tr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/blackberry/i.test(e)}function nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/webos/i.test(e)}function rr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ir(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return rr(e)||er(e)||nr(e)||tr(e)||/windows phone/i.test(e)||Zn(e)}function ar(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Yn(U());break;case"Worker":t="".concat(Yn(U()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(rt,"/").concat(r)}function or(e){return ur.apply(this,arguments)}function ur(){return ur=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),ur.apply(this,arguments)}function sr(e,t){return cr.apply(this,arguments)}function cr(){return cr=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"GET","/v2/recaptchaConfig",cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),cr.apply(this,arguments)}function lr(e){return void 0!==e&&void 0!==e.getResponse}function fr(e){return void 0!==e&&void 0!==e.enterprise}var hr=S((function e(t){if(w(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function dr(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ht("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function pr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var vr=function(){function e(t){w(this,e),this.type="recaptcha-enterprise",this.auth=br(t)}return S(e,[{key:"verify",value:function(){var e=b(g().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;fr(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=b(g().mark((function e(n,r){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sr(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new hr(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&fr(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));dr("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function mr(e,t,n){return yr.apply(this,arguments)}function yr(){return yr=b(g().mark((function e(t,n,r){var i,a,o,u,s=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new vr(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),yr.apply(this,arguments)}var gr=function(){function e(t){w(this,e),this.auth=t,this.queue=[]}return S(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=b(g().mark((function e(t){var n,r,i,a,o,u,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=y(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=y(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(mC){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),kr=function(){function e(t,n,r,i){w(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wr(this),this.idTokenSubscription=new wr(this),this.beforeStateQueue=new gr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return S(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Wn(t)),this._initializationPromise=this.queue(b(g().mark((function r(){var i,a;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Qn.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=b(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=b(g().mark((function e(t){var n,r,i,a,o,u,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Xt(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dn(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ae(t):null)&&Xt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=b(g().mark((function e(t){var n,r=this,i=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Xt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(b(g().mark((function n(){return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Wn(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=b(g().mark((function e(){var t,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sr(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new hr(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new vr(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new H("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=b(g().mark((function e(t,n){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Xt(n=t&&Wn(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Qn.create(this,[Wn(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=b(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=b(g().mark((function e(t){var n=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Xt(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ar(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=b(g().mark((function e(){var t,n,r,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=T({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=b(g().mark((function e(){var t,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Wt("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function br(e){return ae(e)}var wr=function(){function e(t){var n=this;w(this,e),this.auth=t,this.observer=null,this.addObserver=ne((function(e){return n.observer=e}))}return S(e,[{key:"next",get:function(){return Xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function _r(e,t,n){var r=br(e);Xt(r._canInitEmulator,r,"emulator-config-failed"),Xt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=xr(t),o=function(e){var t=xr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Sr(r.substr(a.length+1))}}var o=u(r.split(":"),2);return{host:o[0],port:Sr(o[1])}}(t),s=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function xr(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Sr(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ir=function(){function e(t,n){w(this,e),this.providerId=t,this.signInMethod=n}return S(e,[{key:"toJSON",value:function(){return Jt("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Jt("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Jt("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Jt("not implemented")}}]),e}();function Er(e,t){return Tr.apply(this,arguments)}function Tr(){return Tr=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:resetPassword",cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Tr.apply(this,arguments)}function Cr(e,t){return Ar.apply(this,arguments)}function Ar(){return Ar=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ar.apply(this,arguments)}function Or(e,t){return Nr.apply(this,arguments)}function Nr(){return Nr=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:update",cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Nr.apply(this,arguments)}function Pr(e,t){return Rr.apply(this,arguments)}function Rr(){return Rr=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pn(t,"POST","/v1/accounts:signInWithPassword",cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rr.apply(this,arguments)}function Dr(e,t){return Mr.apply(this,arguments)}function Mr(){return Mr=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:sendOobCode",cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mr.apply(this,arguments)}function Lr(e,t){return Fr.apply(this,arguments)}function Fr(){return Fr=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dr(t,n));case 1:case"end":return e.stop()}}),e)}))),Fr.apply(this,arguments)}function jr(e,t){return zr.apply(this,arguments)}function zr(){return zr=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dr(t,n));case 1:case"end":return e.stop()}}),e)}))),zr.apply(this,arguments)}function Ur(e,t){return Vr.apply(this,arguments)}function Vr(){return Vr=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dr(t,n));case 1:case"end":return e.stop()}}),e)}))),Vr.apply(this,arguments)}function Br(e,t){return qr.apply(this,arguments)}function qr(){return qr=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dr(t,n));case 1:case"end":return e.stop()}}),e)}))),qr.apply(this,arguments)}function Wr(e,t){return Gr.apply(this,arguments)}function Gr(){return Gr=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pn(t,"POST","/v1/accounts:signInWithEmailLink",cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gr.apply(this,arguments)}function Kr(e,t){return Hr.apply(this,arguments)}function Hr(){return Hr=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pn(t,"POST","/v1/accounts:signInWithEmailLink",cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hr.apply(this,arguments)}var Qr=function(e){d(n,e);var t=m(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return w(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return S(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=b(g().mark((function e(t){var n,r,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,mr(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Pr(t,i));case 11:return e.abrupt("return",Pr(t,r).catch(function(){var e=b(g().mark((function e(n){var i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,mr(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Pr(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Wr(t,{email:this._email,oobCode:this._password}));case 13:Kt(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Cr(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Kr(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Kt(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ir);function Yr(e,t){return $r.apply(this,arguments)}function $r(){return $r=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pn(t,"POST","/v1/accounts:signInWithIdp",cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),$r.apply(this,arguments)}var Xr=function(e){d(n,e);var t=m(n);function n(){var e;return w(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return S(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Yr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Yr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Yr(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Z(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Kt("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=At(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ir);function Jr(e,t){return Zr.apply(this,arguments)}function Zr(){return Zr=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:sendVerificationCode",cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zr.apply(this,arguments)}function ei(){return ei=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pn(t,"POST","/v1/accounts:signInWithPhoneNumber",cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ei.apply(this,arguments)}function ti(){return ti=b(g().mark((function e(t,n){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pn(t,"POST","/v1/accounts:signInWithPhoneNumber",cn(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw gn(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}var ni=T({},"USER_NOT_FOUND","user-not-found");function ri(){return ri=b(g().mark((function e(t,n){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",pn(t,"POST","/v1/accounts:signInWithPhoneNumber",cn(t,r),ni));case 2:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}var ii=function(e){d(n,e);var t=m(n);function n(e){var r;return w(this,n),(r=t.call(this,"phone","phone")).params=e,r}return S(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ei.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ti.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ri.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ir);var ai=function(){function e(t){var n,r,i,a,o,u;w(this,e);var s=ee(te(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Xt(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return S(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ee(te(e)).link,n=t?ee(te(t)).deep_link_id:null,r=ee(te(e)).deep_link_id;return(r?ee(te(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Zx){return null}}}]),e}();var oi=function(){function e(){w(this,e),this.providerId=e.PROVIDER_ID}return S(e,null,[{key:"credential",value:function(e,t){return Qr._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ai.parseLink(t);return Xt(n,"argument-error"),Qr._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();oi.PROVIDER_ID="password",oi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",oi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ui=function(){function e(t){w(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return S(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),si=function(e){d(n,e);var t=m(n);function n(){var e;return w(this,n),(e=t.apply(this,arguments)).scopes=[],e}return S(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return E(this.scopes)}}]),n}(ui),ci=function(e){d(n,e);var t=m(n);function n(){return w(this,n),t.apply(this,arguments)}return S(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Xt(e.idToken||e.accessToken,"argument-error"),Xr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Xt("providerId"in t&&"signInMethod"in t,"argument-error"),Xr._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(si),li=function(e){d(n,e);var t=m(n);function n(){return w(this,n),t.call(this,"facebook.com")}return S(n,null,[{key:"credential",value:function(e){return Xr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Zx){return null}}}]),n}(si);li.FACEBOOK_SIGN_IN_METHOD="facebook.com",li.PROVIDER_ID="facebook.com";var fi=function(e){d(n,e);var t=m(n);function n(){var e;return w(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return S(n,null,[{key:"credential",value:function(e,t){return Xr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Zx){return null}}}]),n}(si);fi.GOOGLE_SIGN_IN_METHOD="google.com",fi.PROVIDER_ID="google.com";var hi=function(e){d(n,e);var t=m(n);function n(){return w(this,n),t.call(this,"github.com")}return S(n,null,[{key:"credential",value:function(e){return Xr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Zx){return null}}}]),n}(si);hi.GITHUB_SIGN_IN_METHOD="github.com",hi.PROVIDER_ID="github.com";var di=function(e){d(n,e);var t=m(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return S(n,[{key:"_getIdTokenResponse",value:function(e){return Yr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Yr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Yr(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ir),pi=function(e){d(n,e);var t=m(n);function n(e){return w(this,n),Xt(e.startsWith("saml."),"argument-error"),t.call(this,e)}return S(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=di.fromJSON(e);return Xt(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return di._create(r,n)}catch(i){return null}}}]),n}(ui),vi=function(e){d(n,e);var t=m(n);function n(){return w(this,n),t.call(this,"twitter.com")}return S(n,null,[{key:"credential",value:function(e,t){return Xr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Zx){return null}}}]),n}(si);function mi(e,t){return yi.apply(this,arguments)}function yi(){return yi=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pn(t,"POST","/v1/accounts:signUp",cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),yi.apply(this,arguments)}vi.TWITTER_SIGN_IN_METHOD="twitter.com",vi.PROVIDER_ID="twitter.com";var gi=function(){function e(t){w(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return S(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=b(g().mark((function t(n,r,i){var a,o,u,s,c=arguments;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Bn._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=ki(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=b(g().mark((function t(n,r,i){var a;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=ki(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function ki(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function bi(){return bi=b(g().mark((function e(t){var n,r,i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=br(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new gi({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,mi(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,gi._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),bi.apply(this,arguments)}var wi=function(e){d(n,e);var t=m(n);function n(e,r,i,a){var o,u;return w(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(f(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return S(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(K);function _i(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw wi._fromErrorAndOperation(e,n,t,r);throw n}))}function xi(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Si(e,t){return Ii.apply(this,arguments)}function Ii(){return Ii=b(g().mark((function e(t,n){var r,i,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ae(t),e.next=3,Ci(!0,r,n);case 3:return e.t0=wn,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=xi(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Ii.apply(this,arguments)}function Ei(e,t){return Ti.apply(this,arguments)}function Ti(){return Ti=b(g().mark((function e(t,n){var r,i,a=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=An,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",gi._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ti.apply(this,arguments)}function Ci(e,t,n){return Ai.apply(this,arguments)}function Ai(){return Ai=b(g().mark((function e(t,n,r){var i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dn(n);case 2:i=xi(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Xt(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),Ai.apply(this,arguments)}function Oi(e,t){return Ni.apply(this,arguments)}function Ni(){return Ni=b(g().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,An(t,_i(i,a,n,t),r);case 6:return Xt((o=e.sent).idToken,i,"internal-error"),Xt(u=Cn(o.idToken),i,"internal-error"),s=u.sub,Xt(t.uid===s,i,"user-mismatch"),e.abrupt("return",gi._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Kt(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ni.apply(this,arguments)}function Pi(e,t){return Ri.apply(this,arguments)}function Ri(){return Ri=b(g().mark((function e(t,n){var r,i,a,o,u=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,_i(t,i,n);case 4:return a=e.sent,e.next=7,gi._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ri.apply(this,arguments)}function Di(e,t){return Mi.apply(this,arguments)}function Mi(){return Mi=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pi(br(t),n));case 1:case"end":return e.stop()}}),e)}))),Mi.apply(this,arguments)}function Li(e,t){return Fi.apply(this,arguments)}function Fi(){return(Fi=b(g().mark((function e(t,n){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ae(t),e.next=3,Ci(!1,r,n.providerId);case 3:return e.abrupt("return",Ei(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ji(e,t){return zi.apply(this,arguments)}function zi(){return(zi=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oi(ae(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ui(e,t){return Vi.apply(this,arguments)}function Vi(){return Vi=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pn(t,"POST","/v1/accounts:signInWithCustomToken",cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Vi.apply(this,arguments)}function Bi(){return Bi=b(g().mark((function e(t,n){var r,i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=br(t),e.next=3,Ui(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,gi._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}var qi=function(){function e(t,n){w(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return S(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Wi._fromServerResponse(e,t):"totpInfo"in t?Gi._fromServerResponse(e,t):Kt(e,"internal-error")}}]),e}(),Wi=function(e){d(n,e);var t=m(n);function n(e){var r;return w(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return S(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(qi),Gi=function(e){d(n,e);var t=m(n);function n(e){return w(this,n),t.call(this,"totp",e)}return S(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(qi);function Ki(e,t,n){var r;Xt((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Xt("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Xt(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Xt(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Hi(){return Hi=b(g().mark((function e(t,n,r){var i,a,o,u;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=br(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,mr(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&Ki(a,u,r),e.next=9,jr(a,u);case 9:e.next=14;break;case 11:return r&&Ki(a,o,r),e.next=14,jr(a,o).catch(function(){var e=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,mr(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&Ki(a,n,r),e.next=8,jr(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),Hi.apply(this,arguments)}function Qi(){return Qi=b(g().mark((function e(t,n,r){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Er(ae(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Qi.apply(this,arguments)}function Yi(){return Yi=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Or(ae(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Yi.apply(this,arguments)}function $i(e,t){return Xi.apply(this,arguments)}function Xi(){return Xi=b(g().mark((function e(t,n){var r,i,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ae(t),e.next=3,Er(r,{oobCode:n});case 3:i=e.sent,Xt(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Xt(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Xt(i.mfaInfo,r,"internal-error");case 13:Xt(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=qi._fromServerResponse(br(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Xi.apply(this,arguments)}function Ji(){return Ji=b(g().mark((function e(t,n){var r,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$i(ae(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Ji.apply(this,arguments)}function Zi(e,t,n){return ea.apply(this,arguments)}function ea(){return ea=b(g().mark((function e(t,n,r){var i,a,o,u,s,c,l;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=br(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,mr(a,o,"signUpPassword");case 5:s=e.sent,u=mi(a,s),e.next=10;break;case 9:u=mi(a,o).catch(function(){var e=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,mr(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",mi(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,gi._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),ea.apply(this,arguments)}function ta(){return ta=b(g().mark((function e(t,n,r){var i,a,o,u,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){Xt(t.handleCodeInApp,a,"argument-error"),t&&Ki(a,e,t)},a=br(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,mr(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,Ur(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,Ur(a,o).catch(function(){var e=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,mr(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,Ur(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),ta.apply(this,arguments)}function na(){return na=b(g().mark((function e(t,n,r){var i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ae(t),Xt((a=oi.credentialWithLink(n,r||en()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Di(i,a));case 4:case"end":return e.stop()}}),e)}))),na.apply(this,arguments)}function ra(e,t){return ia.apply(this,arguments)}function ia(){return ia=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:createAuthUri",cn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ia.apply(this,arguments)}function aa(){return aa=b(g().mark((function e(t,n){var r,i,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tn()?en():"http://localhost",i={identifier:n,continueUri:r},e.next=4,ra(ae(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),aa.apply(this,arguments)}function oa(){return(oa=b(g().mark((function e(t,n){var r,i,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ae(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Ki(r.auth,a,n),e.next=8,Lr(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ua(){return(ua=b(g().mark((function e(t,n,r){var i,a,o,u;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ae(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Ki(i.auth,o,r),e.next=8,Br(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sa(e,t){return ca.apply(this,arguments)}function ca(){return ca=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}function la(){return(la=b(g().mark((function e(t,n){var r,i,a,o,u,s,c;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ae(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,An(a,sa(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fa(e,t,n){return ha.apply(this,arguments)}function ha(){return ha=b(g().mark((function e(t,n,r){var i,a,o,u;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,An(t,Cr(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}var da=S((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),pa=function(e){d(n,e);var t=m(n);function n(e,r,i,a){var o;return w(this,n),(o=t.call(this,e,r,i)).username=a,o}return S(n)}(da),va=function(e){d(n,e);var t=m(n);function n(e,r){return w(this,n),t.call(this,e,"facebook.com",r)}return S(n)}(da),ma=function(e){d(n,e);var t=m(n);function n(e,r){return w(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return S(n)}(pa),ya=function(e){d(n,e);var t=m(n);function n(e,r){return w(this,n),t.call(this,e,"google.com",r)}return S(n)}(da),ga=function(e){d(n,e);var t=m(n);function n(e,r,i){return w(this,n),t.call(this,e,"twitter.com",r,i)}return S(n)}(pa);function ka(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Cn(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new da(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new va(a,i);case"github.com":return new ma(a,i);case"google.com":return new ya(a,i);case"twitter.com":return new ga(a,i,e.screenName||null);case"custom":case"anonymous":return new da(a,null);default:return new da(a,r,i)}}(n)}var ba=function(){function e(t,n,r){w(this,e),this.type=t,this.credential=n,this.auth=r}return S(e,[{key:"toJSON",value:function(){return{multiFactorSession:T({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),wa=function(){function e(t,n,r){w(this,e),this.session=t,this.hints=n,this.signInResolver=r}return S(e,[{key:"resolveSignIn",value:function(){var e=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=br(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return qi._fromServerResponse(r,e)}));Xt(i.mfaPendingCredential,r,"internal-error");var o=ba._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=b(g().mark((function e(t){var a,u,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,gi._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Xt(n.user,r,"internal-error"),e.abrupt("return",gi._forOperation(n.user,n.operationType,u));case 17:Kt(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function _a(e,t){return ln(e,"POST","/v2/accounts/mfaEnrollment:start",cn(e,t))}function xa(e,t){return ln(e,"POST","/v2/accounts/mfaEnrollment:start",cn(e,t))}function Sa(e,t){return ln(e,"POST","/v2/accounts/mfaEnrollment:finalize",cn(e,t))}function Ia(e,t){return ln(e,"POST","/v2/accounts/mfaEnrollment:withdraw",cn(e,t))}var Ea=function(){function e(t){var n=this;w(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return qi._fromServerResponse(t.auth,e)})))}))}return S(e,[{key:"getSession",value:function(){var e=b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ba,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=b(g().mark((function e(t,n){var r,i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,An(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=b(g().mark((function e(t){var n,r,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,An(this.user,Ia(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Ta=new WeakMap;var Ca="__sak",Aa=function(){function e(t,n){w(this,e),this.storageRetriever=t,this.type=n}return S(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ca,"1"),this.storage.removeItem(Ca),Promise.resolve(!0)):Promise.resolve(!1)}catch(Zx){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Oa=function(e){d(n,e);var t=m(n);function n(){var e;return w(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=U();return Xn(e)||rr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ir(),e._shouldAllowMigration=!0,e}return S(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);W()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=b(g().mark((function e(t,r){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(c(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=b(g().mark((function e(t){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(c(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(c(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Aa);Oa.type="LOCAL";var Na=Oa,Pa=function(e){d(n,e);var t=m(n);function n(){return w(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return S(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Aa);Pa.type="SESSION";var Ra=Pa;function Da(e){return Promise.all(e.map(function(){var e=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ma=function(){function e(t){w(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return S(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=b(g().mark((function e(t){var n,r,i,a,o,u,s,c;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Da(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function La(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ma.receivers=[];var Fa=function(){function e(t){w(this,e),this.target=t,this.handlers=new Set}return S(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=b(g().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=La("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ja(){return window}function za(e){ja().location.href=e}function Ua(){return"undefined"!==typeof ja().WorkerGlobalScope&&"function"===typeof ja().importScripts}function Va(){return Ba.apply(this,arguments)}function Ba(){return(Ba=b(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function qa(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Wa="firebaseLocalStorageDb",Ga="firebaseLocalStorage",Ka="fbase_key",Ha=function(){function e(t){w(this,e),this.request=t}return S(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Qa(e,t){return e.transaction([Ga],t?"readwrite":"readonly").objectStore(Ga)}function Ya(){var e=indexedDB.deleteDatabase(Wa);return new Ha(e).toPromise()}function $a(){var e=indexedDB.open(Wa,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Ga,{keyPath:Ka})}catch(r){n(r)}})),e.addEventListener("success",b(g().mark((function n(){var r;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Ga)){n.next=12;break}return r.close(),n.next=5,Ya();case 5:return n.t0=t,n.next=8,$a();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Xa(e,t,n){return Ja.apply(this,arguments)}function Ja(){return Ja=b(g().mark((function e(t,n,r){var i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Qa(t,!0).put((T(i={},Ka,n),T(i,"value",r),i)),e.abrupt("return",new Ha(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ja.apply(this,arguments)}function Za(e,t){return eo.apply(this,arguments)}function eo(){return eo=b(g().mark((function e(t,n){var r,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qa(t,!1).get(n),e.next=3,new Ha(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),eo.apply(this,arguments)}function to(e,t){var n=Qa(e,!0).delete(t);return new Ha(n).toPromise()}var no=function(){function e(){w(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return S(e,[{key:"_openDb",value:function(){var e=b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,$a();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=b(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ua()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=b(g().mark((function e(){var t=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ma._getInstance(Ua()?self:null),this.receiver._subscribe("keyChanged",function(){var e=b(g().mark((function e(n,r){var i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=b(g().mark((function e(){var t,n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Va();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Fa(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&qa()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=b(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,$a();case 5:return t=e.sent,e.next=8,Xa(t,Ca,"1");case 8:return e.next=10,to(t,Ca);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=b(g().mark((function e(t,n){var r=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Xa(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Za(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=b(g().mark((function e(t){var n=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return to(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=b(g().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Qa(e,!1).getAll();return new Ha(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=y(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(b(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();no.type="LOCAL";var ro=no;function io(e,t){return ln(e,"POST","/v2/accounts/mfaSignIn:start",cn(e,t))}function ao(e,t){return ln(e,"POST","/v2/accounts/mfaSignIn:finalize",cn(e,t))}var oo=1e12,uo=function(){function e(t){w(this,e),this.auth=t,this.counter=oo,this._widgets=new Map}return S(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new so(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||oo;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||oo;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=b(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||oo,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),so=function(){function e(t,n,r){var i=this;w(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Xt(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return S(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var co=pr("rcb"),lo=new rn(3e4,6e4),fo=function(){function e(){var t;w(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=ja().grecaptcha)||void 0===t?void 0:t.render)}return S(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Xt(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&lr(ja().grecaptcha)?Promise.resolve(ja().grecaptcha):new Promise((function(r,i){var a=ja().setTimeout((function(){i(Ht(e,"network-request-failed"))}),lo.get());ja()[co]=function(){ja().clearTimeout(a),delete ja()[co];var o=ja().grecaptcha;if(o&&lr(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ht(e,"internal-error"))},dr("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Z({onload:co,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ht(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=ja().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var ho=function(){function e(){w(this,e)}return S(e,[{key:"load",value:function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new uo(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),po="recaptcha",vo={theme:"light",type:"image"},mo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},vo),r=arguments.length>2?arguments[2]:void 0;w(this,e),this.parameters=n,this.type=po,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=br(r),this.isInvisible="invisible"===this.parameters.size,Xt("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Xt(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ho:new fo,this.validateStartingState()}return S(e,[{key:"verify",value:function(){var e=b(g().mark((function e(){var t,n,r,i=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Xt(!this.parameters.sitekey,this.auth,"argument-error"),Xt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Xt("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=ja()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Xt(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=b(g().mark((function e(){var t,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=b(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xt(tn()&&!Ua(),this.auth,"internal-error"),e.next=3,yo();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,or(this.auth);case 8:Xt(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Xt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function yo(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var go=function(){function e(t,n){w(this,e),this.verificationId=t,this.onConfirmation=n}return S(e,[{key:"confirm",value:function(e){var t=ii._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function ko(){return ko=b(g().mark((function e(t,n,r){var i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=br(t),e.next=3,xo(i,n,ae(r));case 3:return a=e.sent,e.abrupt("return",new go(a,(function(e){return Di(i,e)})));case 5:case"end":return e.stop()}}),e)}))),ko.apply(this,arguments)}function bo(e,t,n){return wo.apply(this,arguments)}function wo(){return(wo=b(g().mark((function e(t,n,r){var i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ae(t),e.next=3,Ci(!1,i,"phone");case 3:return e.next=5,xo(i.auth,n,ae(r));case 5:return a=e.sent,e.abrupt("return",new go(a,(function(e){return Li(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _o(){return(_o=b(g().mark((function e(t,n,r){var i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ae(t),e.next=3,xo(i.auth,n,ae(r));case 3:return a=e.sent,e.abrupt("return",new go(a,(function(e){return ji(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xo(e,t,n){return So.apply(this,arguments)}function So(){return So=b(g().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Xt("string"===typeof a,t,"argument-error"),Xt(r.type===po,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Xt("enroll"===u.type,t,"internal-error"),e.next=13,_a(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Xt("signin"===u.type,t,"internal-error"),Xt(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,io(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Jr(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),So.apply(this,arguments)}function Io(){return(Io=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ei(ae(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Eo=function(){function e(t){w(this,e),this.providerId=e.PROVIDER_ID,this.auth=br(t)}return S(e,[{key:"verifyPhoneNumber",value:function(e,t){return xo(this.auth,e,ae(t))}}],[{key:"credential",value:function(e,t){return ii._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ii._fromTokenResponse(n,r):null}}]),e}();function To(e,t){return t?Wn(t):(Xt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Eo.PROVIDER_ID="phone",Eo.PHONE_SIGN_IN_METHOD="phone";var Co=function(e){d(n,e);var t=m(n);function n(e){var r;return w(this,n),(r=t.call(this,"custom","custom")).params=e,r}return S(n,[{key:"_getIdTokenResponse",value:function(e){return Yr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Yr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Yr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ir);function Ao(e){return Pi(e.auth,new Co(e),e.bypassAuthState)}function Oo(e){var t=e.auth,n=e.user;return Xt(n,t,"internal-error"),Oi(n,new Co(e),e.bypassAuthState)}function No(e){return Po.apply(this,arguments)}function Po(){return Po=b(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Xt(r=t.user,n,"internal-error"),e.abrupt("return",Ei(r,new Co(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Po.apply(this,arguments)}var Ro=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];w(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return S(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=b(g().mark((function t(n,r){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=b(g().mark((function e(t){var n,r,i,a,o,u,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ao;case"linkViaPopup":case"linkViaRedirect":return No;case"reauthViaPopup":case"reauthViaRedirect":return Oo;default:Kt(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Do=new rn(2e3,1e4);function Mo(e,t,n){return Lo.apply(this,arguments)}function Lo(){return Lo=b(g().mark((function e(t,n,r){var i,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=br(t),Yt(t,n,ui),a=To(i,r),o=new Uo(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}function Fo(){return Fo=b(g().mark((function e(t,n,r){var i,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yt((i=ae(t)).auth,n,ui),a=To(i.auth,r),o=new Uo(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}function jo(e,t,n){return zo.apply(this,arguments)}function zo(){return zo=b(g().mark((function e(t,n,r){var i,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yt((i=ae(t)).auth,n,ui),a=To(i.auth,r),o=new Uo(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}var Uo=function(e){d(n,e);var t=m(n);function n(e,r,i,a,o){var u;return w(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=f(u),u}return S(n,[{key:"executeNotNull",value:function(){var e=b(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Xt(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=b(g().mark((function e(){var t,n=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zt(1===this.filter.length,"Popup operations only handle one event"),t=La(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ht(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ht(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ht(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Do.get())}()}}]),n}(Ro);Uo.currentPopupAction=null;var Vo="pendingRedirect",Bo=new Map,qo=function(e){d(n,e);var t=m(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return w(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return S(n,[{key:"execute",value:function(){var e=b(g().mark((function e(){var t,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Bo.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Wo(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,l(c(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Bo.set(this.auth._key(),t);case 21:return this.bypassAuthState||Bo.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=b(g().mark((function e(t){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",l(c(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",l(c(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ro);function Wo(e,t){return Go.apply(this,arguments)}function Go(){return Go=b(g().mark((function e(t,n){var r,i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$o(n),i=Yo(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Go.apply(this,arguments)}function Ko(e,t){return Ho.apply(this,arguments)}function Ho(){return Ho=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t)._set($o(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Ho.apply(this,arguments)}function Qo(e,t){Bo.set(e._key(),t)}function Yo(e){return Wn(e._redirectPersistence)}function $o(e){return Hn(Vo,e.config.apiKey,e.name)}function Xo(e,t,n){return function(e,t,n){return Jo.apply(this,arguments)}(e,t,n)}function Jo(){return Jo=b(g().mark((function e(t,n,r){var i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=br(t),Yt(t,n,ui),e.next=4,i._initializationPromise;case 4:return a=To(i,r),e.next=7,Ko(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}function Zo(e,t,n){return function(e,t,n){return eu.apply(this,arguments)}(e,t,n)}function eu(){return eu=b(g().mark((function e(t,n,r){var i,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yt((i=ae(t)).auth,n,ui),e.next=4,i.auth._initializationPromise;case 4:return a=To(i.auth,r),e.next=7,Ko(a,i.auth);case 7:return e.next=9,uu(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(e,t,n){return function(e,t,n){return nu.apply(this,arguments)}(e,t,n)}function nu(){return nu=b(g().mark((function e(t,n,r){var i,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yt((i=ae(t)).auth,n,ui),e.next=4,i.auth._initializationPromise;case 4:return a=To(i.auth,r),e.next=7,Ci(!1,i,n.providerId);case 7:return e.next=9,Ko(a,i.auth);case 9:return e.next=11,uu(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)}))),nu.apply(this,arguments)}function ru(e,t){return iu.apply(this,arguments)}function iu(){return iu=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,br(t)._initializationPromise;case 2:return e.abrupt("return",au(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),iu.apply(this,arguments)}function au(e,t){return ou.apply(this,arguments)}function ou(){return ou=b(g().mark((function e(t,n){var r,i,a,o,u,s=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=br(t),a=To(i,n),o=new qo(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}function uu(e){return su.apply(this,arguments)}function su(){return(su=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=La("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cu=function(){function e(t){w(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return S(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!fu(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ht(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lu(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(lu(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function lu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function fu(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function hu(e){return du.apply(this,arguments)}function du(){return du=b(g().mark((function e(t){var n,r=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ln(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}var pu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vu=/^https?/;function mu(){return mu=b(g().mark((function e(t){var n,r,i,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,hu(t);case 4:n=e.sent,r=n.authorizedDomains,i=y(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!yu(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Kt(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),mu.apply(this,arguments)}function yu(e){var t=en(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!vu.test(r))return!1;if(pu.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var gu=new rn(3e4,6e4);function ku(){var e=ja().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=E(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var bu=null;function wu(e){return bu=bu||function(e){return new Promise((function(t,n){var r,i,a;function o(){ku(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ku(),n(Ht(e,"network-request-failed"))},timeout:gu.get()})}if(null===(i=null===(r=ja().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ja().gapi)||void 0===a?void 0:a.load)){var u=pr("iframefcb");return ja()[u]=function(){gapi.load?o():n(Ht(e,"network-request-failed"))},dr("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw bu=null,e}))}(e),bu}var _u=new rn(5e3,15e3),xu="__/auth/iframe",Su="emulator/auth/iframe",Iu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Eu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tu(e){var t=e.config;Xt(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?an(t,Su):"https://".concat(e.config.authDomain,"/").concat(xu),r={apiKey:t.apiKey,appName:e.name,v:rt},i=Eu.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Z(r).slice(1))}function Cu(e){return Au.apply(this,arguments)}function Au(){return Au=b(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wu(t);case 2:return n=e.sent,Xt(r=ja().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Tu(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Iu,dontclear:!0},(function(e){return new Promise(function(){var n=b(g().mark((function n(r,i){var a,o,u;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){ja().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ht(t,"network-request-failed"),o=ja().setTimeout((function(){i(a)}),_u.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Au.apply(this,arguments)}var Ou={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nu=function(){function e(t){w(this,e),this.window=t,this.associatedEvent=null}return S(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Pu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},Ou),{width:r.toString(),height:i.toString(),top:a,left:o}),l=U().toLowerCase();n&&(s=Jn(l)?"_blank":n),$n(l)&&(t=t||"http://localhost",c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return rr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:U())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Nu(null);var h=window.open(t||"",s,f);Xt(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Nu(h)}var Ru="__/auth/handler",Du="emulator/auth/handler",Mu=encodeURIComponent("fac");function Lu(e,t,n,r,i,a){return Fu.apply(this,arguments)}function Fu(){return Fu=b(g().mark((function e(t,n,r,i,a,o){var s,c,l,f,h,d,p,v,m,y,k,b,w;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xt(t.config.authDomain,t,"auth-domain-config-required"),Xt(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:rt,eventId:a},n instanceof ui)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",$(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),c=0,l=Object.entries(o||{});c<l.length;c++)f=u(l[c],2),h=f[0],d=f[1],s[h]=d;for(n instanceof si&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,y=Object.keys(v);m<y.length;m++)k=y[m],void 0===v[k]&&delete v[k];return e.next=10,t._getAppCheckToken();case 10:return b=e.sent,w=b?"#".concat(Mu,"=").concat(encodeURIComponent(b)):"",e.abrupt("return","".concat(ju(t),"?").concat(Z(v).slice(1)).concat(w));case 13:case"end":return e.stop()}}),e)}))),Fu.apply(this,arguments)}function ju(e){var t=e.config;return t.emulator?an(t,Du):"https://".concat(t.authDomain,"/").concat(Ru)}var zu="webStorageSupport",Uu=function(){function e(){w(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ra,this._completeRedirectFn=au,this._overrideRedirectResult=Qo}return S(e,[{key:"_openPopup",value:function(){var e=b(g().mark((function e(t,n,r,i){var a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zt(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Lu(t,n,r,en(),i);case 3:return o=e.sent,e.abrupt("return",Pu(t,o,La()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=b(g().mark((function e(t,n,r,i){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Lu(t,n,r,en(),i);case 4:return za(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Zt(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=b(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cu(t);case 2:return n=e.sent,r=new cu(t),n.register("authEvent",(function(e){return Xt(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(zu,{type:zu},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[zu];void 0!==i&&t(!!i),Kt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return mu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ir()||Xn()||rr()}}]),e}(),Vu=Uu,Bu=function(){function e(t){w(this,e),this.factorId=t}return S(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Jt("unexpected MultiFactorSessionType")}}}]),e}(),qu=function(e){d(n,e);var t=m(n);function n(e){var r;return w(this,n),(r=t.call(this,"phone")).credential=e,r}return S(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ln(e,"POST","/v2/accounts/mfaEnrollment:finalize",cn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ln(e,"POST","/v2/accounts/mfaSignIn:finalize",cn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Bu),Wu=function(){function e(){w(this,e)}return S(e,null,[{key:"assertion",value:function(e){return qu._fromCredential(e)}}]),e}();Wu.FACTOR_ID="phone";var Gu=function(){function e(){w(this,e)}return S(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Ku._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Ku._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=b(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xt("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,xa(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",Hu._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Gu.FACTOR_ID="totp";var Ku=function(e){d(n,e);var t=m(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return S(n,[{key:"_finalizeEnroll",value:function(){var e=b(g().mark((function e(t,n,r){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xt("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Sa(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=b(g().mark((function e(t,n){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xt(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",ao(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Bu),Hu=function(){function e(t,n,r,i,a,o,u){w(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return S(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Qu(e)||Qu(t))&&(r=!0),r&&(Qu(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Qu(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Qu(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Yu="@firebase/auth",$u="0.23.2",Xu=function(){function e(t){w(this,e),this.auth=t,this.internalListeners=new Map}return S(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Ju;!function(e){var t;null===(t=F())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Zu(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function es(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Ju="Browser",$e(new oe("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;Xt(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:Ju,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ar(Ju)},l=new kr(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),$e(new oe("auth-internal",(function(e){return function(e){return new Xu(e)}(br(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ct(Yu,$u,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ju)),ct(Yu,$u,"esm2017");var ts,ns=function(){return ns=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ns.apply(this,arguments)},rs=function(e){return{loading:void 0===e||null===e,value:e}},is=function(e){var t=e?e():void 0,n=(0,s.useReducer)((function(e,t){switch(t.type){case"error":return ns(ns({},e),{error:t.error,loading:!1,value:void 0});case"reset":return rs(t.defaultValue);case"value":return ns(ns({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),rs(t)),r=n[0],i=n[1],a=(0,s.useCallback)((function(){var t=e?e():void 0;i({type:"reset",defaultValue:t})}),[e]),o=(0,s.useCallback)((function(e){i({type:"error",error:e})}),[]),u=(0,s.useCallback)((function(e){i({type:"value",value:e})}),[]);return(0,s.useMemo)((function(){return{error:r.error,loading:r.loading,reset:a,setError:o,setValue:u,value:r.value}}),[r.error,r.loading,a,o,u,r.value])},as=function(e,t){var n=is((function(){return e.currentUser})),r=n.error,i=n.loading,a=n.setError,o=n.setValue,u=n.value;return(0,s.useEffect)((function(){var n=function(e,t,n,r){return ae(e).onAuthStateChanged(t,n,r)}(e,(function(e){return Zu(void 0,void 0,void 0,(function(){var n;return es(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),a(n),[3,4];case 4:return o(e),[2]}}))}))}),a);return function(){n()}}),[e]),[u,i,r]},os=function(){function e(t,n){var r=this;w(this,e),this._delegate=t,this.firebase=n,Qe(t,new oe("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return S(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ut(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:We;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:We;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Qe(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Ye(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),us=(T(ts={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),T(ts,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ts),ss=new H("app-compat","Firebase",us);var cs=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=it(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Y(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ct,setLogLevel:ft,onLog:lt,apps:null,SDK_VERSION:rt,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if($e(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ss.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&M(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Y(n,e=e||We))throw ss.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(os);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){M(n,e)},createSubscribe:ne,ErrorFactory:H,deepExtend:M}),n}(),ls=new ge("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ls.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var fs=self.firebase.SDK_VERSION;fs&&fs.indexOf("LITE")>=0&&ls.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var hs=cs;!function(e){ct("@firebase/app-compat","0.2.10",e)}();function ds(){return window}hs.registerVersion("firebase","9.22.0","app-compat");var ps=2e3;function vs(e,t,n){return ms.apply(this,arguments)}function ms(){return ms=b(g().mark((function e(t,n,r){var i,a,o,u,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ds(),o=a.BuildInfo,Zt(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,_s(n.sessionId);case 4:return u=e.sent,s={},rr()?s.ibi=o.packageName:er()?s.apn=o.packageName:Kt(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Lu(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),ms.apply(this,arguments)}function ys(){return ys=b(g().mark((function e(t){var n,r,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ds(),r=n.BuildInfo,i={},rr()?i.iosBundleId=r.packageName:er()?i.androidPackageName=r.packageName:Kt(t,"operation-not-supported-in-this-environment"),e.next=5,hu(t,i);case 5:case"end":return e.stop()}}),e)}))),ys.apply(this,arguments)}function gs(e){var t=ds().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function ks(e,t,n){return bs.apply(this,arguments)}function bs(){return bs=b(g().mark((function e(t,n,r){var i,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ds(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Ht(t,"redirect-cancelled-by-user"))}),ps))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),er()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),bs.apply(this,arguments)}function ws(e){var t,n,r,i,a,o,u,s,c,l,f=ds();Xt("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Xt("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Xt("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Xt("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Xt("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function _s(e){return xs.apply(this,arguments)}function xs(){return(xs=b(g().mark((function e(t){var n,r,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ss(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ss(e){if(Zt(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Is=20,Es=function(e){d(n,e);var t=m(n);function n(){var e;return w(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return S(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),l(c(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(cu);function Ts(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Ps(),postBody:null,tenantId:e.tenantId,error:Ht(e,"no-auth-event")}}function Cs(e,t){return Rs()._set(Ds(e),t)}function As(e){return Os.apply(this,arguments)}function Os(){return Os=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rs()._get(Ds(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Rs()._remove(Ds(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Os.apply(this,arguments)}function Ns(e,t){var n,r,i=function(e){var t=Ms(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ms(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ms(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Ms(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Ht(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Ps(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Is;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function Rs(){return Wn(Na)}function Ds(e){return Hn("authEvent",e.config.apiKey,e.name)}function Ms(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),i=r(t=n)||I(t)||a(t)||o();i[0];return ee(i.slice(1).join("?"))}var Ls=function(){function e(){w(this,e),this._redirectPersistence=Ra,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=au,this._overrideRedirectResult=Qo}return S(e,[{key:"_initialize",value:function(){var e=b(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Es(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Kt(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=b(g().mark((function e(t,n,r,i){var a,o,u,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ws(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Bo.clear(),e.next=10,this._originValidation(t);case 10:return o=Ts(t,r,i),e.next=13,Cs(t,o);case 13:return e.next=15,vs(t,o,n);case 15:return u=e.sent,e.next=18,gs(u);case 18:return s=e.sent,e.abrupt("return",ks(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ys.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=ds(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(b(g().mark((function n(){return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,As(e);case 2:t.onEvent(js());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=b(g().mark((function n(r){var i,a;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,As(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Ns(i,r.url)),t.onEvent(a||js());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");ds().handleOpenURL=function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Fs=Ls;function js(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ht("no-auth-event")}}var zs=1e3;function Us(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Vs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return!("file:"!==Us()&&"ionic:"!==Us()&&"capacitor:"!==Us()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return W()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/Edge\/\d+/.test(e)}(e)}function qs(){try{var e=self.localStorage,t=La();if(e)return e.setItem(t,"1"),e.removeItem(t),!Bs()||G()}catch(n){return Ws()&&G()}return!1}function Ws(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Gs(){return("http:"===Us()||"https:"===Us()||B()||Vs())&&!(q()||V())&&qs()&&!Ws()}function Ks(){return Vs()&&"undefined"!==typeof document}function Hs(){return Qs.apply(this,arguments)}function Qs(){return(Qs=b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ks()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),zs);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ys={LOCAL:"local",NONE:"none",SESSION:"session"},$s=Xt,Xs="persistence";function Js(e,t){$s(Object.values(Ys).includes(t),e,"invalid-persistence-type"),q()?$s(t!==Ys.SESSION,e,"unsupported-persistence-type"):V()?$s(t===Ys.NONE,e,"unsupported-persistence-type"):Ws()?$s(t===Ys.NONE||t===Ys.LOCAL&&G(),e,"unsupported-persistence-type"):$s(t===Ys.NONE||qs(),e,"unsupported-persistence-type")}function Zs(e){return ec.apply(this,arguments)}function ec(){return ec=b(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=tc(),r=Hn(Xs,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),ec.apply(this,arguments)}function tc(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var nc=Xt,rc=function(){function e(){w(this,e),this.browserResolver=Wn(Vu),this.cordovaResolver=Wn(Fs),this.underlyingResolver=null,this._redirectPersistence=Ra,this._completeRedirectFn=au,this._overrideRedirectResult=Qo}return S(e,[{key:"_initialize",value:function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=b(g().mark((function e(t,n,r,i){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=b(g().mark((function e(t,n,r,i){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Ks()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return nc(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=b(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Hs();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ic(e){return e.unwrap()}function ac(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new lc(e,function(e,t){var n,r=ae(e),i=t;return Xt(t.customData.operationType,r,"argument-error"),Xt(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),wa._fromError(r,i)}(e,t));else if(r){var i=oc(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function oc(e){var t=(e instanceof K?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof K)&&"temporaryProof"in t&&"phoneNumber"in t)return Eo.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Pt.PASSWORD)return null;switch(r){case Pt.GOOGLE:n=fi;break;case Pt.FACEBOOK:n=li;break;case Pt.GITHUB:n=hi;break;case Pt.TWITTER:n=vi;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?di._create(r,u):Xr._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new ci(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof K?n.credentialFromError(e):n.credentialFromResult(e)}function uc(e,t){return t.catch((function(t){throw t instanceof K&&ac(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,oc(t)),additionalUserInfo:ka(e),user:fc.getOrCreate(r)}}))}function sc(e,t){return cc.apply(this,arguments)}function cc(){return cc=b(g().mark((function e(t,n){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return uc(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),cc.apply(this,arguments)}var lc=function(){function e(t,n){w(this,e),this.resolver=n,this.auth=t.wrapped()}return S(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return uc(ic(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),fc=function(){function e(t){w(this,e),this._delegate=t,this.multiFactor=function(e){var t=ae(e);return Ta.has(t)||Ta.set(t,Ea._fromUser(t)),Ta.get(t)}(t)}return S(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uc(this.auth,Li(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sc(this.auth,bo(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uc(this.auth,jo(this._delegate,t,rc)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zs(br(this.auth));case 2:return e.abrupt("return",tu(this._delegate,t,rc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uc(this.auth,ji(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return sc(this.auth,function(e,t,n){return _o.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return uc(this.auth,function(e,t,n){return Fo.apply(this,arguments)}(this._delegate,e,rc))}},{key:"reauthenticateWithRedirect",value:function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zs(br(this.auth));case 2:return e.abrupt("return",Zo(this._delegate,t,rc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return oa.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Si(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return fa(ae(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return fa(ae(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Io.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return la.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ua.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();fc.USER_MAP=new WeakMap;var hc=Xt,dc=function(){function e(t,n){if(w(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;hc(r,"invalid-api-key",{appName:t.name}),hc(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?rc:void 0;this._delegate=n.initialize({options:{persistence:vc(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Ut),this.linkUnderlyingAuth()}return S(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?fc.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){_r(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Yi.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return $i(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Qi.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uc(this._delegate,Zi(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return aa.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ai.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=b(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hc(Gs(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ru(this._delegate,rc);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",uc(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){br(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=pc(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=pc(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ta.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Hi.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=b(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Js(this._delegate,t),e.t0=t,e.next=e.t0===Ys.SESSION?4:e.t0===Ys.LOCAL?6:e.t0===Ys.NONE?11:13;break;case 4:return n=Ra,e.abrupt("break",14);case 6:return e.next=8,Wn(ro)._isAvailable();case 8:return r=e.sent,n=r?ro:Na,e.abrupt("break",14);case 11:return n=Kn,e.abrupt("break",14);case 13:return e.abrupt("return",Kt("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return uc(this._delegate,function(e){return bi.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return uc(this._delegate,Di(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return uc(this._delegate,function(e,t){return Bi.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return uc(this._delegate,function(e,t,n){return Di(ae(e),oi.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return uc(this._delegate,function(e,t,n){return na.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return sc(this._delegate,function(e,t,n){return ko.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hc(Gs(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",uc(this._delegate,Mo(this._delegate,t,rc)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hc(Gs(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Zs(this._delegate);case 3:return e.abrupt("return",Xo(this._delegate,t,rc));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Ji.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function pc(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&fc.getOrCreate(e))},error:t,complete:n}}function vc(e,t){var n=function(e,t){var n=tc();if(!n)return[];var r=Hn(Xs,e,t);switch(n.getItem(r)){case Ys.NONE:return[Kn];case Ys.LOCAL:return[ro,Ra];case Ys.SESSION:return[Ra];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(ro)||n.push(ro),"undefined"!==typeof window)for(var r=0,i=[Na,Ra];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Kn)||n.push(Kn),n}dc.Persistence=Ys;var mc=function(){function e(){w(this,e),this.providerId="phone",this._delegate=new Eo(ic(hs.auth()))}return S(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Eo.credential(e,t)}}]),e}();mc.PHONE_SIGN_IN_METHOD=Eo.PHONE_SIGN_IN_METHOD,mc.PROVIDER_ID=Eo.PROVIDER_ID;var yc,gc=Xt,kc=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hs.app();w(this,e),gc(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new mo(t,n,i.auth()),this.type=this._delegate.type}return S(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(yc=hs).INTERNAL.registerComponent(new oe("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new dc(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Rt,PASSWORD_RESET:Dt,RECOVER_EMAIL:Mt,REVERT_SECOND_FACTOR_ADDITION:Lt,VERIFY_AND_CHANGE_EMAIL:Ft,VERIFY_EMAIL:jt}},EmailAuthProvider:oi,FacebookAuthProvider:li,GithubAuthProvider:hi,GoogleAuthProvider:fi,OAuthProvider:ci,SAMLAuthProvider:pi,PhoneAuthProvider:mc,PhoneMultiFactorGenerator:Wu,RecaptchaVerifier:kc,TwitterAuthProvider:vi,Auth:dc,AuthCredential:Ir,Error:K}).setInstantiationMode("LAZY").setMultipleInstances(!1)),yc.registerVersion("@firebase/auth-compat","0.4.2");var bc,wc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},_c={},xc=xc||{},Sc=wc||self;function Ic(){}function Ec(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Tc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Cc="closure_uid_"+(1e9*Math.random()>>>0),Ac=0;function Oc(e,t,n){return e.call.apply(e.bind,arguments)}function Nc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Pc(e,t,n){return(Pc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Oc:Nc).apply(null,arguments)}function Rc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Dc(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Mc(){this.s=this.s,this.o=this.o}Mc.prototype.s=!1,Mc.prototype.ra=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Cc)&&e[Cc]||(e[Cc]=++Ac))},Mc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Lc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Fc(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function jc(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Ec(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function zc(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}zc.prototype.h=function(){this.defaultPrevented=!0};var Uc=function(){if(!Sc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Sc.addEventListener("test",Ic,t),Sc.removeEventListener("test",Ic,t)}catch(n){}return e}();function Vc(e){return/^[\s\xa0]*$/.test(e)}var Bc=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function qc(e,t){return e<t?-1:e>t?1:0}function Wc(){var e=Sc.navigator;return e&&(e=e.userAgent)?e:""}function Gc(e){return-1!=Wc().indexOf(e)}function Kc(e){return Kc[" "](e),e}function Hc(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}Kc[" "]=Ic;var Qc,Yc=Gc("Opera"),$c=Gc("Trident")||Gc("MSIE"),Xc=Gc("Edge"),Jc=Xc||$c,Zc=Gc("Gecko")&&!(-1!=Wc().toLowerCase().indexOf("webkit")&&!Gc("Edge"))&&!(Gc("Trident")||Gc("MSIE"))&&!Gc("Edge"),el=-1!=Wc().toLowerCase().indexOf("webkit")&&!Gc("Edge");function tl(){var e=Sc.document;return e?e.documentMode:void 0}e:{var nl="",rl=function(){var e=Wc();return Zc?/rv:([^\);]+)(\)|;)/.exec(e):Xc?/Edge\/([\d\.]+)/.exec(e):$c?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):el?/WebKit\/(\S+)/.exec(e):Yc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(rl&&(nl=rl?rl[1]:""),$c){var il=tl();if(null!=il&&il>parseFloat(nl)){Qc=String(il);break e}}Qc=nl}var al,ol={};if(Sc.document&&$c){var ul=tl();al=ul||(parseInt(Qc,10)||void 0)}else al=void 0;var sl=al;function cl(e,t){if(zc.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Zc){e:{try{Kc(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ll[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&cl.$.h.call(this)}}Dc(cl,zc);var ll={2:"touch",3:"pen",4:"mouse"};cl.prototype.h=function(){cl.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var fl="closure_listenable_"+(1e6*Math.random()|0),hl=0;function dl(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++hl,this.fa=this.ia=!1}function pl(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function vl(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ml(e){var t={};for(var n in e)t[n]=e[n];return t}var yl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gl(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<yl.length;a++)n=yl[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function kl(e){this.src=e,this.g={},this.h=0}function bl(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Lc(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(pl(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function wl(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}kl.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=wl(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new dl(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var _l="closure_lm_"+(1e6*Math.random()|0),xl={};function Sl(e,t,n,r,i){if(r&&r.once)return El(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Sl(e,t[a],n,r,i);return null}return n=Rl(n),e&&e[fl]?e.O(t,n,Tc(r)?!!r.capture:!!r,i):Il(e,t,n,!1,r,i)}function Il(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Tc(i)?!!i.capture:!!i,u=Nl(e);if(u||(e[_l]=u=new kl(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ol;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Uc||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Al(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function El(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)El(e,t[a],n,r,i);return null}return n=Rl(n),e&&e[fl]?e.P(t,n,Tc(r)?!!r.capture:!!r,i):Il(e,t,n,!0,r,i)}function Tl(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Tl(e,t[a],n,r,i);else r=Tc(r)?!!r.capture:!!r,n=Rl(n),e&&e[fl]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=wl(a=e.g[t],n,r,i))&&(pl(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Nl(e))&&(t=e.g[t.toString()],e=-1,t&&(e=wl(t,n,r,i)),(n=-1<e?t[e]:null)&&Cl(n))}function Cl(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[fl])bl(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Al(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Nl(t))?(bl(n,e),0==n.h&&(n.src=null,t[_l]=null)):pl(e)}}}function Al(e){return e in xl?xl[e]:xl[e]="on"+e}function Ol(e,t){if(e.fa)e=!0;else{t=new cl(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Cl(e),e=n.call(r,t)}return e}function Nl(e){return(e=e[_l])instanceof kl?e:null}var Pl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rl(e){return"function"===typeof e?e:(e[Pl]||(e[Pl]=function(t){return e.handleEvent(t)}),e[Pl])}function Dl(){Mc.call(this),this.i=new kl(this),this.S=this,this.J=null}function Ml(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new zc(t,e);else if(t instanceof zc)t.target=t.target||e;else{var i=t;gl(t=new zc(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ll(o,r,!0,t)&&i}if(i=Ll(o=t.g=e,r,!0,t)&&i,i=Ll(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ll(o=t.g=n[a],r,!1,t)&&i}function Ll(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&bl(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Dc(Dl,Mc),Dl.prototype[fl]=!0,Dl.prototype.removeEventListener=function(e,t,n,r){Tl(this,e,t,n,r)},Dl.prototype.N=function(){if(Dl.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)pl(n[r]);delete t.g[e],t.h--}}this.J=null},Dl.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Dl.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Fl=Sc.JSON.stringify;function jl(){var e=Kl,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var zl,Ul=function(){function e(){w(this,e),this.h=this.g=null}return S(e,[{key:"add",value:function(e,t){var n=Vl.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Vl=new(function(){function e(t,n){w(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return S(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Bl}),(function(e){return e.reset()})),Bl=function(){function e(){w(this,e),this.next=this.g=this.h=null}return S(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ql(e){Sc.setTimeout((function(){throw e}),0)}function Wl(e,t){zl||function(){var e=Sc.Promise.resolve(void 0);zl=function(){e.then(Hl)}}(),Gl||(zl(),Gl=!0),Kl.add(e,t)}var Gl=!1,Kl=new Ul;function Hl(){for(var e;e=jl();){try{e.h.call(e.g)}catch(n){ql(n)}var t=Vl;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Gl=!1}function Ql(e,t){Dl.call(this),this.h=e||1,this.g=t||Sc,this.j=Pc(this.qb,this),this.l=Date.now()}function Yl(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function $l(e,t,n){if("function"===typeof e)n&&(e=Pc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Pc(e.handleEvent,e)}return 2147483647<Number(t)?-1:Sc.setTimeout(e,t||0)}function Xl(e){e.g=$l((function(){e.g=null,e.i&&(e.i=!1,Xl(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Dc(Ql,Dl),(bc=Ql.prototype).ga=!1,bc.T=null,bc.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ml(this,"tick"),this.ga&&(Yl(this),this.start()))}},bc.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},bc.N=function(){Ql.$.N.call(this),Yl(this),delete this.g};var Jl=function(e){d(n,e);var t=m(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return S(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Xl(this)}},{key:"N",value:function(){l(c(n.prototype),"N",this).call(this),this.g&&(Sc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Mc);function Zl(e){Mc.call(this),this.h=e,this.g={}}Dc(Zl,Mc);var ef=[];function tf(e,t,n,r){Array.isArray(n)||(n&&(ef[0]=n.toString()),n=ef);for(var i=0;i<n.length;i++){var a=Sl(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function nf(e){vl(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Cl(e)}),e),e.g={}}function rf(){this.g=!0}function af(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Fl(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Zl.prototype.N=function(){Zl.$.N.call(this),nf(this)},Zl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rf.prototype.Ea=function(){this.g=!1},rf.prototype.info=function(){};var of={},uf=null;function sf(){return uf=uf||new Dl}function cf(e){zc.call(this,of.Ta,e)}function lf(e){var t=sf();Ml(t,new cf(t))}function ff(e,t){zc.call(this,of.STAT_EVENT,e),this.stat=t}function hf(e){var t=sf();Ml(t,new ff(t,e))}function df(e,t){zc.call(this,of.Ua,e),this.size=t}function pf(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Sc.setTimeout((function(){e()}),t)}of.Ta="serverreachability",Dc(cf,zc),of.STAT_EVENT="statevent",Dc(ff,zc),of.Ua="timingevent",Dc(df,zc);var vf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},mf={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function yf(){}function gf(e){return e.h||(e.h=e.i())}function kf(){}yf.prototype.h=null;var bf,wf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _f(){zc.call(this,"d")}function xf(){zc.call(this,"c")}function Sf(){}function If(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Zl(this),this.P=Tf,e=Jc?125:void 0,this.V=new Ql(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Ef}function Ef(){this.i=null,this.g="",this.h=!1}Dc(_f,zc),Dc(xf,zc),Dc(Sf,yf),Sf.prototype.g=function(){return new XMLHttpRequest},Sf.prototype.i=function(){return{}},bf=new Sf;var Tf=45e3,Cf={},Af={};function Of(e,t,n){e.L=1,e.v=Yf(Wf(t)),e.s=n,e.S=!0,Nf(e,null)}function Nf(e,t){e.G=Date.now(),Mf(e),e.A=Wf(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),sh(n.i,"t",r),e.C=0,n=e.l.I,e.h=new Ef,e.g=cd(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Jl(Pc(e.Pa,e,e.g),e.O)),tf(e.U,e.g,"readystatechange",e.nb),t=e.I?ml(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),lf(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Pf(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Rf(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Df(e,n))==Af){4==t&&(e.o=4,hf(14),i=!1),af(e.j,e.m,null,"[Incomplete Response]");break}if(r==Cf){e.o=4,hf(15),af(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}af(e.j,e.m,r,null),Uf(e,r)}Pf(e)&&r!=Af&&r!=Cf&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,hf(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ca&&(e.ca=!0,(t=e.l).g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),td(t),t.L=!0,hf(11))):(af(e.j,e.m,n,"[Invalid Chunked Response]"),zf(e),jf(e))}function Df(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Af:(n=Number(t.substring(n,r)),isNaN(n)?Cf:(r+=1)+n>t.length?Af:(t=t.substr(r,n),e.C=r+n,t))}function Mf(e){e.Y=Date.now()+e.P,Lf(e,e.P)}function Lf(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=pf(Pc(e.lb,e),t)}function Ff(e){e.B&&(Sc.clearTimeout(e.B),e.B=null)}function jf(e){0==e.l.H||e.J||id(e.l,e)}function zf(e){Ff(e);var t=e.M;t&&"function"==typeof t.ra&&t.ra(),e.M=null,Yl(e.V),nf(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function Uf(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||mh(n.h,e)))if(!e.K&&mh(n.h,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;rd(n),Hh(n)}ed(n),hf(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=pf(Pc(n.ib,n),6e3));if(1>=vh(n.h)&&n.na){try{n.na()}catch(a){}n.na=void 0}}else od(n,11)}else if((e.K||n.g==e)&&rd(n),!Vc(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.J=a[1],n.oa=a[2];var o=a[3];null!=o&&(n.qa=o,n.j.info("VER="+n.qa));var u=a[4];null!=u&&(n.Ga=u,n.j.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(yh(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Qf(r.G,r.F,h))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=sd(r,r.I?r.oa:null,r.Y),d.K){gh(r.h,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Ff(p),Mf(p)),r.g=d}else Zh(r);0<n.i.length&&Yh(n)}else"stop"!=a[0]&&"close"!=a[0]||od(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?od(n,7):Kh(n):"noop"!=a[0]&&n.l&&n.l.Aa(a),n.A=0)}lf()}catch(a){}}function Vf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ec(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.sa&&"function"==typeof e.sa)return e.sa();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ec(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ec(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(bc=If.prototype).setTimeout=function(e){this.P=e},bc.nb=function(e){e=e.target;var t=this.M;t&&3==Uh(e)?t.l():this.Pa(e)},bc.Pa=function(e){try{if(e==this.g)e:{var t=Uh(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Jc||this.g&&(this.h.h||this.g.ja()||Vh(this.g)))){this.J||4!=t||7==n||lf(),Ff(this);var r=this.g.da();this.aa=r;t:if(Pf(this)){var i=Vh(this.g);e="";var a=i.length,o=4==Uh(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){zf(this),jf(this);var u="";break t}this.h.i=new Sc.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.ba&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vc(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,hf(12),zf(this),jf(this);break e}af(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Uf(this,r)}this.S?(Rf(this,t,u),Jc&&this.i&&3==t&&(tf(this.U,this.V,"tick",this.mb),this.V.start())):(af(this.j,this.m,u,null),Uf(this,u)),4==t&&zf(this),this.i&&!this.J&&(4==t?id(this.l,this):(this.i=!1,Mf(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,hf(12)):(this.o=0,hf(13)),zf(this),jf(this)}}}catch(t){}},bc.mb=function(){if(this.g){var e=Uh(this.g),t=this.g.ja();this.C<t.length&&(Ff(this),Rf(this,e,t),this.i&&4!=e&&Mf(this))}},bc.cancel=function(){this.J=!0,zf(this)},bc.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(lf(),hf(17)),zf(this),this.o=2,jf(this)):Lf(this,this.Y-e)};var Bf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qf(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof qf){this.h=void 0!==t?t:e.h,Gf(this,e.j),this.s=e.s,this.g=e.g,Kf(this,e.m),this.l=e.l,t=e.i;var n=new ih;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Hf(this,n),this.o=e.o}else e&&(n=String(e).match(Bf))?(this.h=!!t,Gf(this,n[1]||"",!0),this.s=$f(n[2]||""),this.g=$f(n[3]||"",!0),Kf(this,n[4]),this.l=$f(n[5]||"",!0),Hf(this,n[6]||"",!0),this.o=$f(n[7]||"")):(this.h=!!t,this.i=new ih(null,this.h))}function Wf(e){return new qf(e)}function Gf(e,t,n){e.j=n?$f(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Kf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Hf(e,t,n){t instanceof ih?(e.i=t,function(e,t){t&&!e.j&&(ah(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(oh(this,t),sh(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Xf(t,nh)),e.i=new ih(t,e.h))}function Qf(e,t,n){e.i.set(t,n)}function Yf(e){return Qf(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function $f(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Xf(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Jf),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Jf(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}qf.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Xf(t,Zf,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Xf(t,Zf,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Xf(n,"/"==n.charAt(0)?th:eh,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Xf(n,rh)),e.join("")};var Zf=/[#\/\?@]/g,eh=/[#\?:]/g,th=/[#\?]/g,nh=/[#\?@]/g,rh=/#/g;function ih(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ah(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function oh(e,t){ah(e),t=ch(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function uh(e,t){return ah(e),t=ch(e,t),e.g.has(t)}function sh(e,t,n){oh(e,t),0<n.length&&(e.i=null,e.g.set(ch(e,t),Fc(n)),e.h+=n.length)}function ch(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(bc=ih.prototype).add=function(e,t){ah(this),this.i=null,e=ch(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},bc.forEach=function(e,t){ah(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},bc.sa=function(){ah(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},bc.Z=function(e){ah(this);var t=[];if("string"===typeof e)uh(this,e)&&(t=t.concat(this.g.get(ch(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},bc.set=function(e,t){return ah(this),this.i=null,uh(this,e=ch(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},bc.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},bc.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var lh=S((function e(t,n){w(this,e),this.h=t,this.g=n}));function fh(e){this.l=e||dh,Sc.PerformanceNavigationTiming?e=0<(e=Sc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Sc.g&&Sc.g.Ka&&Sc.g.Ka()&&Sc.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hh,dh=10;function ph(e){return!!e.h||!!e.g&&e.g.size>=e.j}function vh(e){return e.h?1:e.g?e.g.size:0}function mh(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function yh(e,t){e.g?e.g.add(t):e.h=t}function gh(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function kh(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=y(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Fc(e.i)}function bh(){}function wh(){this.g=new bh}function _h(e,t,n){var r=n||"";try{Vf(e,(function(e,n){var i=e;Tc(e)&&(i=Fl(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function xh(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Sh(e){this.l=e.fc||null,this.j=e.ob||!1}function Ih(e,t){Dl.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Eh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fh.prototype.cancel=function(){if(this.i=kh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=y(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},bh.prototype.stringify=function(e){return Sc.JSON.stringify(e,void 0)},bh.prototype.parse=function(e){return Sc.JSON.parse(e,void 0)},Dc(Sh,yf),Sh.prototype.g=function(){return new Ih(this.l,this.j)},Sh.prototype.i=(hh={},function(){return hh}),Dc(Ih,Dl);var Eh=0;function Th(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Ch(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ah(e)}function Ah(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(bc=Ih.prototype).open=function(e,t){if(this.readyState!=Eh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ah(this)},bc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Sc).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},bc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ch(this)),this.readyState=Eh},bc.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ah(this)),this.g&&(this.readyState=3,Ah(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Sc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Th(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},bc.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ch(this):Ah(this),3==this.readyState&&Th(this)}},bc.Za=function(e){this.g&&(this.response=this.responseText=e,Ch(this))},bc.Ya=function(e){this.g&&(this.response=e,Ch(this))},bc.ka=function(){this.g&&Ch(this)},bc.setRequestHeader=function(e,t){this.v.append(e,t)},bc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},bc.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ih.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Oh=Sc.JSON.parse;function Nh(e){Dl.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ph,this.L=this.M=!1}Dc(Nh,Dl);var Ph="",Rh=/^https?$/i,Dh=["POST","PUT"];function Mh(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Lh(e),jh(e)}function Lh(e){e.F||(e.F=!0,Ml(e,"complete"),Ml(e,"error"))}function Fh(e){if(e.h&&"undefined"!=typeof xc&&(!e.C[1]||4!=Uh(e)||2!=e.da()))if(e.v&&4==Uh(e))$l(e.La,0,e);else if(Ml(e,"readystatechange"),4==Uh(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Bf)[1]||null;if(!a&&Sc.self&&Sc.self.location){var o=Sc.self.location.protocol;a=o.substr(0,o.length-1)}i=!Rh.test(a?a.toLowerCase():"")}t=i}if(t)Ml(e,"complete"),Ml(e,"success");else{e.m=6;try{var u=2<Uh(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.da()+"]",Lh(e)}}finally{jh(e)}}}function jh(e,t){if(e.g){zh(e);var n=e.g,r=e.C[0]?Ic:null;e.g=null,e.C=null,t||Ml(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function zh(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Sc.clearTimeout(e.A),e.A=null)}function Uh(e){return e.g?e.g.readyState:0}function Vh(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Ph:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Kd){return null}}function Bh(e){var t="";return vl(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function qh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Bh(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Qf(e,t,n))}function Wh(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gh(e){this.Ga=0,this.i=[],this.j=new rf,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wh("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wh("baseRetryDelayMs",5e3,e),this.hb=Wh("retryDelaySeedMs",1e4,e),this.eb=Wh("forwardChannelMaxRetries",2,e),this.xa=Wh("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new fh(e&&e.concurrentRequestLimit),this.Ja=new wh,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Kh(e){if(Qh(e),3==e.H){var t=e.W++,n=Wf(e.G);Qf(n,"SID",e.J),Qf(n,"RID",t),Qf(n,"TYPE","terminate"),Xh(e,n),(t=new If(e,e.j,t,void 0)).L=2,t.v=Yf(Wf(n)),n=!1,Sc.navigator&&Sc.navigator.sendBeacon&&(n=Sc.navigator.sendBeacon(t.v.toString(),"")),!n&&Sc.Image&&((new Image).src=t.v,n=!0),n||(t.g=cd(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Mf(t)}ud(e)}function Hh(e){e.g&&(td(e),e.g.cancel(),e.g=null)}function Qh(e){Hh(e),e.u&&(Sc.clearTimeout(e.u),e.u=null),rd(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Sc.clearTimeout(e.m),e.m=null)}function Yh(e){ph(e.h)||e.m||(e.m=!0,Wl(e.Na,e),e.C=0)}function $h(e,t){var n;n=t?t.m:e.W++;var r=Wf(e.G);Qf(r,"SID",e.J),Qf(r,"RID",n),Qf(r,"AID",e.V),Xh(e,r),e.o&&e.s&&qh(r,e.o,e.s),n=new If(e,e.j,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=Jh(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),yh(e.h,n),Of(n,r,t)}function Xh(e,t){e.ma&&vl(e.ma,(function(e,n){Qf(t,n,e)})),e.l&&Vf({},(function(e,n){Qf(t,n,e)}))}function Jh(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Pc(e.l.Va,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{_h(l,o,"req"+c+"_")}catch(rp){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.F=e,r}function Zh(e){e.g||e.u||(e.ba=1,Wl(e.Ma,e),e.A=0)}function ed(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=pf(Pc(e.Ma,e),ad(e,e.A)),e.A++,!0)}function td(e){null!=e.B&&(Sc.clearTimeout(e.B),e.B=null)}function nd(e){e.g=new If(e,e.j,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Wf(e.wa);Qf(t,"RID","rpc"),Qf(t,"SID",e.J),Qf(t,"CI",e.M?"0":"1"),Qf(t,"AID",e.V),Qf(t,"TYPE","xmlhttp"),Xh(e,t),e.o&&e.s&&qh(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=Yf(Wf(t)),n.s=null,n.S=!0,Nf(n,e)}function rd(e){null!=e.v&&(Sc.clearTimeout(e.v),e.v=null)}function id(e,t){var n=null;if(e.g==t){rd(e),td(e),e.g=null;var r=2}else{if(!mh(e.h,t))return;n=t.F,gh(e.h,t),r=1}if(0!=e.H)if(e.ta=t.aa,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Ml(r=sf(),new df(r,n)),Yh(e)}else Zh(e);else if(3==(i=t.o)||0==i&&0<e.ta||!(1==r&&function(e,t){return!(vh(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.F.concat(e.i),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=pf(Pc(e.Na,e,t),ad(e,e.C)),e.C++,!0))}(e,t)||2==r&&ed(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:od(e,5);break;case 4:od(e,10);break;case 3:od(e,6);break;default:od(e,2)}}function ad(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function od(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Pc(e.pb,e);n||(n=new qf("//www.google.com/images/cleardot.gif"),Sc.location&&"http"==Sc.location.protocol||Gf(n,"https"),Yf(n)),function(e,t){var n=new rf;if(Sc.Image){var r=new Image;r.onload=Rc(xh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Rc(xh,n,r,"TestLoadImage: error",!1,t),r.onabort=Rc(xh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Rc(xh,n,r,"TestLoadImage: timeout",!1,t),Sc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else hf(2);e.H=0,e.l&&e.l.za(t),ud(e),Qh(e)}function ud(e){if(e.H=0,e.pa=[],e.l){var t=kh(e.h);0==t.length&&0==e.i.length||(jc(e.pa,t),jc(e.pa,e.i),e.h.i.length=0,Fc(e.i),e.i.length=0),e.l.ya()}}function sd(e,t,n){var r=n instanceof qf?Wf(n):new qf(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Kf(r,r.m);else{var i=Sc.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new qf(null,void 0);r&&Gf(a,r),t&&(a.g=t),i&&Kf(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Qf(r,n,t),Qf(r,"VER",e.qa),Xh(e,r),r}function cd(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Nh(new Sh({ob:!0})):new Nh(e.va)).Oa(e.I),t}function ld(){}function fd(){if($c&&!(10<=Number(sl)))throw Error("Environmental error: no available transport.")}function hd(e,t){Dl.call(this),this.g=new Gh(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Vc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Vc(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vd(this)}function dd(e){_f.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function pd(){xf.call(this),this.status=1}function vd(e){this.g=e}function md(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yd(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function gd(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(bc=Nh.prototype).Oa=function(e){this.M=e},bc.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bf.g(),this.C=this.u?gf(this.u):gf(bf),this.g.onreadystatechange=Pc(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Mh(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=y(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Sc.FormData&&e instanceof Sc.FormData,!(0<=Lc(Dh,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=y(n);try{for(l.s();!(c=l.n()).done;){var f=u(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zh(this),0<this.B&&((this.L=function(e){return $c&&Hc(ol,9,(function(){for(var e=0,t=Bc(String(Qc)).split("."),n=Bc("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=qc(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||qc(0==a[2].length,0==o[2].length)||qc(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pc(this.ua,this)):this.A=$l(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Mh(this,s)}},bc.ua=function(){"undefined"!=typeof xc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ml(this,"timeout"),this.abort(8))},bc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ml(this,"complete"),Ml(this,"abort"),jh(this))},bc.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jh(this,!0)),Nh.$.N.call(this)},bc.La=function(){this.s||(this.G||this.v||this.l?Fh(this):this.kb())},bc.kb=function(){Fh(this)},bc.da=function(){try{return 2<Uh(this)?this.g.status:-1}catch(hh){return-1}},bc.ja=function(){try{return this.g?this.g.responseText:""}catch(hh){return""}},bc.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Oh(t)}},bc.Ia=function(){return this.m},bc.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(bc=Gh.prototype).qa=8,bc.H=1,bc.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new If(this,this.j,e,void 0),n=this.s;if(this.U&&(n?gl(n=ml(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Jh(this,t,r),Qf(i=Wf(this.G),"RID",e),Qf(i,"CVER",22),this.F&&Qf(i,"X-HTTP-Session-Id",this.F),Xh(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Bh(n)))+"&"+r:this.o&&qh(i,this.o,n)),yh(this.h,t),this.bb&&Qf(i,"TYPE","init"),this.P?(Qf(i,"$req",r),Qf(i,"SID","null"),t.ba=!0,Of(t,i,null)):Of(t,i,r),this.H=2}}else 3==this.H&&(e?$h(this,e):0==this.i.length||ph(this.h)||$h(this))},bc.Ma=function(){if(this.u=null,nd(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=pf(Pc(this.jb,this),e)}},bc.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,hf(10),Hh(this),nd(this))},bc.ib=function(){null!=this.v&&(this.v=null,Hh(this),ed(this),hf(19))},bc.pb=function(e){e?(this.j.info("Successfully pinged google.com"),hf(2)):(this.j.info("Failed to ping google.com"),hf(1))},(bc=ld.prototype).Ba=function(){},bc.Aa=function(){},bc.za=function(){},bc.ya=function(){},bc.Va=function(){},fd.prototype.g=function(e,t){return new hd(e,t)},Dc(hd,Dl),hd.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;hf(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=sd(e,null,e.Y),Yh(e)},hd.prototype.close=function(){Kh(this.g)},hd.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Fl(e),e=n);t.i.push(new lh(t.fb++,e)),3==t.H&&Yh(t)},hd.prototype.N=function(){this.g.l=null,delete this.j,Kh(this.g),delete this.g,hd.$.N.call(this)},Dc(dd,_f),Dc(pd,xf),Dc(vd,ld),vd.prototype.Ba=function(){Ml(this.g,"a")},vd.prototype.Aa=function(e){Ml(this.g,new dd(e))},vd.prototype.za=function(e){Ml(this.g,new pd)},vd.prototype.ya=function(){Ml(this.g,"b")},Dc(md,(function(){this.blockSize=-1})),md.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},md.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)yd(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){yd(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){yd(this,r),i=0;break}}this.h=i,this.i+=t},md.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var kd={};function bd(e){return-128<=e&&128>e?Hc(kd,e,(function(e){return new gd([0|e],0>e?-1:0)})):new gd([0|e],0>e?-1:0)}function wd(e){if(isNaN(e)||!isFinite(e))return xd;if(0>e)return Cd(wd(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=_d;return new gd(t,0)}var _d=4294967296,xd=bd(0),Sd=bd(1),Id=bd(16777216);function Ed(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Td(e){return-1==e.h}function Cd(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new gd(n,~e.h).add(Sd)}function Ad(e,t){return e.add(Cd(t))}function Od(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Nd(e,t){this.g=e,this.h=t}function Pd(e,t){if(Ed(t))throw Error("division by zero");if(Ed(e))return new Nd(xd,xd);if(Td(e))return t=Pd(Cd(e),t),new Nd(Cd(t.g),Cd(t.h));if(Td(t))return t=Pd(e,Cd(t)),new Nd(Cd(t.g),t.h);if(30<e.g.length){if(Td(e)||Td(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Sd,r=t;0>=r.X(e);)n=Rd(n),r=Rd(r);var i=Dd(n,1),a=Dd(r,1);for(r=Dd(r,2),n=Dd(n,2);!Ed(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Dd(r,1),n=Dd(n,1)}return t=Ad(e,i.R(t)),new Nd(i,t)}for(i=xd;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=wd(n)).R(t);Td(o)||0<o.X(e);)o=(a=wd(n-=r)).R(t);Ed(a)&&(a=Sd),i=i.add(a),e=Ad(e,o)}return new Nd(i,e)}function Rd(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new gd(n,e.h)}function Dd(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new gd(i,e.h)}(bc=gd.prototype).ea=function(){if(Td(this))return-Cd(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:_d+r)*t,t*=_d}return e},bc.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Ed(this))return"0";if(Td(this))return"-"+Cd(this).toString(e);for(var t=wd(Math.pow(e,6)),n=this,r="";;){var i=Pd(n,t).g,a=((0<(n=Ad(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Ed(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},bc.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},bc.X=function(e){return Td(e=Ad(this,e))?-1:Ed(e)?0:1},bc.abs=function(){return Td(this)?Cd(this):this},bc.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new gd(n,-2147483648&n[n.length-1]?-1:0)},bc.R=function(e){if(Ed(this)||Ed(e))return xd;if(Td(this))return Td(e)?Cd(this).R(Cd(e)):Cd(Cd(this).R(e));if(Td(e))return Cd(this.R(Cd(e)));if(0>this.X(Id)&&0>e.X(Id))return wd(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,Od(n,2*r+2*i),n[2*r+2*i+1]+=a*s,Od(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,Od(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,Od(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new gd(n,0)},bc.gb=function(e){return Pd(this,e).h},bc.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new gd(n,this.h&e.h)},bc.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new gd(n,this.h|e.h)},bc.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new gd(n,this.h^e.h)},fd.prototype.createWebChannel=fd.prototype.g,hd.prototype.send=hd.prototype.u,hd.prototype.open=hd.prototype.m,hd.prototype.close=hd.prototype.close,vf.NO_ERROR=0,vf.TIMEOUT=8,vf.HTTP_ERROR=6,mf.COMPLETE="complete",kf.EventType=wf,wf.OPEN="a",wf.CLOSE="b",wf.ERROR="c",wf.MESSAGE="d",Dl.prototype.listen=Dl.prototype.O,Nh.prototype.listenOnce=Nh.prototype.P,Nh.prototype.getLastError=Nh.prototype.Sa,Nh.prototype.getLastErrorCode=Nh.prototype.Ia,Nh.prototype.getStatus=Nh.prototype.da,Nh.prototype.getResponseJson=Nh.prototype.Wa,Nh.prototype.getResponseText=Nh.prototype.ja,Nh.prototype.send=Nh.prototype.ha,Nh.prototype.setWithCredentials=Nh.prototype.Oa,md.prototype.digest=md.prototype.l,md.prototype.reset=md.prototype.reset,md.prototype.update=md.prototype.j,gd.prototype.add=gd.prototype.add,gd.prototype.multiply=gd.prototype.R,gd.prototype.modulo=gd.prototype.gb,gd.prototype.compare=gd.prototype.X,gd.prototype.toNumber=gd.prototype.ea,gd.prototype.toString=gd.prototype.toString,gd.prototype.getBits=gd.prototype.D,gd.fromNumber=wd,gd.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Cd(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=wd(Math.pow(n,8)),i=xd,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=wd(Math.pow(n,o)),i=i.R(o).add(wd(u))):i=(i=i.R(r)).add(wd(u))}return i};var Md=_c.createWebChannelTransport=function(){return new fd},Ld=_c.getStatEventTarget=function(){return sf()},Fd=_c.ErrorCode=vf,jd=_c.EventType=mf,zd=_c.Event=of,Ud=_c.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vd=_c.FetchXmlHttpFactory=Sh,Bd=_c.WebChannel=kf,qd=_c.XhrIo=Nh,Wd=_c.Md5=md,Gd=_c.Integer=gd,Kd="@firebase/firestore",Hd=function(){function e(t){w(this,e),this.uid=t}return S(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Hd.UNAUTHENTICATED=new Hd(null),Hd.GOOGLE_CREDENTIALS=new Hd("google-credentials-uid"),Hd.FIRST_PARTY=new Hd("first-party-uid"),Hd.MOCK_USER=new Hd("mock-user");var Qd="9.22.0",Yd=new ge("@firebase/firestore");function $d(){return Yd.logLevel}function Xd(e){if(Yd.logLevel<=fe.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ep);Yd.debug.apply(Yd,["Firestore (".concat(Qd,"): ").concat(e)].concat(E(i)))}}function Jd(e){if(Yd.logLevel<=fe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ep);Yd.error.apply(Yd,["Firestore (".concat(Qd,"): ").concat(e)].concat(E(i)))}}function Zd(e){if(Yd.logLevel<=fe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ep);Yd.warn.apply(Yd,["Firestore (".concat(Qd,"): ").concat(e)].concat(E(i)))}}function ep(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function tp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Qd,") INTERNAL ASSERTION FAILED: ")+e;throw Jd(t),new Error(t)}function np(e,t){e||tp()}function rp(e,t){return e}var ip={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ap=function(e){d(n,e);var t=m(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return S(n)}(K),op=S((function e(){var t=this;w(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),up=S((function e(t,n){w(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),sp=function(){function e(){w(this,e)}return S(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Hd.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),cp=function(){function e(t){w(this,e),this.token=t,this.changeListener=null}return S(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),lp=function(){function e(t){w(this,e),this.t=t,this.currentUser=Hd.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return S(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new op;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new op,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Xd("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Xd("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new op)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Xd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(np("string"==typeof n.accessToken),new up(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return np(null===e||"string"==typeof e),new Hd(e)}}]),e}(),fp=function(){function e(t,n,r){w(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=Hd.FIRST_PARTY,this.g=new Map}return S(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),hp=function(){function e(t,n,r){w(this,e),this.h=t,this.l=n,this.m=r}return S(e,[{key:"getToken",value:function(){return Promise.resolve(new fp(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Hd.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),dp=S((function e(t){w(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),pp=function(){function e(t){w(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return S(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Xd("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,Xd("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Xd("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):Xd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(np("string"==typeof t.token),e.T=t.token,new dp(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function vp(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var mp=function(){function e(){w(this,e)}return S(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=vp(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function yp(e,t){return e<t?-1:e>t?1:0}function gp(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function kp(e){return e+"\0"}var bp=function(){function e(t,n){if(w(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ap(ip.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ap(ip.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ap(ip.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ap(ip.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return S(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?yp(this.nanoseconds,e.nanoseconds):yp(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),wp=function(){function e(t){w(this,e),this.timestamp=t}return S(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new bp(0,0))}},{key:"max",value:function(){return new e(new bp(253402300799,999999999))}}]),e}(),_p=function(){function e(t,n,r){w(this,e),void 0===n?n=0:n>t.length&&tp(),void 0===r?r=t.length-n:r>t.length-n&&tp(),this.segments=t,this.offset=n,this.len=r}return S(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),xp=function(e){d(n,e);var t=m(n);function n(){return w(this,n),t.apply(this,arguments)}return S(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new ap(ip.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,E(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(_p),Sp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ip=function(e){d(n,e);var t=m(n);function n(){return w(this,n),t.apply(this,arguments)}return S(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Sp.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ap(ip.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new ap(ip.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new ap(ip.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new ap(ip.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(_p),Ep=function(){function e(t){w(this,e),this.path=t}return S(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===xp.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(xp.fromString(t))}},{key:"fromName",value:function(t){return new e(xp.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(xp.emptyPath())}},{key:"comparator",value:function(e,t){return xp.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new xp(t.slice()))}}]),e}(),Tp=S((function e(t,n,r,i){w(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Cp(e){return e.fields.find((function(e){return 2===e.kind}))}function Ap(e){return e.fields.filter((function(e){return 2!==e.kind}))}Tp.UNKNOWN_ID=-1;var Op=S((function e(t,n){w(this,e),this.fieldPath=t,this.kind=n}));var Np=function(){function e(t,n){w(this,e),this.sequenceNumber=t,this.offset=n}return S(e,null,[{key:"empty",value:function(){return new e(0,Dp.min())}}]),e}();function Pp(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=wp.fromTimestamp(1e9===r?new bp(n+1,0):new bp(n,r));return new Dp(i,Ep.empty(),t)}function Rp(e){return new Dp(e.readTime,e.key,-1)}var Dp=function(){function e(t,n,r){w(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return S(e,null,[{key:"min",value:function(){return new e(wp.min(),Ep.empty(),-1)}},{key:"max",value:function(){return new e(wp.max(),Ep.empty(),-1)}}]),e}();function Mp(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ep.comparator(e.documentKey,t.documentKey))?n:yp(e.largestBatchId,t.largestBatchId)}var Lp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Fp=function(){function e(){w(this,e),this.onCommittedListeners=[]}return S(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function jp(e){return zp.apply(this,arguments)}function zp(){return(zp=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ip.FAILED_PRECONDITION&&t.message===Lp){e.next=2;break}throw t;case 2:Xd("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Up=function(){function e(t){var n=this;w(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return S(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&tp(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=y(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Vp=function(){function e(t,n){var r=this;w(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new op,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new Wp(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=Yp(e.target.error);r.v.reject(new Wp(t,n))}}return S(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(Xd("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Kp(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Wp(n,t)}}}]),e}(),Bp=function(){function e(t,n,r){w(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(U())&&Jd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return S(e,[{key:"$",value:function(){var e=b(g().mark((function e(t){var n=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Xd("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Wp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ap(ip.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new ap(ip.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Wp(t,n))},i.onupgradeneeded=function(e){Xd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.O(t,i.transaction,e.oldVersion,n.version).next((function(){Xd("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=b(g().mark((function e(t,n,r,i){var a,o,u,s,c=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=g().mark((function e(){var n,u,s,l;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=Vp.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),Up.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.R;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,Xd("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Xd("SimpleDb","Removing database:",e),Hp(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!G())return!1;if(e.C())return!0;var t=U(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),qp=function(){function e(t){w(this,e),this.L=t,this.q=!1,this.U=null}return S(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return Hp(this.L.delete())}}]),e}(),Wp=function(e){d(n,e);var t=m(n);function n(e,r){var i;return w(this,n),(i=t.call(this,ip.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return S(n)}(ap);function Gp(e){return"IndexedDbTransactionError"===e.name}var Kp=function(){function e(t){w(this,e),this.store=t}return S(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Xd("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Xd("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Hp(n)}},{key:"add",value:function(e){return Xd("SimpleDb","ADD",this.store.name,e,e),Hp(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Hp(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Xd("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Xd("SimpleDb","DELETE",this.store.name,e),Hp(this.store.delete(e))}},{key:"count",value:function(){return Xd("SimpleDb","COUNT",this.store.name),Hp(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Up((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Up((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){Xd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new Up((function(n,r){t.onerror=function(e){var t=Yp(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new Up((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new qp(i),o=t(i.primaryKey,i.value,a);if(o instanceof Up){var u=o.catch((function(e){return a.done(),Up.reject(e)}));n.push(u)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return Up.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Hp(e){return new Up((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Yp(e.target.error);n(t)}}))}var Qp=!1;function Yp(e){var t=Bp.S(U());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ap("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Qp||(Qp=!0,setTimeout((function(){throw r}),0)),r}}return e}var $p=function(){function e(t,n){w(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return S(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;Xd("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Xd,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Gp(e.t4)){e.next=17;break}Xd("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,jp(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Xp=function(){function e(t,n){w(this,e),this.localStore=t,this.persistence=n}return S(e,[{key:"nt",value:function(){var e=b(g().mark((function e(){var t,n=this,r=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Up.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Xd("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return Xd("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Rp(t);Mp(r,n)>0&&(n=r)})),new Dp(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Jp=function(){function e(t,n){var r=this;w(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return S(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Zp(e){return null==e}function ev(e){return 0===e&&1/e==-1/0}function tv(e){return"number"==typeof e&&Number.isInteger(e)&&!ev(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function nv(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=iv(t)),t=rv(e.get(n),t);return iv(t)}function rv(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function iv(e){return e+"\x01\x01"}function av(e){var t=e.length;if(np(t>=2),2===t)return np("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),xp.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&tp(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:tp()}a=o+2}return new xp(r)}Jp.ct=-1;var ov=["userId","batchId"];function uv(e,t){return[e,nv(t)]}function sv(e,t,n){return[e,nv(t),n]}var cv={},lv=["prefixPath","collectionGroup","readTime","documentId"],fv=["prefixPath","collectionGroup","documentId"],hv=["collectionGroup","readTime","prefixPath","documentId"],dv=["canonicalId","targetId"],pv=["targetId","path"],vv=["path","targetId"],mv=["collectionId","parent"],yv=["indexId","uid"],gv=["uid","sequenceNumber"],kv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bv=["indexId","uid","orderedDocumentKey"],wv=["userId","collectionPath","documentId"],_v=["userId","collectionPath","largestBatchId"],xv=["userId","collectionGroup","largestBatchId"],Sv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Iv=[].concat(E(Sv),["documentOverlays"]),Ev=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Tv=Ev,Cv=[].concat(Tv,["indexConfiguration","indexState","indexEntries"]),Av=function(e){d(n,e);var t=m(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return S(n)}(Fp);function Ov(e,t){var n=rp(e);return Bp.M(n.ht,t)}function Nv(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Pv(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Rv(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Dv=function(){function e(t,n){w(this,e),this.comparator=t,this.root=n||Lv.EMPTY}return S(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Lv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Lv.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Mv(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Mv(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Mv(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Mv(this.root,e,this.comparator,!0)}}]),e}(),Mv=function(){function e(t,n,r,i){w(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return S(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Lv=function(){function e(t,n,r,i,a){w(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return S(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw tp();if(this.right.isRed())throw tp();var e=this.left.check();if(e!==this.right.check())throw tp();return e+(this.isRed()?0:1)}}]),e}();Lv.EMPTY=null,Lv.RED=!0,Lv.BLACK=!1,Lv.EMPTY=new(function(){function e(){w(this,e),this.size=0}return S(e,[{key:"key",get:function(){throw tp()}},{key:"value",get:function(){throw tp()}},{key:"color",get:function(){throw tp()}},{key:"left",get:function(){throw tp()}},{key:"right",get:function(){throw tp()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Lv(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Fv=function(){function e(t){w(this,e),this.comparator=t,this.data=new Dv(this.comparator)}return S(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new jv(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new jv(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),jv=function(){function e(t){w(this,e),this.iter=t}return S(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function zv(e){return e.hasNext()?e.getNext():void 0}var Uv=function(){function e(t){w(this,e),this.fields=t,t.sort(Ip.comparator)}return S(e,[{key:"unionWith",value:function(t){var n,r=new Fv(Ip.comparator),i=y(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=y(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=y(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return gp(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Vv=function(e){d(n,e);var t=m(n);function n(){var e;return w(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return S(n)}(A(Error));var Bv=function(e){function t(e){w(this,t),this.binaryString=e}return S(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return yp(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Vv("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Bv.EMPTY_BYTE_STRING=new Bv("");var qv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wv(e){if(np(!!e),"string"==typeof e){var t=0,n=qv.exec(e);if(np(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Gv(e.seconds),nanos:Gv(e.nanos)}}function Gv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Kv(e){return"string"==typeof e?Bv.fromBase64String(e):Bv.fromUint8Array(e)}function Hv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Qv(e){var t=e.mapValue.fields.__previous_value__;return Hv(t)?Qv(t):t}function Yv(e){var t=Wv(e.mapValue.fields.__local_write_time__.timestampValue);return new bp(t.seconds,t.nanos)}var $v=S((function e(t,n,r,i,a,o,u,s,c){w(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),Xv=function(){function e(t,n){w(this,e),this.projectId=t,this.database=n||"(default)"}return S(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Jv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Zv={nullValue:"NULL_VALUE"};function em(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Hv(e)?4:pm(e)?9007199254740991:10:tp()}function tm(e,t){if(e===t)return!0;var n=em(e);if(n!==em(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Yv(e).isEqual(Yv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Wv(e.timestampValue),r=Wv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Kv(e.bytesValue).isEqual(Kv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Gv(e.geoPointValue.latitude)===Gv(t.geoPointValue.latitude)&&Gv(e.geoPointValue.longitude)===Gv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Gv(e.integerValue)===Gv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Gv(e.doubleValue),r=Gv(t.doubleValue);return n===r?ev(n)===ev(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return gp(e.arrayValue.values||[],t.arrayValue.values||[],tm);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Nv(n)!==Nv(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!tm(n[i],r[i])))return!1;return!0}(e,t);default:return tp()}}function nm(e,t){return void 0!==(e.values||[]).find((function(e){return tm(e,t)}))}function rm(e,t){if(e===t)return 0;var n=em(e),r=em(t);if(n!==r)return yp(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return yp(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Gv(e.integerValue||e.doubleValue),r=Gv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return im(e.timestampValue,t.timestampValue);case 4:return im(Yv(e),Yv(t));case 5:return yp(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Kv(e),r=Kv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=yp(n[i],r[i]);if(0!==a)return a}return yp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=yp(Gv(e.latitude),Gv(t.latitude));return 0!==n?n:yp(Gv(e.longitude),Gv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=rm(n[i],r[i]);if(a)return a}return yp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Jv.mapValue&&t===Jv.mapValue)return 0;if(e===Jv.mapValue)return 1;if(t===Jv.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=yp(r[o],a[o]);if(0!==u)return u;var s=rm(n[r[o]],i[a[o]]);if(0!==s)return s}return yp(r.length,a.length)}(e.mapValue,t.mapValue);default:throw tp()}}function im(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return yp(e,t);var n=Wv(e),r=Wv(t),i=yp(n.seconds,r.seconds);return 0!==i?i:yp(n.nanos,r.nanos)}function am(e){return om(e)}function om(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Wv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Kv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ep.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=y(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=om(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=y(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(om(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):tp();var t,n}function um(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function sm(e){return!!e&&"integerValue"in e}function cm(e){return!!e&&"arrayValue"in e}function lm(e){return!!e&&"nullValue"in e}function fm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function hm(e){return!!e&&"mapValue"in e}function dm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Pv(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=dm(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=dm(e.arrayValue.values[r]);return n}return Object.assign({},e)}function pm(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function vm(e){return"nullValue"in e?Zv:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?um(Xv.empty(),Ep.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:tp()}function mm(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?um(Xv.empty(),Ep.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Jv:tp()}function ym(e,t){var n=rm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function gm(e,t){var n=rm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var km=function(){function e(t){w(this,e),this.value=t}return S(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!hm(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dm(t)}},{key:"setAll",value:function(e){var t=this,n=Ip.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=dm(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());hm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return tm(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];hm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Pv(t,(function(t,n){return e[t]=n}));var r,i=y(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(dm(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function bm(e){var t=[];return Pv(e.fields,(function(e,n){var r=new Ip([e]);if(hm(n)){var i=bm(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=y(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Uv(t)}var wm=function(){function e(t,n,r,i,a,o,u){w(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return S(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(wp.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=km.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=km.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=wp.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,wp.min(),wp.min(),wp.min(),km.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,wp.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,wp.min(),wp.min(),km.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,wp.min(),wp.min(),km.empty(),2)}}]),e}(),_m=S((function e(t,n){w(this,e),this.position=t,this.inclusive=n}));function xm(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ep.comparator(Ep.fromName(o.referenceValue),n.key):rm(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Sm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!tm(e.position[n],t.position[n]))return!1;return!0}var Im=S((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";w(this,e),this.field=t,this.dir=n}));function Em(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Tm=S((function e(){w(this,e)})),Cm=function(e){d(n,e);var t=m(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return S(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(rm(t,this.value)):null!==t&&em(this.value)===em(t)&&this.matchesComparison(rm(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tp()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new jm(e,t,r):"array-contains"===t?new Bm(e,r):"in"===t?new qm(e,r):"not-in"===t?new Wm(e,r):"array-contains-any"===t?new Gm(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new zm(e,n):new Um(e,n)}}]),n}(Tm),Am=function(e){d(n,e);var t=m(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return S(n,[{key:"matches",value:function(e){return Om(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=y(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Tm);function Om(e){return"and"===e.op}function Nm(e){return"or"===e.op}function Pm(e){return Rm(e)&&Om(e)}function Rm(e){var t,n=y(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Am)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Dm(e){if(e instanceof Cm)return e.field.canonicalString()+e.op.toString()+am(e.value);if(Pm(e))return e.filters.map((function(e){return Dm(e)})).join(",");var t=e.filters.map((function(e){return Dm(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Mm(e,t){return e instanceof Cm?function(e,t){return t instanceof Cm&&e.op===t.op&&e.field.isEqual(t.field)&&tm(e.value,t.value)}(e,t):e instanceof Am?function(e,t){return t instanceof Am&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Mm(n,t.filters[r])}),!0)}(e,t):void tp()}function Lm(e,t){var n=e.filters.concat(t);return Am.create(n,e.op)}function Fm(e){return e instanceof Cm?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(am(e.value))}(e):e instanceof Am?function(e){return e.op.toString()+" {"+e.getFilters().map(Fm).join(" ,")+"}"}(e):"Filter"}var jm=function(e){d(n,e);var t=m(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this,e,r,i)).key=Ep.fromName(i.referenceValue),a}return S(n,[{key:"matches",value:function(e){var t=Ep.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Cm),zm=function(e){d(n,e);var t=m(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e,"in",r)).keys=Vm("in",r),i}return S(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Cm),Um=function(e){d(n,e);var t=m(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e,"not-in",r)).keys=Vm("not-in",r),i}return S(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Cm);function Vm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ep.fromName(e.referenceValue)}))}var Bm=function(e){d(n,e);var t=m(n);function n(e,r){return w(this,n),t.call(this,e,"array-contains",r)}return S(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return cm(t)&&nm(t.arrayValue,this.value)}}]),n}(Cm),qm=function(e){d(n,e);var t=m(n);function n(e,r){return w(this,n),t.call(this,e,"in",r)}return S(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&nm(this.value.arrayValue,t)}}]),n}(Cm),Wm=function(e){d(n,e);var t=m(n);function n(e,r){return w(this,n),t.call(this,e,"not-in",r)}return S(n,[{key:"matches",value:function(e){if(nm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!nm(this.value.arrayValue,t)}}]),n}(Cm),Gm=function(e){d(n,e);var t=m(n);function n(e,r){return w(this,n),t.call(this,e,"array-contains-any",r)}return S(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!cm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return nm(t.value.arrayValue,e)}))}}]),n}(Cm),Km=S((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;w(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.dt=null}));function Hm(e){return new Km(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Qm(e){var t=rp(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Dm(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Zp(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return am(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return am(e)})).join(",")),t.dt=n}return t.dt}function Ym(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Em(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Mm(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Sm(e.startAt,t.startAt)&&Sm(e.endAt,t.endAt)}function $m(e){return Ep.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Xm(e,t){return e.filters.filter((function(e){return e instanceof Cm&&e.field.isEqual(t)}))}function Jm(e,t,n){var r,i=Zv,a=!0,o=y(Xm(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Zv,c=!0;switch(u.op){case"<":case"<=":s=vm(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Zv}ym({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ym({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Zm(e,t,n){var r,i=Jv,a=!0,o=y(Xm(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Jv,c=!0;switch(u.op){case">=":case">":s=mm(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Jv}gm({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];gm({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var ey=S((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;w(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}));function ty(e,t,n,r,i,a,o,u){return new ey(e,t,n,r,i,a,o,u)}function ny(e){return new ey(e)}function ry(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function iy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ay(e){var t,n=y(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function oy(e){return null!==e.collectionGroup}function uy(e){var t=rp(e);if(null===t.wt){t.wt=[];var n=ay(t),r=iy(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new Im(n)),t.wt.push(new Im(Ip.keyField(),"asc"));else{var i,a=!1,o=y(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.wt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Im(Ip.keyField(),s))}}}return t.wt}function sy(e){var t=rp(e);if(!t._t)if("F"===t.limitType)t._t=Hm(t.path,t.collectionGroup,uy(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=y(uy(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Im(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new _m(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new _m(t.startAt.position,t.startAt.inclusive):null;t._t=Hm(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function cy(e,t){t.getFirstInequalityField(),ay(e);var n=e.filters.concat([t]);return new ey(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ly(e,t,n){return new ey(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function fy(e,t){return Ym(sy(e),sy(t))&&e.limitType===t.limitType}function hy(e){return"".concat(Qm(sy(e)),"|lt:").concat(e.limitType)}function dy(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Fm(e)})).join(", "),"]")),Zp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return am(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return am(e)})).join(",")),"Target(".concat(t,")")}(sy(e)),"; limitType=").concat(e.limitType,")")}function py(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ep.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=y(uy(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=y(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=xm(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,uy(e),t))&&!(e.endAt&&!function(e,t,n){var r=xm(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,uy(e),t))}(e,t)}function vy(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function my(e){return function(t,n){var r,i=!1,a=y(uy(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=yy(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function yy(e,t,n){var r=e.field.isKeyField()?Ep.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?rm(r,i):tp()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return tp()}}var gy=function(){function e(t,n){w(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return S(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=y(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Pv(this.inner,(function(t,n){var r,i=y(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Rv(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),ky=new Dv(Ep.comparator);function by(){return ky}var wy=new Dv(Ep.comparator);function _y(){for(var e=wy,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function xy(e){var t=wy;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Sy(){return Ey()}function Iy(){return Ey()}function Ey(){return new gy((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Ty=new Dv(Ep.comparator),Cy=new Fv(Ep.comparator);function Ay(){for(var e=Cy,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Oy=new Fv(yp);function Ny(){return Oy}function Py(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ev(t)?"-0":t}}function Ry(e){return{integerValue:""+e}}function Dy(e,t){return tv(t)?Ry(t):Py(e,t)}var My=S((function e(){w(this,e),this._=void 0}));function Ly(e,t,n){return e instanceof zy?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Hv(t)&&(t=Qv(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Uy?Vy(e,t):e instanceof By?qy(e,t):function(e,t){var n=jy(e,t),r=Gy(n)+Gy(e.gt);return sm(n)&&sm(e.gt)?Ry(r):Py(e.serializer,r)}(e,t)}function Fy(e,t,n){return e instanceof Uy?Vy(e,t):e instanceof By?qy(e,t):n}function jy(e,t){return e instanceof Wy?sm(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var zy=function(e){d(n,e);var t=m(n);function n(){return w(this,n),t.apply(this,arguments)}return S(n)}(My),Uy=function(e){d(n,e);var t=m(n);function n(e){var r;return w(this,n),(r=t.call(this)).elements=e,r}return S(n)}(My);function Vy(e,t){var n,r=Ky(t),i=y(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return tm(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var By=function(e){d(n,e);var t=m(n);function n(e){var r;return w(this,n),(r=t.call(this)).elements=e,r}return S(n)}(My);function qy(e,t){var n,r=Ky(t),i=y(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!tm(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Wy=function(e){d(n,e);var t=m(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return S(n)}(My);function Gy(e){return Gv(e.integerValue||e.doubleValue)}function Ky(e){return cm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Hy=S((function e(t,n){w(this,e),this.field=t,this.transform=n}));var Qy=S((function e(t,n){w(this,e),this.version=t,this.transformResults=n})),Yy=function(){function e(t,n){w(this,e),this.updateTime=t,this.exists=n}return S(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function $y(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Xy=S((function e(){w(this,e)}));function Jy(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new lg(e.key,Yy.none()):new rg(e.key,e.data,Yy.none());var n,r=e.data,i=km.empty(),a=new Fv(Ip.comparator),o=y(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new ig(e.key,i,new Uv(a.toArray()),Yy.none())}function Zy(e,t,n){e instanceof rg?function(e,t,n){var r=e.value.clone(),i=og(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ig?function(e,t,n){if($y(e.precondition,t)){var r=og(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ag(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function eg(e,t,n,r){return e instanceof rg?function(e,t,n,r){if(!$y(e.precondition,t))return n;var i=e.value.clone(),a=ug(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ig?function(e,t,n,r){if(!$y(e.precondition,t))return n;var i=ug(e.fieldTransforms,r,t),a=t.data;return a.setAll(ag(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return $y(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function tg(e,t){var n,r=null,i=y(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=jy(a.transform,o||null);null!=u&&(null===r&&(r=km.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function ng(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&gp(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Uy&&t instanceof Uy||e instanceof By&&t instanceof By?gp(e.elements,t.elements,tm):e instanceof Wy&&t instanceof Wy?tm(e.gt,t.gt):e instanceof zy&&t instanceof zy}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var rg=function(e){d(n,e);var t=m(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return w(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return S(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Xy),ig=function(e){d(n,e);var t=m(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return w(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return S(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Xy);function ag(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function og(e,t,n){var r=new Map;np(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Fy(o,u,n[i]))}return r}function ug(e,t,n){var r,i=new Map,a=y(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Ly(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var sg,cg,lg=function(e){d(n,e);var t=m(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return S(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Xy),fg=function(e){d(n,e);var t=m(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return S(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Xy),hg=function(){function e(t,n,r,i){w(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return S(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Zy(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=y(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=eg(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=y(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=eg(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Iy();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Jy(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(wp.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ay())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&gp(this.mutations,e.mutations,(function(e,t){return ng(e,t)}))&&gp(this.baseMutations,e.baseMutations,(function(e,t){return ng(e,t)}))}}]),e}(),dg=function(){function e(t,n,r,i){w(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return S(e,null,[{key:"from",value:function(t,n,r){np(t.mutations.length===r.length);for(var i=Ty,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),pg=function(){function e(t,n){w(this,e),this.largestBatchId=t,this.mutation=n}return S(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),vg=S((function e(t,n){w(this,e),this.count=t,this.unchangedNames=n}));function mg(e){switch(e){default:return tp();case ip.CANCELLED:case ip.UNKNOWN:case ip.DEADLINE_EXCEEDED:case ip.RESOURCE_EXHAUSTED:case ip.INTERNAL:case ip.UNAVAILABLE:case ip.UNAUTHENTICATED:return!1;case ip.INVALID_ARGUMENT:case ip.NOT_FOUND:case ip.ALREADY_EXISTS:case ip.PERMISSION_DENIED:case ip.FAILED_PRECONDITION:case ip.ABORTED:case ip.OUT_OF_RANGE:case ip.UNIMPLEMENTED:case ip.DATA_LOSS:return!0}}function yg(e){if(void 0===e)return Jd("GRPC error has no .code"),ip.UNKNOWN;switch(e){case sg.OK:return ip.OK;case sg.CANCELLED:return ip.CANCELLED;case sg.UNKNOWN:return ip.UNKNOWN;case sg.DEADLINE_EXCEEDED:return ip.DEADLINE_EXCEEDED;case sg.RESOURCE_EXHAUSTED:return ip.RESOURCE_EXHAUSTED;case sg.INTERNAL:return ip.INTERNAL;case sg.UNAVAILABLE:return ip.UNAVAILABLE;case sg.UNAUTHENTICATED:return ip.UNAUTHENTICATED;case sg.INVALID_ARGUMENT:return ip.INVALID_ARGUMENT;case sg.NOT_FOUND:return ip.NOT_FOUND;case sg.ALREADY_EXISTS:return ip.ALREADY_EXISTS;case sg.PERMISSION_DENIED:return ip.PERMISSION_DENIED;case sg.FAILED_PRECONDITION:return ip.FAILED_PRECONDITION;case sg.ABORTED:return ip.ABORTED;case sg.OUT_OF_RANGE:return ip.OUT_OF_RANGE;case sg.UNIMPLEMENTED:return ip.UNIMPLEMENTED;case sg.DATA_LOSS:return ip.DATA_LOSS;default:return tp()}}(cg=sg||(sg={}))[cg.OK=0]="OK",cg[cg.CANCELLED=1]="CANCELLED",cg[cg.UNKNOWN=2]="UNKNOWN",cg[cg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cg[cg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cg[cg.NOT_FOUND=5]="NOT_FOUND",cg[cg.ALREADY_EXISTS=6]="ALREADY_EXISTS",cg[cg.PERMISSION_DENIED=7]="PERMISSION_DENIED",cg[cg.UNAUTHENTICATED=16]="UNAUTHENTICATED",cg[cg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cg[cg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cg[cg.ABORTED=10]="ABORTED",cg[cg.OUT_OF_RANGE=11]="OUT_OF_RANGE",cg[cg.UNIMPLEMENTED=12]="UNIMPLEMENTED",cg[cg.INTERNAL=13]="INTERNAL",cg[cg.UNAVAILABLE=14]="UNAVAILABLE",cg[cg.DATA_LOSS=15]="DATA_LOSS";var gg=function(){function e(){w(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return S(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return kg}},{key:"getOrCreateInstance",value:function(){return null===kg&&(kg=new e),kg}}]),e}(),kg=null;function bg(){return new TextEncoder}var wg=new Gd([4294967295,4294967295],0);function _g(e){var t=bg().encode(e),n=new Wd;return n.update(t),new Uint8Array(n.digest())}function xg(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Gd([n,r],0),new Gd([i,a],0)]}var Sg=function(){function e(t,n,r){if(w(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ig("Invalid padding: ".concat(n));if(r<0)throw new Ig("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Ig("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Ig("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=Gd.fromNumber(this.It)}return S(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(Gd.fromNumber(n)));return 1===r.compare(wg)&&(r=new Gd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=u(xg(_g(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=u(xg(_g(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Ig=function(e){d(n,e);var t=m(n);function n(){var e;return w(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return S(n)}(A(Error)),Eg=function(){function e(t,n,r,i,a){w(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return S(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Tg.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(wp.min(),i,new Dv(yp),by(),Ay())}}]),e}(),Tg=function(){function e(t,n,r,i,a){w(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return S(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Ay(),Ay(),Ay())}}]),e}(),Cg=S((function e(t,n,r,i){w(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),Ag=S((function e(t,n){w(this,e),this.targetId=t,this.Vt=n})),Og=S((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bv.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;w(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ng=function(){function e(){w(this,e),this.St=0,this.Dt=Dg(),this.Ct=Bv.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return S(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=Ay(),t=Ay(),n=Ay();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:tp()}})),new Tg(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=Dg()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),Pg=function(){function e(t){w(this,e),this.Gt=t,this.Qt=new Map,this.jt=by(),this.zt=Rg(),this.Wt=new Dv(yp)}return S(e,[{key:"Ht",value:function(e){var t,n=y(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(u){n.e(u)}finally{n.f()}var i,a=y(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:tp()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if($m(a))if(0===r){var o=new Ep(a.path);this.Yt(n,o,wm.newNoDocument(o,wp.min()))}else np(1===r);else{var u=this.ie(n);if(u!==r){var s=this.re(e,u);if(0!==s){this.ee(n);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=gg.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,u,s,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(s=null===(u=null==l?void 0:l.bits)||void 0===u?void 0:u.padding)&&void 0!==s?s:0}),c}(s,u,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,u=r.bits,s=u.bitmap,c=void 0===s?"":s,l=u.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=Kv(c).toUint8Array()}catch(e){if(e instanceof Vv)return Zd("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new Sg(a,f,d)}catch(e){return Zd(e instanceof Ig?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&$m(a.target)){var o=new Ep(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,wm.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=Ay();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Eg(e,n,this.Wt,this.jt,r);return this.jt=by(),this.zt=Rg(),this.Wt=new Dv(yp),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new Ng,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new Fv(yp),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||Xd("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new Ng),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Rg(){return new Dv(Ep.comparator)}function Dg(){return new Dv(Ep.comparator)}var Mg={asc:"ASCENDING",desc:"DESCENDING"},Lg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fg={and:"AND",or:"OR"},jg=S((function e(t,n){w(this,e),this.databaseId=t,this.useProto3Json=n}));function zg(e,t){return e.useProto3Json||Zp(t)?t:{value:t}}function Ug(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Vg(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Bg(e,t){return Ug(e,t.toTimestamp())}function qg(e){return np(!!e),wp.fromTimestamp(function(e){var t=Wv(e);return new bp(t.seconds,t.nanos)}(e))}function Wg(e,t){return function(e){return new xp(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Gg(e){var t=xp.fromString(e);return np(pk(t)),t}function Kg(e,t){return Wg(e.databaseId,t.path)}function Hg(e,t){var n=Gg(t);if(n.get(1)!==e.databaseId.projectId)throw new ap(ip.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ap(ip.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ep(Xg(n))}function Qg(e,t){return Wg(e.databaseId,t)}function Yg(e){var t=Gg(e);return 4===t.length?xp.emptyPath():Xg(t)}function $g(e){return new xp(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Xg(e){return np(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Jg(e,t,n){return{name:Kg(e,t),fields:n.value.mapValue.fields}}function Zg(e,t,n){var r=Hg(e,t.name),i=qg(t.updateTime),a=t.createTime?qg(t.createTime):wp.min(),o=new km({mapValue:{fields:t.fields}}),u=wm.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function ek(e,t){return"found"in t?function(e,t){np(!!t.found),t.found.name,t.found.updateTime;var n=Hg(e,t.found.name),r=qg(t.found.updateTime),i=t.found.createTime?qg(t.found.createTime):wp.min(),a=new km({mapValue:{fields:t.found.fields}});return wm.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){np(!!t.missing),np(!!t.readTime);var n=Hg(e,t.missing),r=qg(t.readTime);return wm.newNoDocument(n,r)}(e,t):tp()}function tk(e,t){var n;if(t instanceof rg)n={update:Jg(e,t.key,t.value)};else if(t instanceof lg)n={delete:Kg(e,t.key)};else if(t instanceof ig)n={update:Jg(e,t.key,t.data),updateMask:dk(t.fieldMask)};else{if(!(t instanceof fg))return tp();n={verify:Kg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof zy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Uy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof By)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Wy)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw tp()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Bg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:tp()}(e,t.precondition)),n}function nk(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Yy.updateTime(qg(e.updateTime)):void 0!==e.exists?Yy.exists(e.exists):Yy.none()}(t.currentDocument):Yy.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)np("REQUEST_TIME"===t.setToServerValue),n=new zy;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Uy(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new By(i)}else"increment"in t?n=new Wy(e,t.increment):tp();var a=Ip.fromServerFormat(t.fieldPath);return new Hy(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Hg(e,t.update.name),a=new km({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Uv(t.map((function(e){return Ip.fromServerFormat(e)})))}(t.updateMask);return new ig(i,a,o,n,r)}return new rg(i,a,n,r)}if(t.delete){var u=Hg(e,t.delete);return new lg(u,n)}if(t.verify){var s=Hg(e,t.verify);return new fg(s,n)}return tp()}function rk(e,t){return{documents:[Qg(e,t.path)]}}function ik(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Qg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Qg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return hk(Am.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:lk(e.field),direction:uk(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=zg(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ak(e){var t=Yg(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){np(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=ok(e);return t instanceof Am&&Pm(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Im(fk(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Zp(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new _m(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new _m(n,t)}(n.endAt)),ty(t,i,u,o,s,"F",c,l)}function ok(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=fk(e.unaryFilter.field);return Cm.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=fk(e.unaryFilter.field);return Cm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=fk(e.unaryFilter.field);return Cm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=fk(e.unaryFilter.field);return Cm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return tp()}}(e):void 0!==e.fieldFilter?function(e){return Cm.create(fk(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tp()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Am.create(e.compositeFilter.filters.map((function(e){return ok(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return tp()}}(e.compositeFilter.op))}(e):tp()}function uk(e){return Mg[e]}function sk(e){return Lg[e]}function ck(e){return Fg[e]}function lk(e){return{fieldPath:e.canonicalString()}}function fk(e){return Ip.fromServerFormat(e.fieldPath)}function hk(e){return e instanceof Cm?function(e){if("=="===e.op){if(fm(e.value))return{unaryFilter:{field:lk(e.field),op:"IS_NAN"}};if(lm(e.value))return{unaryFilter:{field:lk(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(fm(e.value))return{unaryFilter:{field:lk(e.field),op:"IS_NOT_NAN"}};if(lm(e.value))return{unaryFilter:{field:lk(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lk(e.field),op:sk(e.op),value:e.value}}}(e):e instanceof Am?function(e){var t=e.getFilters().map((function(e){return hk(e)}));return 1===t.length?t[0]:{compositeFilter:{op:ck(e.op),filters:t}}}(e):tp()}function dk(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function pk(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var vk=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:wp.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:wp.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Bv.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;w(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return S(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),mk=S((function e(t){w(this,e),this.fe=t}));function yk(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:gk(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Kg(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ug(e,t.version.toTimestamp()),createTime:Ug(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:kk(t.version)};else{if(!t.isUnknownDocument())return tp();r.unknownDocument={path:n.path.toArray(),version:kk(t.version)}}return r}function gk(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function kk(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function bk(e){var t=new bp(e.seconds,e.nanoseconds);return wp.fromTimestamp(t)}function wk(e,t){for(var n=(t.baseMutations||[]).map((function(t){return nk(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return nk(e.fe,t)})),u=bp.fromMillis(t.localWriteTimeMs);return new hg(t.batchId,u,n,o)}function _k(e){var t,n,r=bk(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?bk(e.lastLimboFreeSnapshotVersion):wp.min();return void 0!==e.query.documents?(np(1===(n=e.query).documents.length),t=sy(ny(Yg(n.documents[0])))):t=function(e){return sy(ak(e))}(e.query),new vk(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,Bv.fromBase64String(e.resumeToken))}function xk(e,t){var n,r=kk(t.snapshotVersion),i=kk(t.lastLimboFreeSnapshotVersion);n=$m(t.target)?rk(e.fe,t.target):ik(e.fe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Qm(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Sk(e){var t=ak({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ly(t,t.limit,"L"):t}function Ik(e,t){return new pg(t.largestBatchId,nk(e.fe,t.overlayMutation))}function Ek(e,t){var n=t.path.lastSegment();return[e,nv(t.path.popLast()),n]}function Tk(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:kk(r.readTime),documentKey:nv(r.documentKey.path),largestBatchId:r.largestBatchId}}var Ck=function(){function e(){w(this,e)}return S(e,[{key:"getBundleMetadata",value:function(e,t){return Ak(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:bk(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Ak(e).put({bundleId:(n=t).id,createTime:kk(qg(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Ok(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Sk(t.bundledQuery),readTime:bk(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Ok(e).put(function(e){return{name:e.name,readTime:kk(qg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Ak(e){return Ov(e,"bundles")}function Ok(e){return Ov(e,"namedQueries")}var Nk=function(){function e(t,n){w(this,e),this.serializer=t,this.userId=n}return S(e,[{key:"getOverlay",value:function(e,t){var n=this;return Pk(e).get(Ek(this.userId,t)).next((function(e){return e?Ik(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Sy();return Up.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new pg(t,a);i.push(r.we(e,o))})),Up.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(nv(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Pk(e).J("collectionPathOverlayIndex",i))})),Up.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Sy(),a=nv(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Pk(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=y(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Ik(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Sy(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Pk(e).X({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Ik(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"we",value:function(e,t){return Pk(e).put(function(e,t,n){var r=u(Ek(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:tk(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Pk(e){return Ov(e,"documentOverlays")}var Rk=function(){function e(){w(this,e)}return S(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Gv(e.integerValue));else if("doubleValue"in e){var n=Gv(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),ev(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Kv(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?pm(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):tp()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=y(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),Ep.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function Dk(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Mk(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Dk(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Rk.Ve=new Rk;var Lk=function(){function e(){w(this,e),this.buffer=new Uint8Array(1024),this.position=0}return S(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=y(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var a=r.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=y(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var a=r.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=Mk(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=Mk(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Fk=function(){function e(t){w(this,e),this.je=t}return S(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),jk=function(){function e(t){w(this,e),this.je=t}return S(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),zk=function(){function e(){w(this,e),this.je=new Lk,this.ze=new Fk(this.je),this.We=new jk(this.je)}return S(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),Uk=function(){function e(t,n,r,i){w(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return S(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Vk(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Bk(e.arrayValue,t.arrayValue))?n:0!==(n=Bk(e.directionalValue,t.directionalValue))?n:Ep.comparator(e.documentKey,t.documentKey)}function Bk(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var qk=function(){function e(t){w(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=y(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return S(e,[{key:"tn",value:function(e){np(e.collectionGroup===this.collectionId);var t=Cp(e);if(void 0!==t&&!this.en(t))return!1;for(var n=Ap(e),r=0,i=0;r<n.length&&this.en(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ze){var a=n[r];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ye.length||!this.sn(this.Ye[i++],o))return!1}return!0}},{key:"en",value:function(e){var t,n=y(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Wk(e){var t,n;if(np(e instanceof Cm||e instanceof Am),e instanceof Cm){if(e instanceof qm){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Cm.create(e.field,"==",t)})))||[];return Am.create(r,"or")}return e}var i=e.filters.map((function(e){return Wk(e)}));return Am.create(i,e.op)}function Gk(e){if(0===e.getFilters().length)return[];var t=Yk(Wk(e));return np(Qk(t)),Kk(t)||Hk(t)?[t]:t.getFilters()}function Kk(e){return e instanceof Cm}function Hk(e){return e instanceof Am&&Pm(e)}function Qk(e){return Kk(e)||Hk(e)||function(e){if(e instanceof Am&&Nm(e)){var t,n=y(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Kk(r)&&!Hk(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Yk(e){if(np(e instanceof Cm||e instanceof Am),e instanceof Cm)return e;if(1===e.filters.length)return Yk(e.filters[0]);var t=e.filters.map((function(e){return Yk(e)})),n=Am.create(t,e.op);return Qk(n=Jk(n))?n:(np(n instanceof Am),np(Om(n)),np(n.filters.length>1),n.filters.reduce((function(e,t){return $k(e,t)})))}function $k(e,t){var n;return np(e instanceof Cm||e instanceof Am),np(t instanceof Cm||t instanceof Am),n=e instanceof Cm?t instanceof Cm?function(e,t){return Am.create([e,t],"and")}(e,t):Xk(e,t):t instanceof Cm?Xk(t,e):function(e,t){if(np(e.filters.length>0&&t.filters.length>0),Om(e)&&Om(t))return Lm(e,t.getFilters());var n=Nm(e)?e:t,r=Nm(e)?t:e,i=n.filters.map((function(e){return $k(e,r)}));return Am.create(i,"or")}(e,t),Jk(n)}function Xk(e,t){if(Om(t))return Lm(t,e.getFilters());var n=t.filters.map((function(t){return $k(e,t)}));return Am.create(n,"or")}function Jk(e){if(np(e instanceof Cm||e instanceof Am),e instanceof Cm)return e;var t=e.getFilters();if(1===t.length)return Jk(t[0]);if(Rm(e))return e;var n=t.map((function(e){return Jk(e)})),r=[];return n.forEach((function(t){t instanceof Cm?r.push(t):t instanceof Am&&(t.op===e.op?r.push.apply(r,E(t.filters)):r.push(t))})),1===r.length?r[0]:Am.create(r,e.op)}var Zk=function(){function e(){w(this,e),this.rn=new eb}return S(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),Up.resolve()}},{key:"getCollectionParents",value:function(e,t){return Up.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Up.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Up.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Up.resolve(null)}},{key:"getIndexType",value:function(e,t){return Up.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Up.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Up.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Up.resolve(Dp.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Up.resolve(Dp.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Up.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Up.resolve()}}]),e}(),eb=function(){function e(){w(this,e),this.index={}}return S(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Fv(xp.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Fv(xp.comparator)).toArray()}}]),e}(),tb=new Uint8Array(0),nb=function(){function e(t,n){w(this,e),this.user=t,this.databaseId=n,this.on=new eb,this.un=new gy((function(e){return Qm(e)}),(function(e,t){return Ym(e,t)})),this.uid=t.uid||""}return S(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:nv(i)};return rb(e).put(a)}return Up.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[kp(t),""],!1,!0);return rb(e).j(r).next((function(e){var r,i=y(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(av(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=ab(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=ob(e);return a.next((function(e){o.put(Tk(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=ab(e),r=ob(e),i=ib(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=ib(e),i=!0,a=new Map;return Up.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Ay(),o=[];return Up.forEach(a,(function(i,a){var u;Xd("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Qm(t)));var s=function(e,t){var n=Cp(t);if(void 0===n)return null;var r,i=y(Xm(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=y(Ap(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=y(Xm(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=y(Ap(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Jm(e,o.fieldPath,e.startAt):Zm(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new _m(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=y(Ap(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Zm(e,o.fieldPath,e.endAt):Jm(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new _m(r,i)}(a,i),h=n.hn(i,a,l),d=n.hn(i,a,f),p=n.ln(i,a,c),v=n.fn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Up.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Ep.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Up.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Gk(Am.create(e.filters,"and")).map((function(t){return Hm(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.dn(t[h/c]):tb,f=u.wn(e,s,n[h%c],r),d=u._n(e,s,i[h%c],a),p=o.map((function(t){return u.wn(e,s,t,!0)}));l.push.apply(l,E(u.createRange(f,d,p)))},h=0;h<s;++h)f();return l}},{key:"wn",value:function(e,t,n,r){var i=new Uk(e,Ep.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new Uk(e,Ep.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new qk(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=y(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return Up.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Fv(Ip.comparator),r=!1,i=y(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=y(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=y(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new zk,i=y(Ap(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.He(a.kind);Rk.Ve._e(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new zk;return Rk.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new zk;return Rk.Ve._e(um(this.databaseId,t),n.He(function(e){var t=Ap(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new zk);var i,a=0,o=y(Ap(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=y(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.yn(t,s.fieldPath)&&cm(c))r=this.pn(r,s,c);else{var h=f.He(s.kind);Rk.Ve._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=E(e),a=[],o=y(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=y(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new zk;f.seed(l.Qe()),Rk.Ve._e(s,f.He(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Cm&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=ab(e),i=ob(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return Up.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Np(t.sequenceNumber,new Dp(bk(t.readTime),new Ep(av(t.documentKey)),t.largestBatchId)):Np.empty(),r=e.fields.map((function(e){var t=u(e,2),n=t[0],r=t[1];return new Op(Ip.fromServerFormat(n),r)}));return new Tp(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:yp(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=ab(e),a=ob(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Up.forEach(t,(function(t){return a.put(Tk(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Up.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Up.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Up.forEach(a,(function(r){return n.En(e,t,r).next((function(t){var a=n.An(i,r);return t.isEqual(a)?Up.resolve():n.vn(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return ib(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return ib(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=ib(e),i=new Fv(Vk);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new Uk(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new Fv(Vk),r=this.mn(t,e);if(null==r)return n;var i=Cp(t);if(null!=i){var a=e.data.field(i.fieldPath);if(cm(a)){var o,u=y(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Uk(t.indexId,e.key,this.dn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Uk(t.indexId,e.key,tb,r));return n}},{key:"vn",value:function(e,t,n,r,i){var a=this;Xd("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=zv(a),s=zv(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=zv(o)):l?(i(u),u=zv(a)):(u=zv(a),s=zv(o))}}(r,i,Vk,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.Pn(e,t,n,r))})),Up.waitFor(o)}},{key:"Tn",value:function(e){var t=1;return ob(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Vk(e,t)})).filter((function(e,t,n){return!t||0!==Vk(e,n[t-1])}));var r=[];r.push(e);var i,a=y(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Vk(o,e),s=Vk(o,t);if(0===u)r[0]=e.Je();else if(u>0&&s<0)r.push(o),r.push(o.Je());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,tb,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,tb,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return Vk(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(ub)}},{key:"getMinOffset",value:function(e,t){var n=this;return Up.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||tp()}))})).next(ub)}}]),e}();function rb(e){return Ov(e,"collectionParents")}function ib(e){return Ov(e,"indexEntries")}function ab(e){return Ov(e,"indexConfiguration")}function ob(e){return Ov(e,"indexState")}function ub(e){np(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Mp(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Dp(t.readTime,t.documentKey,n)}var sb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cb=function(){function e(t,n,r){w(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return S(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function lb(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.X({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){np(1===u)})));var c,l=[],f=y(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=sv(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Up.waitFor(a).next((function(){return l}))}function fb(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw tp();t=e.noDocument}return JSON.stringify(t).length}cb.DEFAULT_COLLECTION_PERCENTILE=10,cb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cb.DEFAULT=new cb(41943040,cb.DEFAULT_COLLECTION_PERCENTILE,cb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cb.DISABLED=new cb(-1,0,0);var hb=function(){function e(t,n,r,i){w(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return S(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pb(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=vb(e),o=pb(e);return o.add({}).next((function(u){np("number"==typeof u);var s,c=new hg(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return tk(e.fe,t)})),i=n.mutations.map((function(t){return tk(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Fv((function(e,t){return yp(e.canonicalString(),t.canonicalString())})),d=y(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=sv(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,cv))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[u]=c.keys()})),Up.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return pb(e).get(t).next((function(e){return e?(np(e.userId===n.userId),wk(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?Up.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return pb(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(np(t.batchId>=r),a=wk(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return pb(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pb(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return wk(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=uv(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return vb(e).X({range:i},(function(r,i,o){var s=u(r,3),c=s[0],l=s[1],f=s[2],h=av(l);if(c===n.userId&&t.path.isEqual(h))return pb(e).get(f).next((function(e){if(!e)throw tp();np(e.userId===n.userId),a.push(wk(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Fv(yp),i=[];return t.forEach((function(t){var a=uv(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=vb(e).X({range:o},(function(e,i,a){var o=u(e,3),s=o[0],c=o[1],l=o[2],f=av(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),Up.waitFor(i).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=uv(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Fv(yp);return vb(e).X({range:o},(function(e,t,a){var o=u(e,3),c=o[0],l=o[1],f=o[2],h=av(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.Dn(e,s)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(pb(e).get(t).next((function(e){if(null===e)throw tp();np(e.userId===n.userId),r.push(wk(n.serializer,e))})))})),Up.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return lb(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),Up.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Up.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return vb(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=av(e[1]);i.push(a)}else r.done()})).next((function(){np(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return db(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return mb(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return np(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function db(e,t,n){var r=uv(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return vb(e).X({range:a,Y:!0},(function(e,n,r){var a=u(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function pb(e){return Ov(e,"mutations")}function vb(e){return Ov(e,"documentMutations")}function mb(e){return Ov(e,"mutationQueues")}var yb=function(){function e(t){w(this,e),this.Nn=t}return S(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),gb=function(){function e(t,n){w(this,e),this.referenceDelegate=t,this.serializer=n}return S(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new yb(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return wp.fromTimestamp(new bp(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return kb(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return np(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return kb(e).X((function(o,u){var s=_k(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Up.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return kb(e).X((function(e,n){var r=_k(n);t(r)}))}},{key:"$n",value:function(e){return bb(e).get("targetGlobalKey").next((function(e){return np(null!==e),e}))}},{key:"On",value:function(e,t){return bb(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return kb(e).put(xk(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Qm(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return kb(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=_k(n);Ym(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=wb(e);return t.forEach((function(t){var o=nv(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Up.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=wb(e);return Up.forEach(t,(function(t){var a=nv(t.path);return Up.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=wb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=wb(e),i=Ay();return r.X({range:n,Y:!0},(function(e,t,n){var r=av(e[1]),a=new Ep(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=nv(t.path),r=IDBKeyRange.bound([n],[kp(n)],!1,!0),i=0;return wb(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=u(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"le",value:function(e,t){return kb(e).get(t).next((function(e){return e?_k(e):null}))}}]),e}();function kb(e){return Ov(e,"targets")}function bb(e){return Ov(e,"targetGlobal")}function wb(e){return Ov(e,"targetDocuments")}function _b(e,t){var n=u(e,2),r=n[0],i=n[1],a=u(t,2),o=a[0],s=a[1],c=yp(r,o);return 0===c?yp(i,s):c}var xb=function(){function e(t){w(this,e),this.Ln=t,this.buffer=new Fv(_b),this.qn=0}return S(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();_b(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Sb=function(){function e(t,n,r){w(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return S(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var t=this;Xd("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Gp(e.t0)){e.next=12;break}Xd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,jp(e.t0);case 14:return e.next=16,t.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Ib=function(){function e(t,n){w(this,e),this.jn=t,this.params=n}return S(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Up.resolve(Jp.ct);var r=new xb(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Xd("LruGarbageCollector","Garbage collection skipped; disabled"),Up.resolve(sb)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Xd("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),sb):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Xd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),$d()<=fe.DEBUG&&Xd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Up.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function Eb(e,t){return new Ib(e,t)}var Tb=function(){function e(t,n){w(this,e),this.db=t,this.garbageCollector=Eb(this,n)}return S(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Cb(e,n)}},{key:"removeReference",value:function(e,t,n){return Cb(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Cb(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return mb(e).Z((function(r){return db(e,r,t).next((function(e){return e&&(n=!0),Up.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,u){if(u<=t){var s=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,wp.min()),wb(e).delete([0,nv(o.path)])}))}));i.push(s)}})).next((function(){return Up.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Cb(e,t)}},{key:"Yn",value:function(e,t){var n,r=wb(e),i=Jp.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=u(e,2),o=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==Jp.ct&&t(new Ep(av(n)),i),i=c,n=s):i=Jp.ct})).next((function(){i!==Jp.ct&&t(new Ep(av(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Cb(e,t){return wb(e).put(function(e,t){return{targetId:0,path:nv(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Ab=function(){function e(){w(this,e),this.changes=new gy((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return S(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,wm.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Up.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ob=function(){function e(t){w(this,e),this.serializer=t}return S(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Db(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Db(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],gk(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=wm.newInvalidDocument(t);return Db(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Mb(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:wm.newInvalidDocument(t)};return Db(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Mb(t))},(function(e,i){r={document:n.ts(t,i),size:fb(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=by();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=by(),i=new Dv(Ep.comparator);return this.ns(e,t,(function(e,t){var a=n.ts(e,t);r=r.insert(e,a),i=i.insert(e,fb(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return Up.resolve();var r=new Fv(Fb);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Mb(r.first()),Mb(r.last())),a=r.getIterator(),o=a.getNext();return Db(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Ep.fromSegments([].concat(E(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Fb(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(Mb(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),gk(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Db(e).j(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=by(),o=y(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.ts(Ep.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(py(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=by(),o=Lb(t,n),u=Lb(t,Dp.max());return Db(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.ts(Ep.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Pb(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Rb(e).get("remoteDocumentGlobalKey").next((function(e){return np(!!e),e}))}},{key:"Zn",value:function(e,t){return Rb(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Zg(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Ep.fromSegments(t.noDocument.path),i=bk(t.noDocument.readTime);n=wm.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return tp();var a=Ep.fromSegments(t.unknownDocument.path),o=bk(t.unknownDocument.version);n=wm.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new bp(e[0],e[1]);return wp.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(wp.min()))return n}return wm.newInvalidDocument(e)}}]),e}();function Nb(e){return new Ob(e)}var Pb=function(e){d(n,e);var t=m(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new gy((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return S(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Fv((function(e,t){return yp(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.us.get(a);if(n.push(t.os.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=yk(t.os.serializer,o);i=i.add(a.path.popLast());var c=fb(s);r+=c-u.size,n.push(t.os.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=yk(t.os.serializer,o.convertToNoDocument(wp.min()));n.push(t.os.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),Up.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Ab);function Rb(e){return Ov(e,"remoteDocumentGlobal")}function Db(e){return Ov(e,"remoteDocumentsV14")}function Mb(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Lb(e,t){var n=t.documentKey.path.toArray();return[e,gk(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Fb(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=yp(n[a],r[a]))return i;return(i=yp(n.length,r.length))||((i=yp(n[n.length-2],r[r.length-2]))||yp(n[n.length-1],r[r.length-1]))}var jb=S((function e(t,n){w(this,e),this.overlayedDocument=t,this.mutatedFields=n})),zb=function(){function e(t,n,r,i){w(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return S(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&eg(r.mutation,e,Uv.empty(),bp.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Ay()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ay(),i=Sy();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=_y();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Sy();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Ay())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=by(),a=Ey(),o=Ey();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ig)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),eg(o.mutation,t,o.mutation.getFieldMask(),bp.now())):a.set(t.key,Uv.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new jb(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Ey(),i=new Dv((function(e,t){return e-t})),a=Ay();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=y(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Uv.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Ay()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Iy();c.forEach((function(e){if(!a.has(e)){var n=Jy(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Up.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Ep.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Up.resolve(Sy()),u=-1,s=a;return o.next((function(t){return Up.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Up.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Ay())})).next((function(e){return{batchId:u,changes:xy(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ep(t)).next((function(e){var t=_y();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=_y();return this.indexManager.getCollectionParents(e,i).next((function(o){return Up.forEach(o,(function(o){var u=function(e,t){return new ey(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,wm.newInvalidDocument(r)))}));var n=_y();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&eg(a.mutation,i,Uv.empty(),bp.now()),py(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Ub=function(){function e(t){w(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return S(e,[{key:"getBundleMetadata",value:function(e,t){return Up.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:qg(n.createTime)}),Up.resolve()}},{key:"getNamedQuery",value:function(e,t){return Up.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Sk(e.bundledQuery),readTime:qg(e.readTime)}}(t)),Up.resolve()}}]),e}(),Vb=function(){function e(){w(this,e),this.overlays=new Dv(Ep.comparator),this.ls=new Map}return S(e,[{key:"getOverlay",value:function(e,t){return Up.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Sy();return Up.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),Up.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),Up.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Sy(),i=t.length+1,a=new Ep(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Up.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Dv((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Sy(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Sy(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Up.resolve(s)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new pg(t,n));var a=this.ls.get(t);void 0===a&&(a=Ay(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),Bb=function(){function e(){w(this,e),this.fs=new Fv(qb.ds),this.ws=new Fv(qb._s)}return S(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new qb(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new qb(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new Ep(new xp([])),r=new qb(n,e),i=new qb(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new Ep(new xp([])),n=new qb(t,e),r=new qb(t,e+1),i=Ay();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new qb(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),qb=function(){function e(t,n){w(this,e),this.key=t,this.As=n}return S(e,null,[{key:"ds",value:function(e,t){return Ep.comparator(e.key,t.key)||yp(e.As,t.As)}},{key:"_s",value:function(e,t){return yp(e.As,t.As)||Ep.comparator(e.key,t.key)}}]),e}(),Wb=function(){function e(t,n){w(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Fv(qb.ds)}return S(e,[{key:"checkEmpty",value:function(e){return Up.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new hg(i,t,n,r);this.mutationQueue.push(a);var o,u=y(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Rs=this.Rs.add(new qb(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Up.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Up.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return Up.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Up.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return Up.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new qb(t,0),i=new qb(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),Up.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Fv(yp);return t.forEach((function(e){var t=new qb(e,0),i=new qb(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),Up.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ep.isDocumentKey(i)||(i=i.child(""));var a=new qb(new Ep(i),0),o=new Fv(yp);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),Up.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;np(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return Up.forEach(t.mutations,(function(i){var a=new qb(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new qb(t,0),r=this.Rs.firstAfterOrEqual(n);return Up.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Up.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Gb=function(){function e(t){w(this,e),this.Ds=t,this.docs=new Dv(Ep.comparator),this.size=0}return S(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Up.resolve(n?n.document.mutableCopy():wm.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=by();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():wm.newInvalidDocument(e))})),Up.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=by(),a=t.path,o=new Ep(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Mp(Rp(l),n)<=0||(r.has(l.key)||py(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Up.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){tp()}},{key:"Cs",value:function(e,t){return Up.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Kb(this)}},{key:"getSize",value:function(e){return Up.resolve(this.size)}}]),e}(),Kb=function(e){d(n,e);var t=m(n);function n(e){var r;return w(this,n),(r=t.call(this)).os=e,r}return S(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),Up.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(Ab),Hb=function(){function e(t){w(this,e),this.persistence=t,this.xs=new gy((function(e){return Qm(e)}),Ym),this.lastRemoteSnapshotVersion=wp.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Bb,this.targetCount=0,this.Ms=yb.kn()}return S(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),Up.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Up.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Up.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),Up.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Up.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new yb(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,Up.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),Up.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Up.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Up.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Up.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return Up.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),Up.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Up.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),Up.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return Up.resolve(n)}},{key:"containsKey",value:function(e,t){return Up.resolve(this.ks.containsKey(t))}}]),e}(),Qb=function(){function e(t,n){var r=this;w(this,e),this.$s={},this.overlays={},this.Os=new Jp(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new Hb(this),this.indexManager=new Zk,this.remoteDocumentCache=new Gb((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new mk(n),this.qs=new Ub(this.serializer)}return S(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Vb,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new Wb(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;Xd("MemoryPersistence","Starting transaction:",e);var i=new Yb(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return Up.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Yb=function(e){d(n,e);var t=m(n);function n(e){var r;return w(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return S(n)}(Fp),$b=function(){function e(t){w(this,e),this.persistence=t,this.Qs=new Bb,this.js=null}return S(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw tp()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Up.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Up.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),Up.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Up.forEach(this.Ws,(function(r){var i=Ep.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,wp.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return Up.or([function(){return Up.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),Xb=function(){function e(t){w(this,e),this.serializer=t}return S(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new Vp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ov,{unique:!0}),e.createObjectStore("documentMutations")}(e),Jb(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Up.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Jb(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wp.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ov,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Up.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ys(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Zs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ei(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:wv});t.createIndex("collectionPathOverlayIndex",_v,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",xv,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:lv});t.createIndex("documentKeyIndex",fv),t.createIndex("collectionGroupIndex",hv)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:yv}).createIndex("sequenceNumberIndex",gv,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:kv}).createIndex("documentKeyIndex",bv,{unique:!1})}(e)}))),o}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=fb(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return Up.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return Up.forEach(r,(function(r){np(r.userId===n.userId);var i=wk(t.serializer,r);return lb(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new xp(n),o=function(e){return[0,nv(e)]}(a);r.push(t.get(o).next((function(n){return n?Up.resolve():function(n){return t.put({targetId:0,path:nv(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Up.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:mv});var n=t.store("collectionParents"),r=new eb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:nv(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new xp(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=u(e,3),r=(n[0],n[1]),a=(n[2],av(r));return i(a.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=_k(r),a=xk(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Ep(xp.fromString(i.document.name).popFirst(5)):i.noDocument?Ep.fromSegments(i.noDocument.path):i.unknownDocument?Ep.fromSegments(i.unknownDocument.path):tp()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Up.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=Nb(this.serializer),a=new Qb($b.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Ay();wk(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Up.forEach(r,(function(e,r){var o=new Hd(r),u=Nk.de(n.serializer,o),s=a.getIndexManager(o),c=hb.de(o,n.serializer,s,a.referenceDelegate);return new zb(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Av(t,Jp.ct),e).next()}))}))}}]),e}();function Jb(e){e.createObjectStore("targetDocuments",{keyPath:pv}).createIndex("documentTargetsIndex",vv,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",dv,{unique:!0}),e.createObjectStore("targetGlobal")}var Zb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ew=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(w(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=u,this.ri=c,this.oi=l,this.ui=f,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new ap(ip.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Tb(this,i),this.di=n+"main",this.serializer=new mk(s),this.wi=new Bp(this.di,this.ui,new Xb(this.serializer)),this.Bs=new gb(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Nb(this.serializer),this.qs=new Ck,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&Jd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return S(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ap(ip.FAILED_PRECONDITION,Zb);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new Jp(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var t=this;return this.fi=function(){var n=b(g().mark((function n(r){return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var t=b(g().mark((function t(n){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return nw(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if(Gp(t))return Xd("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Xd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return tw(e).get("owner").next((function(e){return Up.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return nw(e).delete(this.clientId)}},{key:"bi",value:function(){var e=b(g().mark((function e(){var t,n,r,i,a=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Ov(e,"clientMetadata");return t.j().next((function(e){var n=a.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Up.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=y(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Di(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?Up.resolve(!0):tw(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new ap(ip.FAILED_PRECONDITION,Zb);return!1}}return!(!t.networkEnabled||!t.inForeground)||nw(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Xd("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=b(g().mark((function e(){var t=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Av(e,Jp.ct);return t.Ai(n).next((function(){return t.Pi(n)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return nw(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return hb.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new nb(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Nk.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;Xd("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.ui)?Cv:14===i?Tv:13===i?Ev:12===i?Iv:11===i?Sv:void tp();return this.wi.runTransaction(e,o,u,(function(i){return a=new Av(i,r.Os?r.Os.next():Jp.ct),"readwrite-primary"===t?r.Ti(a).next((function(e){return!!e||r.Ei(a)})).next((function(t){if(!t)throw Jd("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new ap(ip.FAILED_PRECONDITION,Lp);return n(a)})).next((function(e){return r.vi(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return tw(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ap(ip.FAILED_PRECONDITION,Zb)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return tw(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=tw(e);return n.get("owner").next((function(e){return t.Ri(e)?(Xd("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Up.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Jd("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!V()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Xd("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Jd("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Jd("Failed to set zombie client id.",e)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return Bp.D()}}]),e}();function tw(e){return Ov(e,"owner")}function nw(e){return Ov(e,"clientMetadata")}function rw(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var iw=function(){function e(t,n,r,i){w(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return S(e,null,[{key:"Li",value:function(t,n){var r,i=Ay(),a=Ay(),o=y(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),aw=function(){function e(){w(this,e),this.qi=!1}return S(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(ry(t))return Up.resolve(null);var r=sy(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=ly(t,null,"F"),r=sy(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Ay.apply(void 0,E(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,ly(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return ry(t)||r.isEqual(wp.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):($d()<=fe.DEBUG&&Xd("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dy(t)),i.Wi(e,o,t,Pp(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new Fv(my(e));return t.forEach((function(t,r){py(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return $d()<=fe.DEBUG&&Xd("QueryEngine","Using full collection scan to execute query:",dy(t)),this.Ui.getDocumentsMatchingQuery(e,t,Dp.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),ow=function(){function e(t,n,r,i){w(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new Dv(yp),this.Yi=new gy((function(e){return Qm(e)}),Ym),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return S(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zb(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function uw(e,t,n,r){return new ow(e,t,n,r)}function sw(e,t){return cw.apply(this,arguments)}function cw(){return cw=b(g().mark((function e(t,n){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rp(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Ay(),s=y(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=y(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=y(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=y(v.mutations);try{for(g.s();!(m=g.n()).done;){var k=m.value;u=u.add(k.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),cw.apply(this,arguments)}function lw(e,t){var n=rp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Up.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);np(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Ay(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function fw(e){var t=rp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function hw(e,t){var n=rp(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(Bv.EMPTY_BYTE_STRING,wp.min()).withLastLimboFreeSnapshotVersion(wp.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var u=by(),s=Ay();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(dw(e,a,t.documentUpdates).next((function(e){u=e.nr,s=e.sr}))),!r.isEqual(wp.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Up.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ji=i,e}))}function dw(e,t,n){var r=Ay(),i=Ay();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=by();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(wp.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Xd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function pw(e,t){var n=rp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function vw(e,t){var n=rp(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,Up.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new vk(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function mw(e,t,n){return yw.apply(this,arguments)}function yw(){return yw=b(g().mark((function e(t,n,r){var i,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=rp(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Gp(e.t1)){e.next=12;break}throw e.t1;case 12:Xd("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),yw.apply(this,arguments)}function gw(e,t,n){var r=rp(e),i=wp.min(),a=Ay();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=rp(e),i=r.Yi.get(n);return void 0!==i?Up.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,sy(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:wp.min(),n?a:Ay())})).next((function(e){return ww(r,vy(t),e),{documents:e,ir:a}}))}))}function kw(e,t){var n=rp(e),r=rp(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function bw(e,t){var n=rp(e),r=n.Xi.get(t)||wp.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,Pp(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return ww(n,t,e),e}))}function ww(e,t,n){var r=e.Xi.get(t)||wp.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function _w(e,t,n,r){return xw.apply(this,arguments)}function xw(){return xw=b(g().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=rp(t),o=Ay(),u=by(),s=y(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.rr(l.metadata.name),l.document&&(o=o.add(f)),(h=n.ur(l)).setReadTime(n.cr(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Zi.newChangeBuffer({trackRemovals:!0}),e.next=7,vw(a,function(e){return sy(ny(xp.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return dw(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Bs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Bs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr)})).next((function(){return t.nr}))}))})));case 9:case"end":return e.stop()}}),e)}))),xw.apply(this,arguments)}function Sw(e,t){return Iw.apply(this,arguments)}function Iw(){return Iw=b(g().mark((function e(t,n){var r,i,a,o=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Ay(),e.next=3,vw(t,sy(Sk(n.bundledQuery)));case 3:return i=e.sent,a=rp(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=qg(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.qs.saveNamedQuery(e,n);var o=i.withResumeToken(Bv.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.Bs.updateTargetData(e,o).next((function(){return a.Bs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Bs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.qs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Iw.apply(this,arguments)}function Ew(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Tw(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Cw(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Aw=function(){function e(t,n,r,i){w(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return S(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new ap(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Jd("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Ow=function(){function e(t,n,r){w(this,e),this.targetId=t,this.state=n,this.error=r}return S(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ap(i.error.code,i.error.message))),a?new e(t,i.state,r):(Jd("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Nw=function(){function e(t,n){w(this,e),this.clientId=t,this.activeTargetIds=n}return S(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ny(),o=0;i&&o<r.activeTargetIds.length;++o)i=tv(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Jd("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Pw=function(){function e(t,n){w(this,e),this.clientId=t,this.onlineState=n}return S(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Jd("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Rw=function(){function e(){w(this,e),this.activeTargetIds=Ny()}return S(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Dw=function(){function e(t,n,r,i,a){w(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Dv(yp),this.started=!1,this.yr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=Ew(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new Rw),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return S(e,[{key:"start",value:function(){var e=b(g().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:t=e.sent,n=y(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Ew(this.persistenceKey,i)))&&(o=Nw.ar(i,a))&&(this.gr=this.gr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Pr(),(u=this.storage.getItem(this.vr))&&(s=this.br(u))&&this.Vr(s),c=y(this.yr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.mr(f)}catch(d){c.e(d)}finally{c.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Cw(this.persistenceKey,e));if(n){var r=Ow.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Cw(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Xd("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Xd("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Xd("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Xd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void Jd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(b(g().mark((function e(){var r,i,a,o,u,s,c;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Tr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.Fr(r,null));case 6:if(!(i=t.Br(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Fr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Er.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Lr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.qr(a));case 16:e.next=41;break;case 18:if(!t.Ar.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ur(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.vr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.br(n.newValue))){e.next=30;break}return e.abrupt("return",t.Vr(u));case 30:e.next=41;break;case 32:if(n.key!==t.Ir){e.next=37;break}s=function(e){var t=Jp.ct;if(null!=e)try{var n=JSON.parse(e);np("number"==typeof n),t=n}catch(e){Jd("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Jp.ct&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Gr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:t.yr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new Aw(this.currentUser,e,t,n),i=Tw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=Tw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=Cw(this.persistenceKey,e),i=new Ow(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return Nw.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Aw.ar(new Hd(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return Ow.ar(r,t)}},{key:"br",value:function(e){return Pw.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(t.batchId,t.state,t.error));case 2:Xd("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Wr(o,u).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=Ny();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Mw=function(){function e(){w(this,e),this.Hr=new Rw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return S(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new Rw,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Lw=function(){function e(){w(this,e)}return S(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Fw=function(){function e(){var t=this;w(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return S(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){Xd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=y(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){Xd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=y(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),jw=null;function zw(){return null===jw?jw=268435456+Math.round(2147483648*Math.random()):jw++,"0x"+jw.toString(16)}var Uw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Vw=function(){function e(t){w(this,e),this.ro=t.ro,this.oo=t.oo}return S(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),Bw="WebChannelConnection",qw=function(e){d(n,e);var t=m(n);function n(e){var r;return w(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return S(n,[{key:"Ao",value:function(e,t,n,r){var i=zw();return new Promise((function(a,o){var u=new qd;u.setWithCredentials(!0),u.listenOnce(jd.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Fd.NO_ERROR:var t=u.getResponseJson();Xd(Bw,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Fd.TIMEOUT:Xd(Bw,"RPC '".concat(e,"' ").concat(i," timed out")),o(new ap(ip.DEADLINE_EXCEEDED,"Request time out"));break;case Fd.HTTP_ERROR:var n=u.getStatus();if(Xd(Bw,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ip).indexOf(t)>=0?t:ip.UNKNOWN}(s.status);o(new ap(c,s.message))}else o(new ap(ip.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new ap(ip.UNAVAILABLE,"Connection failed."));break;default:tp()}}finally{Xd(Bw,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);Xd(Bw,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=zw(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Md(),o=Ld(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.xmlHttpFactory=new Vd({})),this.Eo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");Xd(Bw,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new Vw({ro:function(t){h?Xd(Bw,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(Xd(Bw,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),Xd(Bw,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Bd.EventType.OPEN,(function(){h||Xd(Bw,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Bd.EventType.CLOSE,(function(){h||(h=!0,Xd(Bw,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(l,Bd.EventType.ERROR,(function(t){h||(h=!0,Zd(Bw,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new ap(ip.UNAVAILABLE,"The operation could not be completed")))})),p(l,Bd.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];np(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Xd(Bw,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=sg[e];if(void 0!==t)return yg(t)}(u),c=o.message;void 0===s&&(s=ip.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.wo(new ap(s,c)),l.close()}else Xd(Bw,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(o,zd.STAT_EVENT,(function(t){t.stat===Ud.PROXY?Xd(Bw,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Ud.NOPROXY&&Xd(Bw,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){w(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return S(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=zw(),o=this.To(e,t);Xd("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this.Eo(u,r,i),this.Ao(e,o,u,n).then((function(t){return Xd("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Zd("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=Uw[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function Ww(){return"undefined"!=typeof window?window:null}function Gw(){return"undefined"!=typeof document?document:null}function Kw(e){return new jg(e,!0)}var Hw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;w(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return S(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&Xd("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),Qw=function(){function e(t,n,r,i,a,o,u,s){w(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Hw(t,n)}return S(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===ip.RESOURCE_EXHAUSTED?(Jd(n.toString()),Jd("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===ip.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new ap(ip.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(b(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return Xd("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(Xd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Yw=function(e){d(n,e);var t=m(n);function n(e,r,i,a,o,u){var s;return w(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return S(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:tp()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(np(void 0===t||"string"==typeof t),Bv.fromBase64String(t||"")):(np(void 0===t||t instanceof Uint8Array),Bv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?ip.UNKNOWN:yg(e.code);return new ap(t,e.message||"")}(o);n=new Og(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Hg(e,s.document.name),l=qg(s.document.updateTime),f=s.document.createTime?qg(s.document.createTime):wp.min(),h=new km({mapValue:{fields:s.document.fields}}),d=wm.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Cg(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Hg(e,m.document),g=m.readTime?qg(m.readTime):wp.min(),k=wm.newNoDocument(y,g),b=m.removedTargetIds||[];n=new Cg([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=Hg(e,w.document),x=w.removedTargetIds||[];n=new Cg([],x,_,null)}else{if(!("filter"in t))return tp();t.filter;var S=t.filter;S.targetId;var I=S.count,E=void 0===I?0:I,T=S.unchangedNames,C=new vg(E,T),A=S.targetId;n=new Ag(A,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return wp.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?wp.min():t.readTime?qg(t.readTime):wp.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=$g(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=$m(r)?{documents:rk(e,r)}:{query:ik(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Vg(e,t.resumeToken);var i=zg(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(wp.min())>0){n.readTime=Ug(e,t.snapshotVersion.toTimestamp());var a=zg(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tp()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=$g(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(Qw),$w=function(e){d(n,e);var t=m(n);function n(e,r,i,a,o,u){var s;return w(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.ru=!1,s}return S(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,l(c(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(np(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(np(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?qg(e.updateTime):qg(t);return n.isEqual(wp.min())&&(n=qg(t)),new Qy(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=qg(e.commitTime);return this.listener.cu(n,t)}return np(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=$g(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return tk(t.serializer,e)}))};this.Wo(n)}}]),n}(Qw),Xw=function(e){d(n,e);var t=m(n);function n(e,r,i,a){var o;return w(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return S(n,[{key:"fu",value:function(){if(this.lu)throw new ap(ip.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.connection.Io(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ip.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ap(ip.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=u(a,2),s=o[0],c=o[1];return i.connection.vo(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ip.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new ap(ip.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return S((function e(){w(this,e)}))}());var Jw=function(){function e(t,n){w(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return S(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Jd(t),this.mu=!1):Xd("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),Zw=S((function e(t,n,r,i,a){var o=this;w(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=l_(o),!e.t0){e.next=5;break}return Xd("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=rp(t)).vu.add(4),e.next=4,n_(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,e_(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new Jw(r,i)}));function e_(e){return t_.apply(this,arguments)}function t_(){return(t_=b(g().mark((function e(t){var n,r,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l_(t)){e.next=18;break}n=y(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function n_(e){return r_.apply(this,arguments)}function r_(){return(r_=b(g().mark((function e(t){var n,r,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=y(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function i_(e,t){var n=rp(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),c_(n)?s_(n):z_(n).Ko()&&o_(n,t))}function a_(e,t){var n=rp(e),r=z_(n);n.Au.delete(t),r.Ko()&&u_(n,t),0===n.Au.size&&(r.Ko()?r.jo():l_(n)&&n.bu.set("Unknown"))}function o_(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wp.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}z_(e).su(t)}function u_(e,t){e.Vu.qt(t),z_(e).iu(t)}function s_(e){e.Vu=new Pg({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),z_(e).start(),e.bu.gu()}function c_(e){return l_(e)&&!z_(e).Uo()&&e.Au.size>0}function l_(e){return 0===rp(e).vu.size}function f_(e){e.Vu=void 0}function h_(e){return d_.apply(this,arguments)}function d_(){return(d_=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){o_(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p_(e,t){return v_.apply(this,arguments)}function v_(){return(v_=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f_(t),c_(t)?(t.bu.Iu(n),s_(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m_(e,t,n){return y_.apply(this,arguments)}function y_(){return y_=b(g().mark((function e(t,n,r){var i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof Og&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=b(g().mark((function e(t,n){var r,i,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=y(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Xd("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,g_(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Cg?t.Vu.Ht(n):n instanceof Ag?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(wp.min())){e.next=29;break}return e.prev=14,e.next=17,fw(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(Bv.EMPTY_BYTE_STRING,r.snapshotVersion)),u_(e,t);var i=new vk(r.target,t,n,r.sequenceNumber);o_(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Xd("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,g_(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),y_.apply(this,arguments)}function g_(e,t,n){return k_.apply(this,arguments)}function k_(){return(k_=b(g().mark((function e(t,n,r){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gp(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,n_(t);case 5:t.bu.set("Offline"),r||(r=function(){return fw(t.localStore)}),t.asyncQueue.enqueueRetryable(b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xd("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,e_(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b_(e,t){return t().catch((function(n){return g_(e,n,t)}))}function w_(e){return __.apply(this,arguments)}function __(){return(__=b(g().mark((function e(t){var n,r,i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=rp(t),r=U_(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!x_(n)){e.next=19;break}return e.prev=3,e.next=6,pw(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,S_(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,g_(n,e.t0);case 17:e.next=2;break;case 19:I_(n)&&E_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function x_(e){return l_(e)&&e.Eu.length<10}function S_(e,t){e.Eu.push(t);var n=U_(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function I_(e){return l_(e)&&!U_(e).Uo()&&e.Eu.length>0}function E_(e){U_(e).start()}function T_(e){return C_.apply(this,arguments)}function C_(){return(C_=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U_(t).hu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A_(e){return O_.apply(this,arguments)}function O_(){return(O_=b(g().mark((function e(t){var n,r,i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=U_(t),r=y(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N_(e,t,n){return P_.apply(this,arguments)}function P_(){return(P_=b(g().mark((function e(t,n,r){var i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=dg.from(i,n,r),e.next=3,b_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,w_(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R_(e,t){return D_.apply(this,arguments)}function D_(){return D_=b(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&U_(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=b(g().mark((function e(t,n){var r,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!mg(i=n.code)||i===ip.ABORTED){e.next=7;break}return r=t.Eu.shift(),U_(t).Qo(),e.next=5,b_(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,w_(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:I_(t)&&E_(t);case 5:case"end":return e.stop()}}),e)}))),D_.apply(this,arguments)}function M_(e,t){return L_.apply(this,arguments)}function L_(){return(L_=b(g().mark((function e(t,n){var r,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=rp(t)).asyncQueue.verifyOperationInProgress(),Xd("RemoteStore","RemoteStore received new credentials"),i=l_(r),r.vu.add(3),e.next=6,n_(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,e_(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F_(e,t){return j_.apply(this,arguments)}function j_(){return(j_=b(g().mark((function e(t,n){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=rp(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,e_(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,n_(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z_(e){return e.Su||(e.Su=function(e,t,n){var r=rp(e);return r.fu(),new Yw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:h_.bind(null,e),ao:p_.bind(null,e),nu:m_.bind(null,e)}),e.Ru.push(function(){var t=b(g().mark((function t(n){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),c_(e)?s_(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:f_(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function U_(e){return e.Du||(e.Du=function(e,t,n){var r=rp(e);return r.fu(),new $w(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:T_.bind(null,e),ao:R_.bind(null,e),au:A_.bind(null,e),cu:N_.bind(null,e)}),e.Ru.push(function(){var t=b(g().mark((function t(n){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,w_(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(Xd("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var V_=function(){function e(t,n,r,i,a){w(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new op,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return S(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ap(ip.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function B_(e,t){if(Jd("AsyncQueue","".concat(t,": ").concat(e)),Gp(e))return new ap(ip.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var q_=function(){function e(t){w(this,e),this.comparator=t?function(e,n){return t(e,n)||Ep.comparator(e.key,n.key)}:function(e,t){return Ep.comparator(e.key,t.key)},this.keyedMap=_y(),this.sortedSet=new Dv(this.comparator)}return S(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),W_=function(){function e(){w(this,e),this.Cu=new Dv(Ep.comparator)}return S(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):tp():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),G_=function(){function e(t,n,r,i,a,o,u,s,c){w(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return S(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,q_.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),K_=S((function e(){w(this,e),this.Nu=void 0,this.listeners=[]})),H_=S((function e(){w(this,e),this.queries=new gy((function(e){return hy(e)}),fy),this.onlineState="Unknown",this.ku=new Set}));function Q_(e,t){return Y_.apply(this,arguments)}function Y_(){return Y_=b(g().mark((function e(t,n){var r,i,a,o,u;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=rp(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new K_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=B_(e.t0,"Initialization of query '".concat(dy(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&ex(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Y_.apply(this,arguments)}function $_(e,t){return X_.apply(this,arguments)}function X_(){return X_=b(g().mark((function e(t,n){var r,i,a,o,u;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=rp(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),X_.apply(this,arguments)}function J_(e,t){var n,r=rp(e),i=!1,a=y(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=y(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Nu=o}}}catch(f){a.e(f)}finally{a.f()}i&&ex(r)}function Z_(e,t,n){var r=rp(e),i=r.queries.get(t);if(i){var a,o=y(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function ex(e){e.ku.forEach((function(e){e.next()}))}var tx=function(){function e(t,n,r){w(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return S(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=y(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new G_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=G_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}(),nx=function(){function e(t,n){w(this,e),this.Gu=t,this.byteLength=n}return S(e,[{key:"Qu",value:function(){return"metadata"in this.Gu}}]),e}(),rx=function(){function e(t){w(this,e),this.serializer=t}return S(e,[{key:"rr",value:function(e){return Hg(this.serializer,e)}},{key:"ur",value:function(e){return e.metadata.exists?Zg(this.serializer,e.document,!1):wm.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}},{key:"cr",value:function(e){return qg(e)}}]),e}(),ix=function(){function e(t,n,r){w(this,e),this.ju=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ax(t)}return S(e,[{key:"zu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;var n=xp.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Wu",value:function(e){var t,n=new Map,r=new rx(this.serializer),i=y(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.rr(a.metadata.name),s=y(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Ay()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=b(g().mark((function e(){var t,n,r,i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_w(this.localStore,new rx(this.serializer),this.documents,this.ju.id);case 2:t=e.sent,n=this.Wu(this.documents),r=y(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Sw(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function ax(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ox=S((function e(t){w(this,e),this.key=t})),ux=S((function e(t){w(this,e),this.key=t})),sx=function(){function e(t,n){w(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ay(),this.mutatedKeys=Ay(),this.tc=my(t),this.ec=new q_(this.tc)}return S(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new W_,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=py(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.tc(f,s)>0||c&&n.tc(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:u,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tp()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],u=0===this.Zu.size&&this.current?1:0,s=u!==this.Xu;return this.Xu=u,0!==a.length||s?{snapshot:new G_(this.query,e.ec,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new W_,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=Ay(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new ux(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new ox(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=Ay();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return G_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),cx=S((function e(t,n,r){w(this,e),this.query=t,this.targetId=n,this.view=r})),lx=S((function e(t){w(this,e),this.key=t,this.fc=!1})),fx=function(){function e(t,n,r,i,a,o){w(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new gy((function(e){return hy(e)}),fy),this._c=new Map,this.mc=new Set,this.gc=new Dv(Ep.comparator),this.yc=new Map,this.Ic=new Bb,this.Tc={},this.Ec=new Map,this.Ac=yb.Mn(),this.onlineState="Unknown",this.vc=void 0}return S(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function hx(e,t){return dx.apply(this,arguments)}function dx(){return dx=b(g().mark((function e(t,n){var r,i,a,o,u,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=aS(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,vw(r.localStore,sy(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,px(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&i_(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),dx.apply(this,arguments)}function px(e,t,n,r,i){return vx.apply(this,arguments)}function vx(){return vx=b(g().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=b(g().mark((function e(t,n,r,i){var a,o,u;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,gw(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Mx(t,n.targetId,u.cc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,gw(t.localStore,n,!0);case 3:return o=e.sent,u=new sx(n,o.ir),s=u.sc(o.documents),c=Tg.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),Mx(t,r,l.cc),f=new cx(n,r,u),e.abrupt("return",(t.wc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),vx.apply(this,arguments)}function mx(e,t){return yx.apply(this,arguments)}function yx(){return(yx=b(g().mark((function e(t,n){var r,i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=rp(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!fy(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,mw(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),a_(r.remoteStore,i.targetId),Rx(r,i.targetId)})).catch(jp);case 9:e.next=14;break;case 11:return Rx(r,i.targetId),e.next=14,mw(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gx(e,t,n){return kx.apply(this,arguments)}function kx(){return kx=b(g().mark((function e(t,n,r){var i,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=oS(t),e.prev=1,e.next=4,function(e,t){var n,r,i=rp(e),a=bp.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ay());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=by(),s=Ay();return i.Zi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=y(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=tg(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new ig(c.key,l,bm(l.value.mapValue),Yy.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:xy(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new Dv(yp)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,jx(i,a.changes);case 9:return e.next=11,w_(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=B_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),kx.apply(this,arguments)}function bx(e,t){return wx.apply(this,arguments)}function wx(){return(wx=b(g().mark((function e(t,n){var r,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rp(t),e.prev=1,e.next=4,hw(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(np(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?np(n.fc):e.removedDocuments.size>0&&(np(n.fc),n.fc=!1))})),e.next=8,jx(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,jp(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function _x(e,t,n){var r=rp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=rp(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=y(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&ex(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function xx(e,t,n){return Sx.apply(this,arguments)}function Sx(){return Sx=b(g().mark((function e(t,n,r){var i,a,o,u,s,c;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=rp(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Dv(Ep.comparator)).insert(o,wm.newNoDocument(o,wp.min())),s=Ay().add(o),c=new Eg(wp.min(),new Map,new Dv(yp),u,s),e.next=9,bx(i,c);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),Fx(i),e.next=16;break;case 14:return e.next=16,mw(i.localStore,n,!1).then((function(){return Rx(i,n,r)})).catch(jp);case 16:case"end":return e.stop()}}),e)}))),Sx.apply(this,arguments)}function Ix(e,t){return Ex.apply(this,arguments)}function Ex(){return(Ex=b(g().mark((function e(t,n){var r,i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rp(t),i=n.batch.batchId,e.prev=1,e.next=4,lw(r.localStore,n);case 4:return a=e.sent,Px(r,i,null),Nx(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,jx(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,jp(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Tx(e,t,n){return Cx.apply(this,arguments)}function Cx(){return(Cx=b(g().mark((function e(t,n,r){var i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rp(t),e.prev=1,e.next=4,function(e,t){var n=rp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return np(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Px(i,n,r),Nx(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,jx(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,jp(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Ax(e,t){return Ox.apply(this,arguments)}function Ox(){return(Ox=b(g().mark((function e(t,n){var r,i,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l_((r=rp(t)).remoteStore)||Xd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=rp(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ec.get(i)||[]).push(n),r.Ec.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=B_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function Nx(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function Px(e,t,n){var r=rp(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Rx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=y(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||Dx(e,t)}))}function Dx(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(a_(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Fx(e))}function Mx(e,t,n){var r,i=y(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof ox?(e.Ic.addReference(a.key,t),Lx(e,a)):a instanceof ux?(Xd("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||Dx(e,a.key)):tp()}}catch(o){i.e(o)}finally{i.f()}}function Lx(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Xd("SyncEngine","New document in limbo: "+n),e.mc.add(r),Fx(e))}function Fx(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new Ep(xp.fromString(t)),r=e.Ac.next();e.yc.set(r,new lx(n)),e.gc=e.gc.insert(n,r),i_(e.remoteStore,new vk(sy(ny(n.path)),r,"TargetPurposeLimboResolution",Jp.ct))}}function jx(e,t,n){return zx.apply(this,arguments)}function zx(){return zx=b(g().mark((function e(t,n,r){var i,a,o,u;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=rp(t),a=[],o=[],u=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){u.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=iw.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.dc.nu(a),e.next=9,function(){var e=b(g().mark((function e(t,n){var r,i,a,o,u,s,c,l;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rp(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Up.forEach(n,(function(t){return Up.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Up.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Gp(e.t0)){e.next=10;break}throw e.t0;case 10:Xd("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=y(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ji.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),zx.apply(this,arguments)}function Ux(e,t){return Vx.apply(this,arguments)}function Vx(){return(Vx=b(g().mark((function e(t,n){var r,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=rp(t)).currentUser.isEqual(n)){e.next=11;break}return Xd("SyncEngine","User change. New user:",n.toKey()),e.next=5,sw(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new ap(ip.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,jx(r,i.er);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bx(e,t){var n=rp(e),r=n.yc.get(t);if(r&&r.fc)return Ay().add(r.key);var i=Ay(),a=n._c.get(t);if(!a)return i;var o,u=y(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.wc.get(s);i=i.unionWith(c.view.nc)}}catch(l){u.e(l)}finally{u.f()}return i}function qx(e,t){return Wx.apply(this,arguments)}function Wx(){return(Wx=b(g().mark((function e(t,n){var r,i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rp(t),e.next=3,gw(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.hc(i),e.abrupt("return",(r.isPrimaryClient&&Mx(r,n.targetId,a.cc),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gx(e,t){return Kx.apply(this,arguments)}function Kx(){return(Kx=b(g().mark((function e(t,n){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rp(t),e.abrupt("return",bw(r.localStore,n).then((function(e){return jx(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hx(e,t,n,r){return Qx.apply(this,arguments)}function Qx(){return Qx=b(g().mark((function e(t,n,r,i){var a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=rp(t),e.next=3,function(e,t){var n=rp(e),r=rp(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Up.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,w_(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Px(a,n,i||null),Nx(a,n),function(e,t){rp(rp(e).mutationQueue).Cn(t)}(a.localStore,n)):tp();case 11:return e.next=13,jx(a,o);case 13:e.next=16;break;case 15:Xd("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Qx.apply(this,arguments)}function Yx(e,t){return $x.apply(this,arguments)}function $x(){return($x=b(g().mark((function e(t,n){var r,i,a,o,u,s,c,l;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(aS(r=rp(t)),oS(r),!0!==n||!0===r.vc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Xx(r,i.toArray());case 5:return a=e.sent,r.vc=!0,e.next=9,F_(r.remoteStore,!0);case 9:o=y(a);try{for(o.s();!(u=o.n()).done;)s=u.value,i_(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.vc){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Rx(r,t),mw(r.localStore,t,!0)})),a_(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Xx(r,c);case 21:return function(e){var t=rp(e);t.yc.forEach((function(e,n){a_(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new Dv(Ep.comparator)}(r),r.vc=!1,e.next=25,F_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xx(e,t,n){return Jx.apply(this,arguments)}function Jx(){return Jx=b(g().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,k;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=rp(t),a=[],o=[],u=y(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i._c.get(c))||0===f.length){e.next=34;break}return e.next=11,vw(i.localStore,sy(f[0]));case 11:l=e.sent,h=y(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.wc.get(p),e.next=20,qx(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,kw(i.localStore,c);case 36:return k=e.sent,e.next=39,vw(i.localStore,k);case 39:return l=e.sent,e.next=42,px(i,Zx(k),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.dc.nu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Jx.apply(this,arguments)}function Zx(e){return ty(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function eS(e){var t=rp(e);return rp(rp(t.localStore).persistence).$i()}function tS(e,t,n,r){return nS.apply(this,arguments)}function nS(){return nS=b(g().mark((function e(t,n,r,i){var a,o,u,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=rp(t)).vc){e.next=3;break}return e.abrupt("return",void Xd("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,bw(a.localStore,vy(o[0]));case 10:return u=e.sent,s=Eg.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Bv.EMPTY_BYTE_STRING),e.next=14,jx(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,mw(a.localStore,n,!0);case 17:return Rx(a,n,i),e.abrupt("break",20);case 19:tp();case 20:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}function rS(e,t,n){return iS.apply(this,arguments)}function iS(){return(iS=b(g().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=aS(t)).vc){e.next=45;break}a=y(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i._c.has(u)){e.next=10;break}return Xd("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,kw(i.localStore,u);case 12:return s=e.sent,e.next=15,vw(i.localStore,s);case 15:return c=e.sent,e.next=18,px(i,Zx(s),c.targetId,!1,c.resumeToken);case 18:i_(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=y(r),e.prev=30,h=g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,mw(i.localStore,t,!1).then((function(){a_(i.remoteStore,t),Rx(i,t)})).catch(jp);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function aS(e){var t=rp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=bx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xx.bind(null,t),t.dc.nu=J_.bind(null,t.eventManager),t.dc.Pc=Z_.bind(null,t.eventManager),t}function oS(e){var t=rp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ix.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Tx.bind(null,t),t}function uS(e,t,n){var r=rp(e);(function(){var e=b(g().mark((function e(t,n,r){var i,a,o,u,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=rp(e),r=qg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.qs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(ax(i)),a=new ix(i,t.localStore,n.serializer),e.next=15,n.bc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.zu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.bc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,jx(t,s.Ju,void 0);case 31:return e.next=33,function(e,t){var n=rp(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.qs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Hu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Zd("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var sS=function(){function e(){w(this,e),this.synchronizeTabs=!1}return S(e,[{key:"initialize",value:function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Kw(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return uw(this.persistence,new aw,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Qb($b.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Mw}},{key:"terminate",value:function(){var e=b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),cS=function(e){d(n,e);var t=m(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this)).Vc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return S(n,[{key:"initialize",value:function(){var e=b(g().mark((function e(t){var r=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(c(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Vc.initialize(this,t);case 4:return e.next=6,oS(this.Vc.syncEngine);case 6:return e.next=8,w_(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return uw(this.persistence,new aw,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Sb(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Xp(t,this.persistence);return new $p(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=rw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?cb.withCacheSize(this.cacheSizeBytes):cb.DEFAULT;return new ew(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ww(),Gw(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new Mw}}]),n}(sS),lS=function(e){d(n,e);var t=m(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e,r,!1)).Vc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return S(n,[{key:"initialize",value:function(){var e=b(g().mark((function e(t){var r,i=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(c(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof Dw,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:Hx.bind(null,r),zr:tS.bind(null,r),Wr:rS.bind(null,r),$i:eS.bind(null,r),Qr:Gx.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yx(i.Vc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=Ww();if(!Dw.D(t))throw new ap(ip.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=rw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Dw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(cS),fS=function(){function e(){w(this,e)}return S(e,[{key:"initialize",value:function(){var e=b(g().mark((function e(t,n){var r=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return _x(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ux.bind(null,this.syncEngine),e.next=12,F_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new H_}},{key:"createDatastore",value:function(e){var t,n=Kw(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new qw(t));return function(e,t,n,r){return new Xw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return _x(o.syncEngine,e,0)},a=Fw.D()?new Fw:new Lw,new Zw(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new fx(e,t,n,r,i,a);return o&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rp(t),Xd("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,n_(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function hS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return b(g().mark((function r(){var i;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var dS=function(){function e(t){w(this,e),this.observer=t,this.muted=!1}return S(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):Jd("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),pS=function(){function e(t,n){var r=this;w(this,e),this.Cc=t,this.serializer=n,this.metadata=new op,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((function(e){e&&e.Qu()?r.metadata.resolve(e.Gu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(function(e){return r.metadata.reject(e)}))}return S(e,[{key:"close",value:function(){return this.Cc.cancel()}},{key:"getMetadata",value:function(){var e=b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){var e=b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Nc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=b(g().mark((function e(){var t,n,r,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.kc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xc.decode(t),r=Number(n),isNaN(r)&&this.Mc("length string (".concat(n,") is not valid number")),e.next=9,this.$c(r);case 9:return i=e.sent,e.abrupt("return",new nx(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"kc",value:function(){var e=b(g().mark((function e(){var t,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.Fc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.Mc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$c",value:function(){var e=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Fc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Mc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mc",value:function(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Fc",value:function(){var e=b(g().mark((function e(){var t,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),vS=function(){function e(t){w(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return S(e,[{key:"lookup",value:function(){var e=b(g().mark((function e(t){var n,r=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new ap(ip.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=b(g().mark((function e(t,n){var r,i,a,o,u,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rp(t),i=$g(r.serializer)+"/documents",a={documents:n.map((function(e){return Kg(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=ek(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());np(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new lg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=b(g().mark((function e(){var t,n=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Ep.fromPath(t);n.mutations.push(new fg(r,n.precondition(r)))})),e.next=7,function(){var e=b(g().mark((function e(t,n){var r,i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rp(t),i=$g(r.serializer)+"/documents",a={writes:n.map((function(e){return tk(r.serializer,e)}))},e.next=3,r.Io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tp();t=wp.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ap(ip.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(wp.min())?Yy.exists(!1):Yy.updateTime(t):Yy.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wp.min()))throw new ap(ip.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yy.updateTime(t)}return Yy.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),mS=function(){function e(t,n,r,i,a){w(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new Hw(this.asyncQueue,"transaction_retry")}return S(e,[{key:"run",value:function(){this.Bc-=1,this.Lc()}},{key:"Lc",value:function(){var e=this;this.qo.No(b(g().mark((function t(){var n,r;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new vS(e.datastore),(r=e.qc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Uc(t)}))}))})).catch((function(t){e.Uc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"qc",value:function(e){try{var t=this.updateFunction(e);return!Zp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Uc",value:function(e){var t=this;this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!mg(t)}return!1}}]),e}(),yS=function(){function e(t,n,r,i){var a=this;w(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hd.UNAUTHENTICATED,this.clientId=mp.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xd("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Xd("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return S(e,[{key:"getConfiguration",value:function(){var e=b(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ap(ip.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new op;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(b(g().mark((function n(){var r;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=B_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function gS(e,t){return kS.apply(this,arguments)}function kS(){return kS=b(g().mark((function e(t,n){var r,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Xd("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,sw(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),kS.apply(this,arguments)}function bS(e,t){return wS.apply(this,arguments)}function wS(){return(wS=b(g().mark((function e(t,n){var r,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,xS(t);case 3:return r=e.sent,Xd("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return M_(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return M_(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _S(e){return"FirebaseError"===e.name?e.code===ip.FAILED_PRECONDITION||e.code===ip.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function xS(e){return SS.apply(this,arguments)}function SS(){return(SS=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Xd("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,gS(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),_S(n=e.t0)){e.next=13;break}throw n;case 13:return Zd("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,gS(t,new sS);case 16:e.next=21;break;case 18:return Xd("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,gS(t,new sS);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function IS(e){return ES.apply(this,arguments)}function ES(){return(ES=b(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Xd("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,bS(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Xd("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,bS(t,new fS);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TS(e){return xS(e).then((function(e){return e.persistence}))}function CS(e){return xS(e).then((function(e){return e.localStore}))}function AS(e){return IS(e).then((function(e){return e.remoteStore}))}function OS(e){return IS(e).then((function(e){return e.syncEngine}))}function NS(e){return IS(e).then((function(e){return e.datastore}))}function PS(e){return RS.apply(this,arguments)}function RS(){return(RS=b(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IS(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=hx.bind(null,n.syncEngine),r.onUnlisten=mx.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new op;return e.asyncQueue.enqueueAndForget(b(g().mark((function i(){return g().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new dS({next:function(a){t.enqueueAndForget((function(){return $_(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new ap(ip.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new ap(ip.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new tx(ny(n.path),a,{includeMetadataChanges:!0,Ku:!0});return Q_(e,o)},i.next=3,PS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function MS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new op;return e.asyncQueue.enqueueAndForget(b(g().mark((function i(){return g().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new dS({next:function(n){t.enqueueAndForget((function(){return $_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new ap(ip.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new tx(n,a,{includeMetadataChanges:!0,Ku:!0});return Q_(e,o)},i.next=3,PS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function LS(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var FS=new Map;function jS(e,t,n){if(!n)throw new ap(ip.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function zS(e,t,n,r){if(!0===t&&!0===r)throw new ap(ip.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function US(e){if(!Ep.isDocumentKey(e))throw new ap(ip.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function VS(e){if(Ep.isDocumentKey(e))throw new ap(ip.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function BS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":tp()}function qS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ap(ip.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=BS(e);throw new ap(ip.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function WS(e,t){if(t<=0)throw new ap(ip.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var GS=function(){function e(t){var n,r;if(w(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ap(ip.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ap(ip.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}zS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LS(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ap(ip.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ap(ip.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ap(ip.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return S(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),KS=function(){function e(t,n,r,i){w(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GS({}),this._settingsFrozen=!1}return S(e,[{key:"app",get:function(){if(!this._app)throw new ap(ip.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ap(ip.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GS(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new sp;switch(e.type){case"firstParty":return new hp(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ap(ip.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=FS.get(e);t&&(Xd("ComponentProvider","Removing Datastore"),FS.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function HS(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=qS(e,KS))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Zd("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Hd.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[R(JSON.stringify({alg:"none",type:"JWT"})),R(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new ap(ip.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Hd(s)}e._authCredentials=new cp(new up(o,u))}}var QS=function(){function e(t,n,r){w(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return S(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new $S(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),YS=function(){function e(t,n,r){w(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return S(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),$S=function(e){d(n,e);var t=m(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this,e,r,ny(i)))._path=i,a.type="collection",a}return S(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new QS(this.firestore,null,new Ep(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(YS);function XS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ae(e),jS("collection","path",t),e instanceof KS){var a=xp.fromString.apply(xp,[t].concat(r));return VS(a),new $S(e,null,a)}if(!(e instanceof QS||e instanceof $S))throw new ap(ip.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(xp.fromString.apply(xp,[t].concat(r)));return VS(o),new $S(e.firestore,null,o)}function JS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ae(e),1===arguments.length&&(t=mp.A()),jS("doc","path",t),e instanceof KS){var a=xp.fromString.apply(xp,[t].concat(r));return US(a),new QS(e,null,new Ep(a))}if(!(e instanceof QS||e instanceof $S))throw new ap(ip.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(xp.fromString.apply(xp,[t].concat(r)));return US(o),new QS(e.firestore,e instanceof $S?e.converter:null,new Ep(o))}function ZS(e,t){return e=ae(e),t=ae(t),(e instanceof QS||e instanceof $S)&&(t instanceof QS||t instanceof $S)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function eI(e,t){return e=ae(e),t=ae(t),e instanceof YS&&t instanceof YS&&e.firestore===t.firestore&&fy(e._query,t._query)&&e.converter===t.converter}var tI=function(){function e(){var t=this;w(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Hw(this,"async_queue_retry"),this.Xc=function(){var e=Gw();e&&Xd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=Gw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return S(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=Gw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new op;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=b(g().mark((function e(){var t=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Gp(e.t0)){e.next=12;break}throw e.t0;case 12:Xd("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Jd("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=V_.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&tp()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=b(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=y(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=y(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function nI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=y(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var rI=function(){function e(){w(this,e),this._progressObserver={},this._taskCompletionResolver=new op,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return S(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),iI=function(e){d(n,e);var t=m(n);function n(e,r,i,a){var o;return w(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new tI,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return S(n,[{key:"_terminate",value:function(){return this._firestoreClient||oI(this),this._firestoreClient.terminate()}}]),n}(KS);function aI(e){return e._firestoreClient||oI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function oI(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new $v(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,LS(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new yS(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function uI(e,t,n){var r=new op;return e.asyncQueue.enqueue(b(g().mark((function i(){var a;return g().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,gS(e,n);case 3:return i.next=5,bS(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),_S(a=i.t0)){i.next=13;break}throw a;case 13:Zd("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function sI(e){return function(e){return e.asyncQueue.enqueue(b(g().mark((function t(){var n,r;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,TS(e);case 2:return n=t.sent,t.next=5,AS(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=rp(e);return t.vu.delete(0),e_(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(aI(e=qS(e,iI)))}function cI(e){return function(e){return e.asyncQueue.enqueue(b(g().mark((function t(){var n,r;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,TS(e);case 2:return n=t.sent,t.next=5,AS(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=rp(t)).vu.add(0),e.next=4,n_(n);case 4:n.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(aI(e=qS(e,iI)))}function lI(e,t){var n=aI(e=qS(e,iI)),r=new rI;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new pS(e,t)}(function(e,t){if(e instanceof Uint8Array)return hS(e,t);if(e instanceof ArrayBuffer)return hS(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?bg().encode(e):e),t)}(n,Kw(t));e.asyncQueue.enqueueAndForget(b(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=uS,t.next=3,OS(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function fI(e,t){return function(e,t){return e.asyncQueue.enqueue(b(g().mark((function n(){return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=rp(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.qs.getNamedQuery(e,t)}))},n.next=3,CS(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(aI(e=qS(e,iI)),t).then((function(t){return t?new YS(e,null,t.query):null}))}function hI(e){if(e._initialized||e._terminated)throw new ap(ip.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var dI=function(){function e(t){w(this,e),this._byteString=t}return S(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Bv.fromBase64String(t))}catch(t){throw new ap(ip.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Bv.fromUint8Array(t))}}]),e}(),pI=function(){function e(){w(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new ap(ip.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ip(n)}return S(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var vI=S((function e(t){w(this,e),this._methodName=t})),mI=function(){function e(t,n){if(w(this,e),!isFinite(t)||t<-90||t>90)throw new ap(ip.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ap(ip.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return S(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return yp(this._lat,e._lat)||yp(this._long,e._long)}}]),e}(),yI=/^__.*__$/,gI=function(){function e(t,n,r){w(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return S(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new ig(e,this.data,this.fieldMask,t,this.fieldTransforms):new rg(e,this.data,t,this.fieldTransforms)}}]),e}(),kI=function(){function e(t,n,r){w(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return S(e,[{key:"toMutation",value:function(e,t){return new ig(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function bI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tp()}}var wI=function(){function e(t,n,r,i,a,o){w(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return S(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return VI(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(bI(this.ca)&&yI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),_I=function(){function e(t,n,r){w(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Kw(t)}return S(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new wI({ca:e,methodName:t,ga:n,path:Ip.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function xI(e){var t=e._freezeSettings(),n=Kw(e._databaseId);return new _I(e._databaseId,!!t.ignoreUndefinedProperties,n)}function SI(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);FI("Data must be an object, but it was:",o,r);var u,s,c=MI(r,o);if(a.merge)u=new Uv(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=y(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=jI(t,l.value,n);if(!o.contains(d))throw new ap(ip.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));BI(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new Uv(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new gI(new km(c),u,s)}var II=function(e){d(n,e);var t=m(n);function n(){return w(this,n),t.apply(this,arguments)}return S(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(vI);function EI(e,t,n){return new wI({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var TI=function(e){d(n,e);var t=m(n);function n(){return w(this,n),t.apply(this,arguments)}return S(n,[{key:"_toFieldTransform",value:function(e){return new Hy(e.path,new zy)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(vI),CI=function(e){d(n,e);var t=m(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e)).pa=r,i}return S(n,[{key:"_toFieldTransform",value:function(e){var t=EI(this,e,!0),n=this.pa.map((function(e){return DI(e,t)})),r=new Uy(n);return new Hy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vI),AI=function(e){d(n,e);var t=m(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e)).pa=r,i}return S(n,[{key:"_toFieldTransform",value:function(e){var t=EI(this,e,!0),n=this.pa.map((function(e){return DI(e,t)})),r=new By(n);return new Hy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vI),OI=function(e){d(n,e);var t=m(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e)).Ia=r,i}return S(n,[{key:"_toFieldTransform",value:function(e){var t=new Wy(e.serializer,Dy(e.serializer,this.Ia));return new Hy(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vI);function NI(e,t,n,r){var i=e.ya(1,t,n);FI("Data must be an object, but it was:",i,r);var a=[],o=km.empty();Pv(r,(function(e,r){var u=UI(t,e,n);r=ae(r);var s=i.da(u);if(r instanceof II)a.push(u);else{var c=DI(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Uv(a);return new kI(o,u,i.fieldTransforms)}function PI(e,t,n,r,i,a){var o=e.ya(1,t,n),u=[jI(t,r,n)],s=[i];if(a.length%2!=0)throw new ap(ip.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(jI(t,a[c])),s.push(a[c+1]);for(var l=[],f=km.empty(),h=u.length-1;h>=0;--h)if(!BI(l,u[h])){var d=u[h],p=s[h];p=ae(p);var v=o.da(d);if(p instanceof II)l.push(d);else{var m=DI(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Uv(l);return new kI(f,y,o.fieldTransforms)}function RI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return DI(n,e.ya(r?4:3,t))}function DI(e,t){if(LI(e=ae(e)))return FI("Unsupported field value:",t,e),MI(e,t);if(e instanceof vI)return function(e,t){if(!bI(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=y(e);try{for(a.s();!(n=a.n()).done;){var o=DI(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ae(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Dy(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=bp.fromDate(e);return{timestampValue:Ug(t.serializer,n)}}if(e instanceof bp){var r=new bp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ug(t.serializer,r)}}if(e instanceof mI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dI)return{bytesValue:Vg(t.serializer,e._byteString)};if(e instanceof QS){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Wg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(BS(e)))}(e,t)}function MI(e,t){var n={};return Rv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pv(e,(function(e,r){var i=DI(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function LI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof bp||e instanceof mI||e instanceof dI||e instanceof QS||e instanceof vI)}function FI(e,t,n){if(!LI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=BS(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function jI(e,t,n){if((t=ae(t))instanceof pI)return t._internalPath;if("string"==typeof t)return UI(e,t);throw VI("Field path arguments must be of type string or ",e,!1,void 0,n)}var zI=new RegExp("[~\\*/\\[\\]]");function UI(e,t,n){if(t.search(zI)>=0)throw VI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return C(pI,E(t.split(".")))._internalPath}catch(r){throw VI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function VI(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new ap(ip.INVALID_ARGUMENT,u+e+s)}function BI(e,t){return e.some((function(e){return e.isEqual(t)}))}var qI=function(){function e(t,n,r,i,a){w(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return S(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new QS(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new WI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(GI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),WI=function(e){d(n,e);var t=m(n);function n(){return w(this,n),t.apply(this,arguments)}return S(n,[{key:"data",value:function(){return l(c(n.prototype),"data",this).call(this)}}]),n}(qI);function GI(e,t){return"string"==typeof t?UI(e,t):t instanceof pI?t._internalPath:t._delegate._internalPath}function KI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ap(ip.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var HI=S((function e(){w(this,e)})),QI=function(e){d(n,e);var t=m(n);function n(){return w(this,n),t.apply(this,arguments)}return S(n)}(HI);function YI(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof HI&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof XI})).length,n=e.filter((function(e){return e instanceof $I})).length;if(t>1||t>0&&n>0)throw new ap(ip.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=y(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var $I=function(e){d(n,e);var t=m(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return S(n,[{key:"_apply",value:function(e){var t=this._parse(e);return cE(e._query,t),new YS(e.firestore,e.converter,cy(e._query,t))}},{key:"_parse",value:function(e){var t=xI(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new ap(ip.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){sE(o,a);var s,c=[],l=y(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(uE(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=uE(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||sE(o,a),u=RI(n,"where",o,"in"===a||"not-in"===a);return Cm.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(QI);var XI=function(e){d(n,e);var t=m(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return S(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Am.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=y(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;cE(r,a),r=cy(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new YS(e.firestore,e.converter,cy(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(HI);var JI=function(e){d(n,e);var t=m(n);function n(e,r){var i;return w(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return S(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ap(ip.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ap(ip.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Im(t,n);return function(e,t){if(null===iy(e)){var n=ay(e);null!==n&&lE(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new YS(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ey(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(QI);var ZI=function(e){d(n,e);var t=m(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return S(n,[{key:"_apply",value:function(e){return new YS(e.firestore,e.converter,ly(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(QI);var eE=function(e){d(n,e);var t=m(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return S(n,[{key:"_apply",value:function(e){var t=oE(e,this.type,this._docOrFields,this._inclusive);return new YS(e.firestore,e.converter,function(e,t){return new ey(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(QI);function tE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eE._create("startAt",t,!0)}function nE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eE._create("startAfter",t,!1)}var rE=function(e){d(n,e);var t=m(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return S(n,[{key:"_apply",value:function(e){var t=oE(e,this.type,this._docOrFields,this._inclusive);return new YS(e.firestore,e.converter,function(e,t){return new ey(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(QI);function iE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rE._create("endBefore",t,!1)}function aE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rE._create("endAt",t,!0)}function oE(e,t,n,r){if(n[0]=ae(n[0]),n[0]instanceof qI)return function(e,t,n,r,i){if(!r)throw new ap(ip.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=y(uy(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(um(t,r.key));else{var c=r.data.field(s.field);if(Hv(c))throw new ap(ip.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new ap(ip.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new _m(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=xI(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new ap(ip.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new ap(ip.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!oy(e)&&-1!==c.indexOf("/"))throw new ap(ip.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(xp.fromString(c));if(!Ep.isDocumentKey(l))throw new ap(ip.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Ep(l);u.push(um(t,f))}else{var h=RI(n,r,c);u.push(h)}}return new _m(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function uE(e,t,n){if("string"==typeof(n=ae(n))){if(""===n)throw new ap(ip.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oy(t)&&-1!==n.indexOf("/"))throw new ap(ip.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(xp.fromString(n));if(!Ep.isDocumentKey(r))throw new ap(ip.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return um(e,new Ep(r))}if(n instanceof QS)return um(e,n._key);throw new ap(ip.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(BS(n),"."))}function sE(e,t){if(!Array.isArray(e)||0===e.length)throw new ap(ip.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function cE(e,t){if(t.isInequality()){var n=ay(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new ap(ip.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=iy(e);null!==i&&lE(e,r,i)}var a=function(e,t){var n,r=y(e);try{for(r.s();!(n=r.n()).done;){var i,a=y(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new ap(ip.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ap(ip.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function lE(e,t,n){if(!n.isEqual(t))throw new ap(ip.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var fE=function(){function e(){w(this,e)}return S(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(em(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tp()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Pv(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new mI(Gv(e.latitude),Gv(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Qv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Yv(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Wv(e);return new bp(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=xp.fromString(e);np(pk(n));var r=new Xv(n.get(1),n.get(3)),i=new Ep(n.popFirst(5));return r.isEqual(t)||Jd("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function hE(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var dE=function(e){d(n,e);var t=m(n);function n(e){var r;return w(this,n),(r=t.call(this)).firestore=e,r}return S(n,[{key:"convertBytes",value:function(e){return new dI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new QS(this.firestore,null,t)}}]),n}(fE);var pE=function(){function e(t,n){w(this,e),this.hasPendingWrites=t,this.fromCache=n}return S(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),vE=function(e){d(n,e);var t=m(n);function n(e,r,i,a,o,u){var s;return w(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return S(n,[{key:"exists",value:function(){return l(c(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new mE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(GI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(qI),mE=function(e){d(n,e);var t=m(n);function n(){return w(this,n),t.apply(this,arguments)}return S(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(c(n.prototype),"data",this).call(this,e)}}]),n}(vE),yE=function(){function e(t,n,r,i){w(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new pE(i.hasPendingWrites,i.fromCache),this.query=r}return S(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new mE(n._firestore,n._userDataWriter,r.key,r,new pE(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ap(ip.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new mE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new pE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new mE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new pE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:gE(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function gE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tp()}}function kE(e,t){return e instanceof vE&&t instanceof vE?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof yE&&t instanceof yE&&e._firestore===t._firestore&&eI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var bE=function(e){d(n,e);var t=m(n);function n(e){var r;return w(this,n),(r=t.call(this)).firestore=e,r}return S(n,[{key:"convertBytes",value:function(e){return new dI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new QS(this.firestore,null,t)}}]),n}(fE);function wE(e){e=qS(e,QS);var t=qS(e.firestore,iI),n=aI(t),r=new bE(t);return function(e,t){var n=new op;return e.asyncQueue.enqueueAndForget(b(g().mark((function r(){return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=b(g().mark((function e(t,n,r){var i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=rp(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new ap(ip.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=B_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,CS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new vE(t,r,e._key,n,new pE(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function _E(e){e=qS(e,YS);var t=qS(e.firestore,iI),n=aI(t),r=new bE(t);return function(e,t){var n=new op;return e.asyncQueue.enqueueAndForget(b(g().mark((function r(){return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=b(g().mark((function e(t,n,r){var i,a,o,u,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gw(t,n,!0);case 3:i=e.sent,a=new sx(n,i.ir),o=a.sc(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=B_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,CS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new yE(t,r,e,n)}))}function xE(e,t,n){e=qS(e,QS);var r=qS(e.firestore,iI),i=hE(e.converter,t,n);return TE(r,[SI(xI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Yy.none())])}function SE(e,t,n){e=qS(e,QS);for(var r=qS(e.firestore,iI),i=xI(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return TE(r,[("string"==typeof(t=ae(t))||t instanceof pI?PI(i,"updateDoc",e._key,t,n,o):NI(i,"updateDoc",e._key,t)).toMutation(e._key,Yy.exists(!0))])}function IE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ae(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||nI(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(nI(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof QS)l=qS(e.firestore,iI),f=ny(e._key.path),c={next:function(t){n[s]&&n[s](CE(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=qS(e,YS);l=qS(p.firestore,iI),f=p._query;var v=new bE(l);c={next:function(e){n[s]&&n[s](new yE(l,v,p,e))},error:n[s+1],complete:n[s+2]},KI(e._query)}return function(e,t,n,r){var i=new dS(r),a=new tx(t,i,n);return e.asyncQueue.enqueueAndForget(b(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Q_,t.next=3,PS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(b(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=$_,t.next=3,PS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(aI(l),f,h,c)}function EE(e,t){return function(e,t){var n=new dS(t);return e.asyncQueue.enqueueAndForget(b(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){rp(e).ku.add(t),t.next()},t.next=3,PS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Dc(),e.asyncQueue.enqueueAndForget(b(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){rp(e).ku.delete(t)},t.next=3,PS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(aI(e=qS(e,iI)),nI(t)?t:{next:t})}function TE(e,t){return function(e,t){var n=new op;return e.asyncQueue.enqueueAndForget(b(g().mark((function r(){return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=gx,r.next=3,OS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(aI(e),t)}function CE(e,t,n){var r=n.docs.get(t._key),i=new bE(e);return new vE(e,i,t._key,r,new pE(n.hasPendingWrites,n.fromCache),t.converter)}var AE={maxAttempts:5},OE=function(){function e(t,n){w(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xI(t)}return S(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=NE(e,this._firestore),i=hE(r.converter,t,n),a=SI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Yy.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=NE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ae(t))||t instanceof pI?PI(this._dataReader,"WriteBatch.update",i._key,t,n,o):NI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Yy.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=NE(e,this._firestore);return this._mutations=this._mutations.concat(new lg(t._key,Yy.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new ap(ip.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function NE(e,t){if((e=ae(e)).firestore!==t)throw new ap(ip.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var PE=function(e){d(n,e);var t=m(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e,r))._firestore=e,i}return S(n,[{key:"get",value:function(e){var t=this,r=NE(e,this._firestore),i=new bE(this._firestore);return l(c(n.prototype),"get",this).call(this,e).then((function(e){return new vE(t._firestore,i,r._key,e._document,new pE(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){w(this,e),this._firestore=t,this._transaction=n,this._dataReader=xI(t)}return S(e,[{key:"get",value:function(e){var t=this,n=NE(e,this._firestore),r=new dE(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return tp();var i=e[0];if(i.isFoundDocument())return new qI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new qI(t._firestore,r,n._key,null,n.converter);throw tp()}))}},{key:"set",value:function(e,t,n){var r=NE(e,this._firestore),i=hE(r.converter,t,n),a=SI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=NE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ae(t))||t instanceof pI?PI(this._dataReader,"Transaction.update",i._key,t,n,o):NI(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=NE(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function RE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new CI("arrayUnion",t)}function DE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new AI("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Qd=e}(rt),$e(new oe("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new iI(new lp(e.getProvider("auth-internal")),new pp(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ap(ip.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xv(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ct(Kd,"3.12.0",e),ct(Kd,"3.12.0","esm2017")}();function ME(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ap("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function LE(){if("undefined"===typeof Uint8Array)throw new ap("unimplemented","Uint8Arrays are not available in this environment.")}function FE(){if("undefined"==typeof atob)throw new ap("unimplemented","Blobs are unavailable in Firestore in this environment.")}var jE=function(){function e(t){w(this,e),this._delegate=t}return S(e,[{key:"toBase64",value:function(){return FE(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return LE(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return FE(),new e(dI.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return LE(),new e(dI.fromUint8Array(t))}}]),e}();function zE(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=y(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var UE=function(){function e(){w(this,e)}return S(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){hI(e=qS(e,iI));var n=aI(e);if(n._uninitializedComponentsProvider)throw new ap(ip.FAILED_PRECONDITION,"SDK cache is already specified.");Zd("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new fS;return uI(n,i,new cS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){hI(e=qS(e,iI));var t=aI(e);if(t._uninitializedComponentsProvider)throw new ap(ip.FAILED_PRECONDITION,"SDK cache is already specified.");Zd("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new fS;return uI(t,r,new lS(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new ap(ip.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new op;return e._queue.enqueueAndForgetEvenWhileRestricted(b(g().mark((function n(){return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=b(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bp.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Bp.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(rw(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),VE=function(){function e(t,n,r){var i=this;w(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Xv||(this._appCompat=t)}return S(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Zd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};HS(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return sI(this._delegate)}},{key:"disableNetwork",value:function(){return cI(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&zS("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new op;return e.asyncQueue.enqueueAndForget(b(g().mark((function n(){return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Ax,n.next=3,OS(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(aI(e=qS(e,iI)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return EE(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new ap("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new tT(this,XS(this._delegate,e))}catch(t){throw HE(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new KE(this,JS(this._delegate,e))}catch(t){throw HE(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new JE(this,function(e,t){if(e=qS(e,KS),jS("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ap(ip.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new YS(e,null,function(e){return new ey(xp.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw HE(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=qS(e,iI);var r=Object.assign(Object.assign({},AE),n);return function(e){if(e.maxAttempts<1)throw new ap(ip.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new op;return e.asyncQueue.enqueueAndForget(b(g().mark((function i(){var a;return g().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,NS(e);case 2:a=i.sent,new mS(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(aI(e),(function(n){return t(new PE(e,n))}),r)}(this._delegate,(function(n){return e(new qE(t,n))}))}},{key:"batch",value:function(){var e=this;return aI(this._delegate),new WE(new OE(this._delegate,(function(t){return TE(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return lI(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return fI(this._delegate,e).then((function(e){return e?new JE(t,e):null}))}}]),e}(),BE=function(e){d(n,e);var t=m(n);function n(e){var r;return w(this,n),(r=t.call(this)).firestore=e,r}return S(n,[{key:"convertBytes",value:function(e){return new jE(new dI(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return KE.forKey(t,this.firestore,null)}}]),n}(fE);var qE=function(){function e(t,n){w(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new BE(t)}return S(e,[{key:"get",value:function(e){var t=this,n=nT(e);return this._delegate.get(n).then((function(e){return new $E(t._firestore,new vE(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=nT(e);return n?(ME("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=nT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=nT(e);return this._delegate.delete(t),this}}]),e}(),WE=function(){function e(t){w(this,e),this._delegate=t}return S(e,[{key:"set",value:function(e,t,n){var r=nT(e);return n?(ME("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=nT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=nT(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),GE=function(){function e(t,n,r){w(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return S(e,[{key:"fromFirestore",value:function(e,t){var n=new mE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new XE(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new BE(t),n),i.set(n,a)),a}}]),e}();GE.INSTANCES=new WeakMap;var KE=function(){function e(t,n){w(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new BE(t)}return S(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new tT(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new tT(this.firestore,XS(this._delegate,e))}catch(t){throw HE(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ae(e))instanceof QS&&ZS(this._delegate,e)}},{key:"set",value:function(e,t){t=ME("DocumentReference.set",t);try{return t?xE(this._delegate,e,t):xE(this._delegate,e)}catch(n){throw HE(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?SE(this._delegate,e):SE.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw HE(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return TE(qS(e.firestore,iI),[new lg(e._key,Yy.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QE(n),a=YE(n,(function(t){return new $E(e.firestore,new vE(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return IE(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?wE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=qS(e,QS);var t=qS(e.firestore,iI);return DS(aI(t),e._key,{source:"server"}).then((function(n){return CE(t,e,n)}))}(this._delegate):function(e){e=qS(e,QS);var t=qS(e.firestore,iI);return DS(aI(t),e._key).then((function(n){return CE(t,e,n)}))}(this._delegate)).then((function(e){return new $E(t.firestore,new vE(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(GE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new ap("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new QS(n._delegate,r,new Ep(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new QS(n._delegate,r,t))}}]),e}();function HE(e,t,n){return e.message=e.message.replace(t,n),e}function QE(e){var t,n=y(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!zE(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function YE(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=zE(e[0])?e[0]:zE(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var $E=function(){function e(t,n){w(this,e),this._firestore=t,this._delegate=n}return S(e,[{key:"ref",get:function(){return new KE(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return kE(this._delegate,e._delegate)}}]),e}(),XE=function(e){d(n,e);var t=m(n);function n(){return w(this,n),t.apply(this,arguments)}return S(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||tp()}(void 0!==t),t}}]),n}($E),JE=function(){function e(t,n){w(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new BE(t)}return S(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,YI(this._delegate,function(e,t,n){var r=t,i=GI("where",e);return $I._create(i,r,n)}(t,n,r)))}catch(i){throw HE(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,YI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=GI("orderBy",e);return JI._create(n,t)}(t,n)))}catch(r){throw HE(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,YI(this._delegate,function(e){return WS("limit",e),ZI._create("limit",e,"F")}(t)))}catch(n){throw HE(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,YI(this._delegate,function(e){return WS("limitToLast",e),ZI._create("limitToLast",e,"L")}(t)))}catch(n){throw HE(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,YI(this._delegate,tE.apply(void 0,arguments)))}catch(t){throw HE(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,YI(this._delegate,nE.apply(void 0,arguments)))}catch(t){throw HE(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,YI(this._delegate,iE.apply(void 0,arguments)))}catch(t){throw HE(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,YI(this._delegate,aE.apply(void 0,arguments)))}catch(t){throw HE(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return eI(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?_E(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=qS(e,YS);var t=qS(e.firestore,iI),n=aI(t),r=new bE(t);return MS(n,e._query,{source:"server"}).then((function(n){return new yE(t,r,e,n)}))}(this._delegate):function(e){e=qS(e,YS);var t=qS(e.firestore,iI),n=aI(t),r=new bE(t);return KI(e._query),MS(n,e._query).then((function(n){return new yE(t,r,e,n)}))}(this._delegate)).then((function(e){return new eT(t.firestore,new yE(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QE(n),a=YE(n,(function(t){return new eT(e.firestore,new yE(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return IE(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(GE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),ZE=function(){function e(t,n){w(this,e),this._firestore=t,this._delegate=n}return S(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new XE(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),eT=function(){function e(t,n){w(this,e),this._firestore=t,this._delegate=n}return S(e,[{key:"query",get:function(){return new JE(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new XE(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new ZE(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new XE(n._firestore,r))}))}},{key:"isEqual",value:function(e){return kE(this._delegate,e._delegate)}}]),e}(),tT=function(e){d(n,e);var t=m(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return S(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new KE(this.firestore,e):null}},{key:"doc",value:function(e){try{return new KE(this.firestore,void 0===e?JS(this._delegate):JS(this._delegate,e))}catch(t){throw HE(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=qS(e.firestore,iI),r=JS(e),i=hE(e.converter,t);return TE(n,[SI(xI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Yy.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new KE(t.firestore,e)}))}},{key:"isEqual",value:function(e){return ZS(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(GE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(JE);function nT(e){return qS(e,QS)}var rT=function(){function e(){w(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=C(pI,n)}return S(e,[{key:"isEqual",value:function(e){return(e=ae(e))instanceof pI&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Ip.keyField().canonicalString())}}]),e}(),iT=function(){function e(t){w(this,e),this._delegate=t}return S(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new TI("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new II("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=RE.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=DE.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new OI("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),aT={Firestore:VE,GeoPoint:mI,Timestamp:bp,Blob:jE,Transaction:qE,WriteBatch:WE,DocumentReference:KE,DocumentSnapshot:$E,Query:JE,QueryDocumentSnapshot:XE,QuerySnapshot:eT,CollectionReference:tT,FieldPath:rT,FieldValue:iT,setLogLevel:function(e){!function(e){Yd.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new oe("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},aT)))}(e,(function(e,t){return new VE(e,t,new UE)})),e.registerVersion("@firebase/firestore-compat","0.3.9")}(hs);var oT=hs.initializeApp({apiKey:"AIzaSyD3zzb8c8OlSBQpnvaIrpfOK9tZEh6lKfU",authDomain:"chat-app-raydevpro.firebaseapp.com",projectId:"chat-app-raydevpro",storageBucket:"chat-app-raydevpro.appspot.com",messagingSenderId:"5030388879",appId:"1:5030388879:web:113048b5c23d8cc368fcfa"}),uT=oT.firestore(),sT=oT.auth(),cT=new hs.auth.GoogleAuthProvider;function lT(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var fT=n(9613),hT=n.n(fT),dT="-ms-",pT="-moz-",vT="-webkit-",mT="comm",yT="rule",gT="decl",kT="@import",bT="@keyframes",wT="@layer",_T=Math.abs,xT=String.fromCharCode,ST=Object.assign;function IT(e){return e.trim()}function ET(e,t){return(e=t.exec(e))?e[0]:e}function TT(e,t,n){return e.replace(t,n)}function CT(e,t){return e.indexOf(t)}function AT(e,t){return 0|e.charCodeAt(t)}function OT(e,t,n){return e.slice(t,n)}function NT(e){return e.length}function PT(e){return e.length}function RT(e,t){return t.push(e),e}var DT=1,MT=1,LT=0,FT=0,jT=0,zT="";function UT(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:DT,column:MT,length:o,return:""}}function VT(e,t){return ST(UT("",null,null,"",null,null,0),e,{length:-e.length},t)}function BT(){return jT=FT>0?AT(zT,--FT):0,MT--,10===jT&&(MT=1,DT--),jT}function qT(){return jT=FT<LT?AT(zT,FT++):0,MT++,10===jT&&(MT=1,DT++),jT}function WT(){return AT(zT,FT)}function GT(){return FT}function KT(e,t){return OT(zT,e,t)}function HT(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function QT(e){return DT=MT=1,LT=NT(zT=e),FT=0,[]}function YT(e){return zT="",e}function $T(e){return IT(KT(FT-1,ZT(91===e?e+2:40===e?e+1:e)))}function XT(e){for(;(jT=WT())&&jT<33;)qT();return HT(e)>2||HT(jT)>3?"":" "}function JT(e,t){for(;--t&&qT()&&!(jT<48||jT>102||jT>57&&jT<65||jT>70&&jT<97););return KT(e,GT()+(t<6&&32==WT()&&32==qT()))}function ZT(e){for(;qT();)switch(jT){case e:return FT;case 34:case 39:34!==e&&39!==e&&ZT(jT);break;case 40:41===e&&ZT(e);break;case 92:qT()}return FT}function eC(e,t){for(;qT()&&e+jT!==57&&(e+jT!==84||47!==WT()););return"/*"+KT(t,FT-1)+"*"+xT(47===e?e:qT())}function tC(e){for(;!HT(WT());)qT();return KT(e,FT)}function nC(e,t){for(var n="",r=PT(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function rC(e,t,n,r){switch(e.type){case wT:if(e.children.length)break;case kT:case gT:return e.return=e.return||e.value;case mT:return"";case bT:return e.return=e.value+"{"+nC(e.children,r)+"}";case yT:e.value=e.props.join(",")}return NT(n=nC(e.children,r))?e.return=e.value+"{"+n+"}":""}function iC(e,t,n){switch(function(e,t){return 45^AT(e,0)?(((t<<2^AT(e,0))<<2^AT(e,1))<<2^AT(e,2))<<2^AT(e,3):0}(e,t)){case 5103:return vT+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return vT+e+e;case 4789:return pT+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return vT+e+pT+e+dT+e+e;case 5936:switch(AT(e,t+11)){case 114:return vT+e+dT+TT(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return vT+e+dT+TT(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return vT+e+dT+TT(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return vT+e+dT+e+e;case 6165:return vT+e+dT+"flex-"+e+e;case 5187:return vT+e+TT(e,/(\w+).+(:[^]+)/,vT+"box-$1$2"+dT+"flex-$1$2")+e;case 5443:return vT+e+dT+"flex-item-"+TT(e,/flex-|-self/g,"")+(ET(e,/flex-|baseline/)?"":dT+"grid-row-"+TT(e,/flex-|-self/g,""))+e;case 4675:return vT+e+dT+"flex-line-pack"+TT(e,/align-content|flex-|-self/g,"")+e;case 5548:return vT+e+dT+TT(e,"shrink","negative")+e;case 5292:return vT+e+dT+TT(e,"basis","preferred-size")+e;case 6060:return vT+"box-"+TT(e,"-grow","")+vT+e+dT+TT(e,"grow","positive")+e;case 4554:return vT+TT(e,/([^-])(transform)/g,"$1"+vT+"$2")+e;case 6187:return TT(TT(TT(e,/(zoom-|grab)/,vT+"$1"),/(image-set)/,vT+"$1"),e,"")+e;case 5495:case 3959:return TT(e,/(image-set\([^]*)/,vT+"$1$`$1");case 4968:return TT(TT(e,/(.+:)(flex-)?(.*)/,vT+"box-pack:$3"+dT+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+vT+e+e;case 4200:if(!ET(e,/flex-|baseline/))return dT+"grid-column-align"+OT(e,t)+e;break;case 2592:case 3360:return dT+TT(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,ET(e.props,/grid-\w+-end/)}))?~CT(e+(n=n[t].value),"span")?e:dT+TT(e,"-start","")+e+dT+"grid-row-span:"+(~CT(n,"span")?ET(n,/\d+/):+ET(n,/\d+/)-+ET(e,/\d+/))+";":dT+TT(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return ET(e.props,/grid-\w+-start/)}))?e:dT+TT(TT(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return TT(e,/(.+)-inline(.+)/,vT+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(NT(e)-1-t>6)switch(AT(e,t+1)){case 109:if(45!==AT(e,t+4))break;case 102:return TT(e,/(.+:)(.+)-([^]+)/,"$1"+vT+"$2-$3$1"+pT+(108==AT(e,t+3)?"$3":"$2-$3"))+e;case 115:return~CT(e,"stretch")?iC(TT(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return TT(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,a,o,u){return dT+n+":"+r+u+(i?dT+n+"-span:"+(a?o:+o-+r)+u:"")+e}));case 4949:if(121===AT(e,t+6))return TT(e,":",":"+vT)+e;break;case 6444:switch(AT(e,45===AT(e,14)?18:11)){case 120:return TT(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+vT+(45===AT(e,14)?"inline-":"")+"box$3$1"+vT+"$2$3$1"+dT+"$2box$3")+e;case 100:return TT(e,":",":"+dT)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return TT(e,"scroll-","scroll-snap-")+e}return e}function aC(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case gT:return void(e.return=iC(e.value,e.length,n));case bT:return nC([VT(e,{value:TT(e.value,"@","@"+vT)})],r);case yT:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(ET(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return nC([VT(e,{props:[TT(t,/:(read-\w+)/,":"+pT+"$1")]})],r);case"::placeholder":return nC([VT(e,{props:[TT(t,/:(plac\w+)/,":"+vT+"input-$1")]}),VT(e,{props:[TT(t,/:(plac\w+)/,":"+pT+"$1")]}),VT(e,{props:[TT(t,/:(plac\w+)/,dT+"input-$1")]})],r)}return""}))}}function oC(e){return YT(uC("",null,null,null,[""],e=QT(e),0,[0],e))}function uC(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,_=r,x=k;m;)switch(p=g,g=qT()){case 40:if(108!=p&&58==AT(x,f-1)){-1!=CT(x+=TT($T(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:x+=$T(g);break;case 9:case 10:case 13:case 32:x+=XT(p);break;case 92:x+=JT(GT()-1,7);continue;case 47:switch(WT()){case 42:case 47:RT(cC(eC(qT(),GT()),t,n),s);break;default:x+="/"}break;case 123*v:u[c++]=NT(x)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:-1==y&&(x=TT(x,/\f/g,"")),d>0&&NT(x)-f&&RT(d>32?lC(x+";",r,n,f-1):lC(TT(x," ","")+";",r,n,f-2),s);break;case 59:x+=";";default:if(RT(_=sC(x,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)uC(x,t,_,_,b,a,f,u,w);else switch(99===h&&110===AT(x,3)?100:h){case 100:case 108:case 109:case 115:uC(e,_,_,r&&RT(sC(e,_,_,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:uC(x,_,_,_,[""],w,0,u,w)}}c=l=d=0,v=y=1,k=x="",f=o;break;case 58:f=1+NT(x),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==BT())continue;switch(x+=xT(g),g*v){case 38:y=l>0?1:(x+="\f",-1);break;case 44:u[c++]=(NT(x)-1)*y,y=1;break;case 64:45===WT()&&(x+=$T(qT())),h=WT(),l=f=NT(k=x+=tC(GT())),g++;break;case 45:45===p&&2==NT(x)&&(v=0)}}return a}function sC(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=PT(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=OT(e,f+1,f=_T(v=o[p])),k=e;y<d;++y)(k=IT(v>0?h[y]+" "+g:TT(g,/&\f/g,h[y])))&&(s[m++]=k);return UT(e,t,n,0===i?yT:u,s,c,l)}function cC(e,t,n){return UT(e,t,n,mT,xT(jT),OT(e,2,-2),0)}function lC(e,t,n,r){return UT(e,t,n,gT,OT(e,0,r),OT(e,r+1,-1),r)}var fC={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hC="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",dC="undefined"!=typeof window&&"HTMLElement"in window,pC=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),vC={},mC=(new Set,Object.freeze([])),yC=Object.freeze({});function gC(e,t,n){return void 0===n&&(n=yC),e.theme!==n.theme&&e.theme||t||n.theme}var kC=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),bC=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,wC=/(^-|-$)/g;function _C(e){return e.replace(bC,"-").replace(wC,"")}var xC=/(a)(d)/gi,SC=function(e){return String.fromCharCode(e+(e>25?39:97))};function IC(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=SC(t%52)+n;return(SC(t%52)+n).replace(xC,"$1-$2")}var EC,TC=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},CC=function(e){return TC(5381,e)};function AC(e){return IC(CC(e)>>>0)}function OC(e){return e.displayName||e.name||"Component"}function NC(e){return"string"==typeof e&&!0}var PC="function"==typeof Symbol&&Symbol.for,RC=PC?Symbol.for("react.memo"):60115,DC=PC?Symbol.for("react.forward_ref"):60112,MC={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},LC={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},jC=((EC={})[DC]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},EC[RC]=FC,EC);function zC(e){return("type"in(t=e)&&t.type.$$typeof)===RC?FC:"$$typeof"in e?jC[e.$$typeof]:MC;var t}var UC=Object.defineProperty,VC=Object.getOwnPropertyNames,BC=Object.getOwnPropertySymbols,qC=Object.getOwnPropertyDescriptor,WC=Object.getPrototypeOf,GC=Object.prototype;function KC(e,t,n){if("string"!=typeof t){if(GC){var r=WC(t);r&&r!==GC&&KC(e,r,n)}var i=VC(t);BC&&(i=i.concat(BC(t)));for(var a=zC(e),o=zC(t),u=0;u<i.length;++u){var s=i[u];if(!(s in LC||n&&n[s]||o&&s in o||a&&s in a)){var c=qC(t,s);try{UC(e,s,c)}catch(e){}}}}return e}function HC(e){return"function"==typeof e}function QC(e){return"object"==typeof e&&"styledComponentId"in e}function YC(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function $C(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function XC(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function JC(e,t,n){if(void 0===n&&(n=!1),!n&&!XC(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=JC(e[r],t[r]);else if(XC(t))for(var r in t)e[r]=JC(e[r],t[r]);return e}function ZC(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var eA=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw ZC(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=(a=0,t.length);a<u;a++)this.tag.insertRule(o,t[a])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+="".concat(this.tag.getRule(a)).concat("/*!sc*/\n");return t},e}(),tA=new Map,nA=new Map,rA=1,iA=function(e){if(tA.has(e))return tA.get(e);for(;nA.has(rA);)rA++;var t=rA++;return tA.set(e,t),nA.set(t,e),t},aA=function(e,t){tA.set(e,t),nA.set(t,e)},oA="style[".concat(hC,"][").concat("data-styled-version",'="').concat("6.0.0-rc.1",'"]'),uA=new RegExp("^".concat(hC,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),sA=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},cA=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split("/*!sc*/\n"),i=[],a=0,o=r.length;a<o;a++){var u=r[a].trim();if(u){var s=u.match(uA);if(s){var c=0|parseInt(s[1],10),l=s[2];0!==c&&(aA(l,c),sA(e,l,s[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(u)}}};function lA(){return n.nc}var fA=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(hC))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(hC,"active"),r.setAttribute("data-styled-version","6.0.0-rc.1");var o=lA();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},hA=function(){function e(e){this.element=fA(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw ZC(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),dA=function(){function e(e){this.element=fA(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),pA=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),vA=dC,mA={isServer:!dC,useCSSOMInjection:!pC},yA=function(){function e(e,t,n){void 0===e&&(e=yC),void 0===t&&(t={}),this.options=Ct(Ct({},mA),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&dC&&vA&&(vA=!1,function(e){for(var t=document.querySelectorAll(oA),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(hC)&&(cA(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}return e.registerId=function(e){return iA(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Ct(Ct({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new pA(n):t?new hA(n):new dA(n)}(this.options),new eA(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(iA(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(iA(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(iA(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e.prototype.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return nA.get(e)}(n);if(void 0===i)return"continue";var a=e.names.get(i),o=t.getGroup(n);if(void 0===a||0===o.length)return"continue";var u="".concat(hC,".g").concat(n,'[id="').concat(i,'"]'),s="";void 0!==a&&a.forEach((function(e){e.length>0&&(s+="".concat(e,","))})),r+="".concat(o).concat(u,'{content:"').concat(s,'"}').concat("/*!sc*/\n")},a=0;a<n;a++)i(a);return r}(this)},e}(),gA=/&/g,kA=/^\s*\/\/.*$/gm;function bA(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=bA(e.children,t)),e}))}function wA(e){var t,n,r,i=void 0===e?yC:e,a=i.options,o=void 0===a?yC:a,u=i.plugins,s=void 0===u?mC:u,c=function(e,r,i){return i===n||i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},l=s.slice();o.prefix&&l.unshift(aC),l.push((function(e){e.type===yT&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(gA,n).replace(r,c))}),rC);var f=function(e,i,a,u){void 0===i&&(i=""),void 0===a&&(a=""),void 0===u&&(u="&"),t=u,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var s=e.replace(kA,""),c=oC(a||i?"".concat(a," ").concat(i," { ").concat(s," }"):s);return o.namespace&&(c=bA(c,o.namespace)),function(e,t){for(var n=[],r=0,i=void 0;r<e.length;r+=1)(i=t(e[r],r,e,t))&&n.push(i);return n}(c,function(e){var t=PT(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}(l))};return f.hash=s.length?s.reduce((function(e,t){return t.name||ZC(15),TC(e,t.name)}),5381).toString():"",f}var _A=new yA,xA=wA(),SA=s.createContext({shouldForwardProp:void 0,styleSheet:_A,stylis:xA}),IA=(SA.Consumer,s.createContext(void 0));function EA(){return(0,s.useContext)(SA)}function TA(e){var t=(0,s.useState)(e.stylisPlugins),n=t[0],r=t[1],i=EA().styleSheet,a=(0,s.useMemo)((function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,i]),o=(0,s.useMemo)((function(){return wA({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})}),[e.enableVendorPrefixes,e.namespace,n]);return(0,s.useEffect)((function(){hT()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),s.createElement(SA.Provider,{value:{shouldForwardProp:e.shouldForwardProp,styleSheet:a,stylis:o}},s.createElement(IA.Provider,{value:o},e.children))}var CA=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=xA);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){throw ZC(12,String(n.name))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=xA),this.name+e.hash},e}(),AA=function(e){return e>="A"&&e<="Z"};function OA(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;AA(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var NA=function(e){return null==e||!1===e||""===e},PA=function e(t){var n,r,i=[];for(var a in t){var o=t[a];t.hasOwnProperty(a)&&!NA(o)&&(Array.isArray(o)&&o.isCss||HC(o)?i.push("".concat(OA(a),":"),o,";"):XC(o)?i.push.apply(i,Ot(Ot(["".concat(a," {")],e(o),!1),["}"],!1)):i.push("".concat(OA(a),": ").concat((n=a,null==(r=o)||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||n in fC||n.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return i};function RA(e,t,n,r){return NA(e)?[]:QC(e)?[".".concat(e.styledComponentId)]:HC(e)?!HC(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:RA(e(t),t,n,r):e instanceof CA?n?(e.inject(n,r),[e.getName(r)]):[e]:XC(e)?PA(e):Array.isArray(e)?e.flatMap((function(e){return RA(e,t,n,r)})):[e.toString()];var i}function DA(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(HC(n)&&!QC(n))return!1}return!0}var MA=CC("6.0.0-rc.1"),LA=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&DA(e),this.componentId=t,this.baseHash=TC(MA,t),this.baseStyle=n,yA.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=YC(r,this.staticRulesId);else{var i=$C(RA(this.rules,e,t,n)),a=IC(TC(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,a)){var o=n(i,".".concat(a),void 0,this.componentId);t.insertRules(this.componentId,a,o)}r=YC(r,a),this.staticRulesId=a}else{for(var u=TC(this.baseHash,n.hash),s="",c=0;c<this.rules.length;c++){var l=this.rules[c];if("string"==typeof l)s+=l;else if(l){var f=$C(RA(l,e,t,n));u=TC(u,f),s+=f}}if(s){var h=IC(u>>>0);t.hasNameForId(this.componentId,h)||t.insertRules(this.componentId,h,n(s,".".concat(h),void 0,this.componentId)),r=YC(r,h)}}return r},e}(),FA=s.createContext(void 0);FA.Consumer;function jA(){return(0,s.useContext)(FA)}var zA={};function UA(e,t,n){var r=QC(e),i=e,a=!NC(e),o=t.attrs,u=void 0===o?mC:o,c=t.componentId,l=void 0===c?function(e,t){var n="string"!=typeof e?"sc":_C(e);zA[n]=(zA[n]||0)+1;var r="".concat(n,"-").concat(AC("6.0.0-rc.1"+n+zA[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):c,f=t.displayName,h=void 0===f?function(e){return NC(e)?"styled.".concat(e):"Styled(".concat(OC(e),")")}(e):f,d=t.displayName&&t.componentId?"".concat(_C(t.displayName),"-").concat(t.componentId):t.componentId||l,p=r&&i.attrs?i.attrs.concat(u).filter(Boolean):u,v=t.shouldForwardProp;if(r&&i.shouldForwardProp){var m=i.shouldForwardProp;if(t.shouldForwardProp){var y=t.shouldForwardProp;v=function(e,t){return m(e,t)&&y(e,t)}}else v=m}var g=new LA(n,d,r?i.componentStyle:void 0),k=g.isStatic&&0===u.length;function b(e,t){return function(e,t,n,r){var i=e.attrs,a=e.componentStyle,o=e.defaultProps,u=e.foldedComponentIds,c=e.styledComponentId,l=e.target,f=jA(),h=EA(),d=e.shouldForwardProp||h.shouldForwardProp,p=function(e,t,n){for(var r,i=Ct(Ct({},t),{className:void 0,theme:n}),a=0;a<e.length;a+=1){var o=HC(r=e[a])?r(i):r;for(var u in o)i[u]="className"===u?YC(i[u],o[u]):"style"===u?Ct(Ct({},i[u]),o[u]):o[u]}return t.className&&(i.className=YC(i.className,t.className)),i}(i,t,gC(t,f,o)||yC),v=p.as||l,m={};for(var y in p)void 0===p[y]||"$"===y[0]||"as"===y||"theme"===y||("forwardedAs"===y?m.as=p.forwardedAs:d&&!d(y,v)||(m[y]=p[y]));var g=function(e,t,n){var r=EA();return e.generateAndInjectStyles(t?yC:n,r.styleSheet,r.stylis)}(a,r,p),k=YC(u,c);return g&&(k+=" "+g),p.className&&(k+=" "+p.className),m[NC(v)&&!kC.has(v)?"class":"className"]=k,m.ref=n,(0,s.createElement)(v,m)}(w,e,t,k)}b.displayName=h;var w=s.forwardRef(b);return w.attrs=p,w.componentStyle=g,w.displayName=h,w.shouldForwardProp=v,w.foldedComponentIds=r?YC(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=d,w.target=r?i.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=r?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)JC(e,i[r],!0);return e}({},i.defaultProps,e):e}}),Object.defineProperty(w,"toString",{value:function(){return".".concat(w.styledComponentId)}}),a&&KC(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function VA(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var BA=function(e){return Object.assign(e,{isCss:!0})};function qA(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(HC(e)||XC(e))return BA(RA(VA(mC,Ot([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?RA(r):BA(RA(VA(r,t)))}function WA(e,t,n){if(void 0===n&&(n=yC),!t)throw ZC(1,t);var r=function(r){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return e(t,n,qA.apply(void 0,Ot([r],i,!1)))};return r.attrs=function(r){return WA(e,t,Ct(Ct({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return WA(e,t,Ct(Ct({},n),r))},r}var GA=function(e){return WA(UA,e)},KA=GA;kC.forEach((function(e){KA[e]=GA(e)}));var HA=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=DA(e),yA.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,t,n,r){var i=r($C(RA(this.rules,t,n,r)),""),a=this.componentId+e;n.insertRules(a,a,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&yA.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=lA(),r=$C([n&&'nonce="'.concat(n,'"'),"".concat(hC,'="true"'),"".concat("data-styled-version",'="').concat("6.0.0-rc.1",'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw ZC(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw ZC(2);var n=((t={})[hC]="",t["data-styled-version"]="6.0.0-rc.1",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=lA();return r&&(n.nonce=r),[s.createElement("style",Ct({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new yA({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw ZC(2);return s.createElement(TA,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw ZC(3)}})(),"__sc-".concat(hC,"__");var QA,YA,$A,XA,JA,ZA,eO,tO=KA.div(QA||(QA=lT(["\n  display: flex;\n  height: 100vh;\n  align-items: center;\n  justify-content: center;\n"]))),nO=KA.button(YA||(YA=lT(["\n  outline: none;\n  font-size: 18px;\n  padding: 14px 18px;\n  cursor: pointer;\n"]))),rO=n(184),iO=function(){return(0,rO.jsx)(tO,{children:(0,rO.jsx)(nO,{onClick:function(){sT.signInWithPopup(cT).catch(alert)},children:"Login com Google"})})},aO=n(8646),oO=KA.div($A||($A=lT(["\n  display: flex;\n  height: 100vh;\n  align-items: center;\n  justify-content: center;\n"]))),uO=function(){return(0,rO.jsx)(oO,{children:(0,rO.jsx)(aO.Cd,{})})},sO=KA.div(XA||(XA=lT(["\n  width: 35%;\n  max-width: 415px;\n  border-right: 1px solid #ddd;\n  height: 100vh;\n"]))),cO=KA.div(JA||(JA=lT(["\n  height: 59px;\n  background-color: #f0f2f5;\n  padding: 10px 16px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 5px;\n  box-shadow: 0 1px 2px #0003;\n"]))),lO=KA.img(ZA||(ZA=lT(["\n  width: 35px;\n  height: 35px;\n  cursor: pointer;\n  border-radius: 50%;\n"]))),fO=KA.div(eO||(eO=lT(["\n  display: flex;\n  gap: 10px;\n\n  svg {\n    width: 24px;\n    height: 24px;\n    color: #54656f;\n    cursor: pointer;\n  }\n"]))),hO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dO=s.createContext&&s.createContext(hO),pO=function(){return pO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pO.apply(this,arguments)},vO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function mO(e){return e&&e.map((function(e,t){return s.createElement(e.tag,pO({key:t},e.attr),mO(e.child))}))}function yO(e){return function(t){return s.createElement(gO,pO({attr:pO({},e.attr)},t),mO(e.child))}}function gO(e){var t=function(t){var n,r=e.attr,i=e.size,a=e.title,o=vO(e,["attr","size","title"]),u=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),s.createElement("svg",pO({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:pO(pO({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&s.createElement("title",null,a),e.children)};return void 0!==dO?s.createElement(dO.Consumer,null,(function(e){return t(e)})):t(hO)}function kO(e){return yO({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11 5.08V2c-5 .5-9 4.81-9 10s4 9.5 9 10v-3.08c-3-.48-6-3.4-6-6.92s3-6.44 6-6.92zM18.97 11H22c-.47-5-4-8.53-9-9v3.08C16 5.51 18.54 8 18.97 11zM13 18.92V22c5-.47 8.53-4 9-9h-3.03c-.43 3-2.97 5.49-5.97 5.92z"}}]})(e)}function bO(e){return yO({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}}]})(e)}function wO(e){return yO({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"}}]})(e)}function _O(e){return yO({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}}]})(e)}function xO(e){return yO({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}}]})(e)}function SO(e){return yO({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}}]})(e)}function IO(e){return yO({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}}]})(e)}var EO=n(9635);var TO,CO,AO,OO,NO,PO,RO,DO,MO,LO,FO,jO,zO,UO,VO,BO,qO,WO,GO,KO,HO,QO,YO,$O,XO,JO,ZO,eN=function(){return eN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},eN.apply(this,arguments)},tN=function(e){return{loading:void 0===e||null===e,value:e}},nN=function(e){var t=e?e():void 0,n=(0,s.useReducer)((function(e,t){switch(t.type){case"error":return eN(eN({},e),{error:t.error,loading:!1,value:void 0});case"reset":return tN(t.defaultValue);case"value":return eN(eN({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),tN(t)),r=n[0],i=n[1],a=(0,s.useCallback)((function(){var t=e?e():void 0;i({type:"reset",defaultValue:t})}),[e]),o=(0,s.useCallback)((function(e){i({type:"error",error:e})}),[]),u=(0,s.useCallback)((function(e){i({type:"value",value:e})}),[]);return(0,s.useMemo)((function(){return{error:r.error,loading:r.loading,reset:a,setError:o,setValue:u,value:r.value}}),[r.error,r.loading,a,o,u,r.value])},rN=function(e,t,n){var r=(0,s.useRef)(e);return(0,s.useEffect)((function(){t(e,r.current)||(r.current=e,n&&n())})),r},iN=function(e,t){var n=!e&&!t,r=!!e&&!!t&&eI(e,t);return n||r},aN=function(e,t){return rN(e,iN,t)},oN=function(e,t){var n=nN(),r=n.error,i=n.loading,a=n.reset,o=n.setError,u=n.setValue,c=n.value,l=aN(e,a);return(0,s.useEffect)((function(){if(l.current){var e=(null===t||void 0===t?void 0:t.snapshotListenOptions)?IE(l.current,t.snapshotListenOptions,u,o):IE(l.current,u,o);return function(){e()}}u(void 0)}),[l.current]),[c,i,r]},uN=function(e){var t=e.setUserChat,n=u(as(sT),1)[0],r=uT.collection("chats").where("users","array-contains",n.email),i=u(oN(r),1)[0],a=function(e){return!(null===i||void 0===i||!i.docs.find((function(t){var n;return(null===(n=t.data().users.find((function(t){return t===e})))||void 0===n?void 0:n.length)>0})))};return(0,rO.jsxs)(cO,{children:[(0,rO.jsx)(lO,{src:null===n||void 0===n?void 0:n.photoURL,onClick:function(){return[sT.signOut(),t(null)]}}),(0,rO.jsxs)(fO,{children:[(0,rO.jsx)(kO,{}),(0,rO.jsx)(wO,{onClick:function(){var e=prompt("Escriba el correo deseado");if(e)return EO.G(e)?e===n.email?alert("\xa1Ingrese un correo electr\xf3nico diferente al suyo!"):a(e)?alert("\xa1El chat ya existe!"):void uT.collection("chats").add({users:[n.email,e]}):alert("E-mail inv\xe1lido!")}}),(0,rO.jsx)(SO,{})]})]})},sN=KA.div(TO||(TO=lT(["\n  height: calc(100vh - 70px);\n  overflow-y: auto;\n\n  &::-webkit-scrollbar {\n    width: 6px;\n    border-radius: 10px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    border-radius: 10px;\n    background-color: rgba(0, 0, 0, 0.2);\n  }\n"]))),cN=KA.div(CO||(CO=lT([""]))),lN=KA.div(AO||(AO=lT(["\n  margin: 0 10px;\n  border-top: solid 1px #ddd;\n"]))),fN=KA.div(OO||(OO=lT(["\n  display: flex;\n  align-items: center;\n  justify-content: start;\n  padding: 15px 20px;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #f0f2f5;\n  }\n\n  svg {\n    width: 30px;\n    height: 30px;\n    background-color: #ccc;\n    border-radius: 50%;\n    margin-right: 10px;\n    min-width: fit-content;\n  }\n\n  &.active {\n    background-color: #f0f2f5;\n  }\n"]))),hN=KA.span(NO||(NO=lT(["\n  font-size: 18px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),dN=KA.img(PO||(PO=lT(["\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  margin-right: 10px;\n  min-width: fit-content;\n"]))),pN=function(e,t){return null===e||void 0===e?void 0:e.filter((function(e){return e!==(null===t||void 0===t?void 0:t.email)}))[0]},vN=function(e){var t,n,r=e.id,i=e.users,a=e.user,o=e.setUserChat,s=e.active,c=u(oN(uT.collection("users").where("email","==",pN(i,a))),1)[0],l=null===c||void 0===c||null===(t=c.docs)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.data(),f=pN(i,a);return(0,rO.jsxs)(fN,{onClick:function(){var e={chatId:r,name:f.split("@")[0],photoURL:null===l||void 0===l?void 0:l.photoURL};o(e)},className:s,children:[l?(0,rO.jsx)(dN,{src:null===l||void 0===l?void 0:l.photoURL}):(0,rO.jsx)(IO,{}),(0,rO.jsx)(hN,{children:f.split("@")[0]})]})},mN=function(e){var t=e.setUserChat,n=e.userChat,r=u(as(sT),1)[0],i=uT.collection("chats").where("users","array-contains",r.email),a=u(oN(i),1)[0];return(0,rO.jsx)(sN,{children:null===a||void 0===a?void 0:a.docs.map((function(e,i){return(0,rO.jsxs)(cN,{children:[(0,rO.jsx)(vN,{id:e.id,users:e.data().users,user:r,setUserChat:t,active:(null===n||void 0===n?void 0:n.chatId)===e.id?"active":""}),(0,rO.jsx)(lN,{})]},i)}))})},yN=function(e){var t=e.setUserChat,n=e.userChat;return(0,rO.jsxs)(sO,{children:[(0,rO.jsx)(uN,{setUserChat:t}),(0,rO.jsx)(mN,{setUserChat:t,userChat:n})]})},gN=KA.div(RO||(RO=lT(["\n  display: flex;\n  width: 100%;\n  height: 100vh;\n"]))),kN=KA.div(DO||(DO=lT(["\n  height: 59px;\n  background-color: #f0f2f5;\n  padding: 10px 16px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  box-shadow: 0 1px 2px #0003;\n  z-index: 1;\n"]))),bN=KA.div(MO||(MO=lT(["\n  display: flex;\n  align-items: center;\n\n  svg {\n    width: 30px;\n    height: 30px;\n    background-color: #ccc;\n    border-radius: 50%;\n    margin-right: 10px;\n    min-width: fit-content;\n  }\n"]))),wN=KA.div(LO||(LO=lT(["\n  display: grid;\n"]))),_N=KA.span(FO||(FO=lT(["\n  font-size: 18px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),xN=KA.img(jO||(jO=lT(["\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  margin-right: 10px;\n  min-width: fit-content;\n"]))),SN=KA.div(zO||(zO=lT(["\n  display: flex;\n  gap: 10px;\n\n  svg {\n    width: 24px;\n    height: 24px;\n    color: #54656f;\n    cursor: pointer;\n  }\n"]))),IN=function(e){var t=e.photoURL,n=e.name;return(0,rO.jsxs)(kN,{children:[(0,rO.jsxs)(bN,{children:[t?(0,rO.jsx)(xN,{src:t,alt:"Avatar"}):(0,rO.jsx)(IO,{}),(0,rO.jsx)(wN,{children:(0,rO.jsx)(_N,{children:n})})]}),(0,rO.jsxs)(SN,{children:[(0,rO.jsx)(bO,{}),(0,rO.jsx)(SO,{})]})]})},EN=KA.div(UO||(UO=lT(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),TN=KA.div(VO||(VO=lT(["\n  width: 100%;\n  background-color: #f8f8f8;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  gap: 20px;\n  padding: 20px;\n\n  svg {\n    width: 100px;\n    height: 100px;\n    color: #ff8000;\n  }\n"]))),CN=KA.h1(BO||(BO=lT(["\n  text-align: center;\n"]))),AN=KA.span(qO||(qO=lT(["\n  font-size: 18px;\n  text-align: center;\n  max-width: 500px;\n"]))),ON=function(){return(0,rO.jsxs)(TN,{children:[(0,rO.jsx)(_O,{}),(0,rO.jsx)(CN,{children:"Chat App RayDevPro"}),(0,rO.jsx)(AN,{children:"Ahora puede enviar y recibir mensajes sin tener que mantener su tel\xe9fono conectado a Internet."})]})},NN=KA.div(WO||(WO=lT(["\n  flex: 1;\n  background-color: #ffe6cc;\n  overflow-y: auto;\n\n  &::-webkit-scrollbar {\n    width: 6px;\n    border-radius: 10px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    border-radius: 10px;\n    background-color: rgba(0, 0, 0, 0.2);\n  }\n"]))),PN=KA.div(GO||(GO=lT([""]))),RN=KA.div(KO||(KO=lT(["\n  margin: 10px;\n  display: flex;\n\n  &.me {\n    > div {\n      background-color: #95b2d0;\n      box-shadow: 2px 3px 2px 3px #ccc;\n    }\n    justify-content: right;\n  }\n"]))),DN=KA.div(HO||(HO=lT(["\n  background-color: #fff;\n  border-radius: 10px;\n  box-shadow: 0 1px 1px #ccc;\n  display: flex;\n  flex-direction: column;\n  padding: 3px;\n  max-width: 80%;\n"]))),MN=KA.span(QO||(QO=lT(["\n  font-size: 14px;\n  margin: 5px 40px 5px 5px;\n"]))),LN=KA.span(YO||(YO=lT(["\n  font-size: 11px;\n  color: #666;\n  text-align: right;\n  height: 15px;\n  margin: -5px 5px 0;\n"]))),FN=function(e){var t=e.user,n=e.message,r=u(as(sT),1)[0];return(0,rO.jsx)(PN,{children:(0,rO.jsx)(RN,{className:(null===r||void 0===r?void 0:r.email)===t?"me":"",children:(0,rO.jsxs)(DN,{children:[(0,rO.jsx)(MN,{children:n.message}),(0,rO.jsx)(LN,{children:new Date(null===n||void 0===n?void 0:n.timestamp).toLocaleString()})]})})})},jN=function(e){var t=e.chatId,n=u(oN(uT.collection("chats").doc(t).collection("messages").orderBy("timestamp","asc")),1)[0],r=(0,s.useRef)("");return(0,s.useEffect)((function(){r.current.scrollHeight>r.current.offsetHeight&&(r.current.scrollTop=r.current.scrollHeight-r.current.offsetHeight)}),[n]),(0,rO.jsx)(NN,{ref:r,children:null===n||void 0===n?void 0:n.docs.map((function(e){var t;return(0,rO.jsx)(FN,{user:e.data().user,message:{message:e.data().message,timestamp:null===(t=e.data().timestamp)||void 0===t?void 0:t.toDate().getTime()}},e.id)}))})},zN=KA.div($O||($O=lT(["\n  height: 62px;\n  bottom: 0;\n  width: 100%;\n  padding: 10px 20px;\n  background-color: #f0f2f5;\n  display: flex;\n  box-shadow: 2px 1px 3px 1px #0003;\n\n  svg {\n    width: 25px;\n    height: 25px;\n    color: #54656f;\n  }\n"]))),UN=KA.form(XO||(XO=lT(["\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  width: 100%;\n"]))),VN=KA.input(JO||(JO=lT(["\n  padding: 10px;\n  outline: none;\n  border: none;\n  border-radius: 5px;\n  width: 100%;\n  box-shadow: inset 0 0 1px 1px #0003;\n"]))),BN=function(e){var t=e.chatId,n=u(as(sT),1)[0],r=u((0,s.useState)(""),2),i=r[0],a=r[1],o=function(e){e.preventDefault(),uT.collection("chats").doc(t).collection("messages").add({message:i,user:n.email,photoURL:n.photoURL,timestamp:hs.firestore.FieldValue.serverTimestamp()}),a("")};return(0,rO.jsx)(zN,{children:(0,rO.jsxs)(UN,{onSubmit:o,children:[(0,rO.jsx)(VN,{placeholder:"Mensajito",onChange:function(e){return a(e.target.value)},value:i}),(0,rO.jsx)(xO,{onClick:o})]})})},qN=function(e){var t=e.userChat;return t?(0,rO.jsxs)(EN,{children:[(0,rO.jsx)(IN,{photoURL:null===t||void 0===t?void 0:t.photoURL,name:null===t||void 0===t?void 0:t.name}),(0,rO.jsx)(jN,{chatId:null===t||void 0===t?void 0:t.chatId}),(0,rO.jsx)(BN,{chatId:null===t||void 0===t?void 0:t.chatId})]}):(0,rO.jsx)(ON,{})},WN=function(){var e=u(as(sT),2),t=e[0],n=e[1],r=u((0,s.useState)(null),2),i=r[0],a=r[1];return(0,s.useEffect)((function(){t&&uT.collection("user").doc(t.uid).set({email:t.email,photoURL:t.photoURL})}),[t]),n?(0,rO.jsx)(uO,{}):t?(0,rO.jsxs)(gN,{children:[(0,rO.jsx)(yN,{setUserChat:a,userChat:i}),(0,rO.jsx)(qN,{userChat:i})]}):(0,rO.jsx)(iO,{})},GN=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=qA.apply(void 0,Ot([e],t,!1)),i="sc-global-".concat(AC(JSON.stringify(r))),a=new HA(r,i),o=function(e){var t=EA(),n=jA(),r=s.useRef(t.styleSheet.allocateGSInstance(i)).current;return t.styleSheet.server&&u(r,e,t.styleSheet,n,t.stylis),(s.useInsertionEffect||s.useLayoutEffect)((function(){if(!t.styleSheet.server)return u(r,e,t.styleSheet,n,t.stylis),function(){return a.removeStyles(r,t.styleSheet)}}),[r,e,t.styleSheet,n,t.stylis]),null};function u(e,t,n,r,i){if(a.isStatic)a.renderStyles(e,vC,n,i);else{var u=Ct(Ct({},t),{theme:gC(t,r,o.defaultProps)});a.renderStyles(e,u,n,i)}}return s.memo(o)}(ZO||(ZO=lT(["\n  *{\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n  body{\n    width: 100vw;\n    height: 100vh;\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; \n  }\n"]))),KN=GN;(0,t.s)(document.querySelector("#root")).render((0,rO.jsxs)(rO.Fragment,{children:[(0,rO.jsx)(WN,{}),(0,rO.jsx)(KN,{})]}))}()}();
//# sourceMappingURL=main.f2d90637.js.map